"use strict";function onYouTubeIframeAPIReady(){ytp.YTAPIReady||(ytp.YTAPIReady=!0,jQuery(document).trigger("YTAPIReady"))}function uncamel(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}function setUnit(e,t){return"string"!=typeof e||e.match(/^[\-0-9\.]+jQuery/)?""+e+t:e}function setFilter(e,t,r){var i=uncamel(t),a=jQuery.browser.mozilla?"":jQuery.CSS.sfx;e[a+"filter"]=e[a+"filter"]||"",r=setUnit(r>jQuery.CSS.filters[t].max?jQuery.CSS.filters[t].max:r,jQuery.CSS.filters[t].unit),e[a+"filter"]+=i+"("+r+") ",delete e[t]}$(window).load(function(){var e=window.location.hash;e.length&&(0<=e.indexOf("project-")?parseInt(e.slice(-2))<=10?$("html, body").animate({scrollTop:$("#project-show").offset().top},1e3).promise().done(function(){document.getElementById(e.slice(1)).click()}):$("html, body").animate({scrollTop:$("#projects").offset().top},1e3).promise().done(function(){$("html, body").animate({scrollTop:$("#projects").offset().top},1e3)}):0<=["#home","#skills","#stats","#experience","#projects","#contact"].indexOf(e)&&$("html, body").animate({scrollTop:$(e).offset().top},1e3).promise().done(function(){$("html, body").animate({scrollTop:$(e).offset().top},1e3)})),$(".preloader").fadeOut(3e3)}),$(document).ready(function(){/Android|webOS|iPhone|iPad|iPod|BlackBerry|BB|PlayBook|IEMobile|Windows Phone|Kindle|Silk|Opera Mini/i.test(navigator.userAgent)?($("#home").css("display","none"),$("#mobile-background").css({"background-image":"url(/img/mobile_bg.jpg)",display:"block"})):$(".player").YTPlayer(),$(".header").sticky({topSpacing:0}),$("a[href*=#]").click(function(){var e=$(this.hash);if(e.length){var t=e.offset().top-50;return $("html, body").animate({scrollTop:t},1e3).promise().done(function(){history.pushState?history.pushState(null,null,e.selector):location.hash=e.selector}),!1}}),$(window).on("hashchange",function(){var e=window.location.hash;e.length&&0<=e.indexOf("project-")&&document.getElementById(e.slice(1)).click()}),$(".contactForm").validate({rules:{name:{required:!0,minlength:3},email:{required:!0,email:!0},message:{required:!0,minlength:20}}}),$.fn.countTo=function(a){a=$.extend({},$.fn.countTo.defaults,a||{});var n=Math.ceil(a.speed/a.refreshInterval),o=(a.to-a.from)/n;return $(this).each(function(){var e=this,t=0,r=a.from,i=setInterval(function(){r+=o,t++,$(e).html(Math.round(r).toLocaleString("en-US",{useGrouping:!0})),"function"==typeof a.onUpdate&&a.onUpdate.call(e,r);n<=t&&(clearInterval(i),r=a.to,"function"==typeof a.onComplete&&a.onComplete.call(e,r))},a.refreshInterval)})},$("#mobile-nav > li > a").first().click(function(){return $("html, body").animate({scrollTop:0},750),!1}),$(".logo").click(function(){return $("html, body").animate({scrollTop:0},750),!1}),$("#nav").onePageNav({currentClass:"current"}),$("#mobile-nav").onePageNav({currentClass:"mobile-current"});var o=$("#portfolio-grid");function e(){var e,t,r=$(window).width(),i=(e=$(window).width(),t=1,1250<e?t=5:1e3<e?t=4:750<e?t=3:400<e&&(t=2),t),a=Math.floor(r/i),n=Math.floor(.75*a);o.find(".element").each(function(){$(this).css({width:a+"px",height:n+"px"});var e=$(this).find("div").height()/2-49;$(this).find("div > span").css({margin:e+"px 20px"})})}function t(){e(),o.isotope("reLayout")}o.isotope({animationEngine:"best-available",animationOptions:{duration:200,queue:!1},layoutMode:"fitRows"}),$("#filters a").click(function(){$("#filters a").removeClass("active"),$(this).addClass("active"),o.isotope({filter:$(this).attr("data-option-value")}),t()});var r,i=null;function a(t){$.ajax({url:t,success:function(e){$(".project-content").html(e),$(".project-window").fadeIn("slow"),$(".close").click(function(){$(".project-window").slideUp("slow"),$("html, body").animate({scrollTop:$("#projects").offset().top},500).promise().done(function(){history.pushState?history.pushState(null,null,"#projects"):location.hash="#projects"})}),$(".next-button").click(function(){!function e(){(i=i.next().hasClass("final")?$($(".portfolioBase").next()):$(i.next())).hasClass("isotope-hidden")?e():a(i.attr("id")+".html")}(),$("html, body").animate({scrollTop:$("#project-show").offset().top},500)}),$(".prev-button").click(function(){!function e(){(i=i.prev().hasClass("portfolioBase")?$($(".final").prev()):$(i.prev())).hasClass("isotope-hidden")?e():a(i.attr("id")+".html")}(),$("html, body").animate({scrollTop:$("#project-show").offset().top},500)}),$("html, body").animate({scrollTop:$("#portfolio").offset().top},500).promise().done(function(){history.pushState?history.pushState(null,null,"#"+t.split(".")[0]):location.hash="#"+t.split("."[0])})}})}function n(){t(),$("#home").css("height",$(window).height())}$(".portfolio-element").click(function(){a($(this).attr("id")+".html"),i=$(this)}),$(".folio-btn").click(function(){$(".project-window").slideUp("slow")}),$(window).on("scroll",function(){$(".paraOn").each(function(){"parallax"===$(this).attr("class")?$(this).css("background-position","0 "+$(window).scrollTop()/3+"px"):$(this).css("background-position","0 "+(($(window).scrollTop()+$(window).height()-$(this).attr("yPos"))/3+$(this).height())+"px")}),$(this).scrollTop()>$(window).height()-1?$(".scrollup").fadeIn():$(".scrollup").fadeOut()}),$(window).on("resize",function(){clearTimeout(r),r=setTimeout(n,1e3)}),$(".skill-icon").mouseenter(function(){$(this).parent().find(".skill-hover").addClass("visible")}),$(".skill-icon").mouseleave(function(){$(this).parent().find(".skill-hover").removeClass("visible")}),$(".jump-menu").click(function(){$("#navbar").hasClass("active")?$("#navbar").removeClass("active"):$("#navbar").addClass("active")}),$("#navbar ul li a").click(function(){$("#navbar").removeClass("active")}),function(){$(".parallax").on("inview",function(e,t){if(!0===t){var r=$(this).offset();$(this).addClass("paraOn").attr("yPos",r.top)}else $(this).removeClass("paraOn")});var a,r=0;$(".stat-counter").on("inview",function(e,t){!0===t&&0===r&&(r++,$(".stat-counter").each(function(){var e,t,r,i;$(this).hasClass("dynamic")?(e=new Date("2018-04-23"),t=new Date,r=Date.UTC(t.getFullYear(),t.getMonth(),t.getDate()),i=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()),a=Math.floor((i-r)/864e5)):a=$(this).attr("data-value"),$(this).find(".stat-count").delay(6e3).countTo({from:0,to:a,speed:3e3,refreshInterval:50})}))}),$(".hideme").on("inview",function(e,t){!0===t&&$(this).removeClass("hideme")}),$(".horizontal-line").on("inview",function(e,t){!0===t&&$(".mobile-parallax-image").removeClass("hideme-slide")}),$(".work-exp-left-0").on("inview",function(e,t){!0===t&&($(".work-exp-left-0").addClass("animated fadeInRight"),$(".work-exp-left-0").removeClass("hideme"))}),$(".work-exp-right-0").on("inview",function(e,t){!0===t&&($(".work-exp-right-0").addClass("animated fadeInLeft"),$(".work-exp-right-0").removeClass("hideme"))}),$(".work-exp-left-1").on("inview",function(e,t){!0===t&&($(".work-exp-left-1").addClass("animated fadeInRight"),$(".work-exp-left-1").removeClass("hideme"))}),$(".work-exp-right-1").on("inview",function(e,t){!0===t&&($(".work-exp-right-1").addClass("animated fadeInLeft"),$(".work-exp-right-1").removeClass("hideme"))}),$(".work-exp-left-2").on("inview",function(e,t){!0===t&&($(".work-exp-left-2").addClass("animated fadeInRight"),$(".work-exp-left-2").removeClass("hideme"))}),$(".work-exp-right-2").on("inview",function(e,t){!0===t&&($(".work-exp-right-2").addClass("animated fadeInLeft"),$(".work-exp-right-2").removeClass("hideme"))})}(),o.imagesLoaded(function(){t()}),t(),$("#portfolio-grid > .portfolio-element").each(function(){$(this).hoverdir({hoverDelay:50})})}),function(o,t,e){o.HoverDir=function(e,t){this.$el=o(t),this._init(e)},o.HoverDir.defaults={speed:300,easing:"ease",hoverDelay:10,inverse:!1},o.HoverDir.prototype={_init:function(e){this.options=o.extend(!0,{},o.HoverDir.defaults,e),this.transitionProp="all "+this.options.speed+"ms "+this.options.easing,this.support=Modernizr.csstransitions,this._loadEvents()},_loadEvents:function(){var n=this;this.$el.on("mouseenter.hoverdir, mouseleave.hoverdir",function(e){var t=o(this),r=t.find("div"),i=n._getDir(t,{x:e.pageX,y:e.pageY}),a=n._getStyle(i);"mouseenter"===e.type?(r.hide().css(a.from),clearTimeout(n.tmhover),n.tmhover=setTimeout(function(){r.show(0,function(){var e=o(this);n.support&&e.css("transition",n.transitionProp),n._applyAnimation(e,a.to,n.options.speed)})},n.options.hoverDelay)):(n.support&&r.css("transition",n.transitionProp),clearTimeout(n.tmhover),n._applyAnimation(r,a.from,n.options.speed))})},_getDir:function(e,t){var r=e.width(),i=e.height(),a=(t.x-e.offset().left-r/2)*(i<r?i/r:1),n=(t.y-e.offset().top-i/2)*(r<i?r/i:1);return Math.round((Math.atan2(n,a)*(180/Math.PI)+180)/90+3)%4},_getStyle:function(e){var t,r,i={left:"0px",top:"-25%"},a={left:"0px",top:"25%"},n={left:"-25%",top:"0px"},o={left:"25%",top:"0px"},s={top:"0px"},l={left:"0px"};switch(e){case 0:t=this.options.inverse?a:i,r=s;break;case 1:t=this.options.inverse?n:o,r=l;break;case 2:t=this.options.inverse?i:a,r=s;break;case 3:t=this.options.inverse?o:n,r=l}return{from:t,to:r}},_applyAnimation:function(e,t,r){o.fn.applyStyle=this.support?o.fn.css:o.fn.animate,e.stop().applyStyle(t,o.extend(!0,[],{duration:r+"ms"}))}};var i=function(e){t.console&&t.console.error(e)};o.fn.hoverdir=function(e){var t=o.data(this,"hoverdir");if("string"==typeof e){var r=Array.prototype.slice.call(arguments,1);this.each(function(){t?o.isFunction(t[e])&&"_"!==e.charAt(0)?t[e].apply(t,r):i("no such method '"+e+"' for hoverdir instance"):i("cannot call methods on hoverdir prior to initialization; attempted to call method '"+e+"'")})}else this.each(function(){t?t._init():t=o.data(this,"hoverdir",new o.HoverDir(e,this))});return t}}(jQuery,window),function(o){o(window).scroll(function(){var e,t,a=(e=window.innerHeight,((t=document.compatMode)||!o.support.boxModel)&&(e="CSS1Compat"==t?document.documentElement.clientHeight:document.body.clientHeight),e),n=document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop,r=[];o.each(o.cache,function(){this.events&&this.events.inview&&r.push(this.handle.elem)}),r.length&&o(r).each(function(){var e=o(this),t=e.offset().top,r=e.height(),i=e.data("inview")||!1;t+r<n||n+a<t?i&&(e.data("inview",!1),e.trigger("inview",[!1])):n<t+r&&(i||(e.data("inview",!0),e.trigger("inview",[!0])))})}),o(function(){o(window).scroll()})}(jQuery),function(t,m,e){var r,g,v,n=t.document,T=t.Modernizr,l=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},o="Moz Webkit O Ms".split(" "),a=function(e){var t,r=n.documentElement.style;if("string"==typeof r[e])return e;e=l(e);for(var i=0,a=o.length;i<a;i++)if("string"==typeof r[t=o[i]+e])return t},u=a("transform"),i=a("transitionProperty"),s={csstransforms:function(){return!!u},csstransforms3d:function(){var e=!!a("perspective");if(e){var t="@media ("+" -o- -moz- -ms- -webkit- -khtml- ".split(" ").join("transform-3d),(")+"modernizr)",r=m("<style>"+t+"{#modernizr{height:3px}}</style>").appendTo("head"),i=m('<div id="modernizr" />').appendTo("html");e=3===i.height(),i.remove(),r.remove()}return e},csstransitions:function(){return!!i}};if(T)for(r in s)T.hasOwnProperty(r)||T.addTest(r,s[r]);else{T=t.Modernizr={_version:"1.6ish: miniModernizr for Isotope"};var c,d=" ";for(r in s)c=s[r](),d+=" "+((T[r]=c)?"":"no-")+r;m("html").addClass(d)}if(T.csstransforms){var h=T.csstransforms3d?{translate:function(e){return"translate3d("+e[0]+"px, "+e[1]+"px, 0) "},scale:function(e){return"scale3d("+e+", "+e+", 1) "}}:{translate:function(e){return"translate("+e[0]+"px, "+e[1]+"px) "},scale:function(e){return"scale("+e+") "}},y=function(e,t,r){var i,a,n=m.data(e,"isoTransform")||{},o={},s={};for(i in o[t]=r,m.extend(n,o),n)a=n[i],s[i]=h[i](a);var l=(s.translate||"")+(s.scale||"");m.data(e,"isoTransform",n),e.style[u]=l};m.cssNumber.scale=!0,m.cssHooks.scale={set:function(e,t){y(e,"scale",t)},get:function(e,t){var r=m.data(e,"isoTransform");return r&&r.scale?r.scale:1}},m.fx.step.scale=function(e){m.cssHooks.scale.set(e.elem,e.now+e.unit)},m.cssNumber.translate=!0,m.cssHooks.translate={set:function(e,t){y(e,"translate",t)},get:function(e,t){var r=m.data(e,"isoTransform");return r&&r.translate?r.translate:[0,0]}}}T.csstransitions&&(g={WebkitTransitionProperty:"webkitTransitionEnd",MozTransitionProperty:"transitionend",OTransitionProperty:"oTransitionEnd otransitionend",transitionProperty:"transitionend"}[i],v=a("transitionDuration"));var p,f=m.event,P=m.event.handle?"handle":"dispatch";f.special.smartresize={setup:function(){m(this).bind("resize",f.special.smartresize.handler)},teardown:function(){m(this).unbind("resize",f.special.smartresize.handler)},handler:function(e,t){var r=this,i=arguments;e.type="smartresize",p&&clearTimeout(p),p=setTimeout(function(){f[P].apply(r,i)},"execAsap"===t?0:100)}},m.fn.smartresize=function(e){return e?this.bind("smartresize",e):this.trigger("smartresize",["execAsap"])},m.Isotope=function(e,t,r){this.element=m(t),this._create(e),this._init(r)};var b=["width","height"],Y=m(t);m.Isotope.settings={resizable:!0,layoutMode:"masonry",containerClass:"isotope",itemClass:"isotope-item",hiddenClass:"isotope-hidden",hiddenStyle:{opacity:0,scale:.001},visibleStyle:{opacity:1,scale:1},containerStyle:{position:"relative",overflow:"hidden"},animationEngine:"best-available",animationOptions:{queue:!1,duration:800},sortBy:"original-order",sortAscending:!0,resizesContainer:!0,transformsEnabled:!0,itemPositionDataEnabled:!1},m.Isotope.prototype={_create:function(e){this.options=m.extend({},m.Isotope.settings,e),this.styleQueue=[],this.elemCount=0;var t=this.element[0].style;this.originalStyle={};var r=b.slice(0);for(var i in this.options.containerStyle)r.push(i);for(var a=0,n=r.length;a<n;a++)i=r[a],this.originalStyle[i]=t[i]||"";this.element.css(this.options.containerStyle),this._updateAnimationEngine(),this._updateUsingTransforms();var o={"original-order":function(e,t){return t.elemCount++,t.elemCount},random:function(){return Math.random()}};this.options.getSortData=m.extend(this.options.getSortData,o),this.reloadItems(),this.offset={left:parseInt(this.element.css("padding-left")||0,10),top:parseInt(this.element.css("padding-top")||0,10)};var s=this;setTimeout(function(){s.element.addClass(s.options.containerClass)},0),this.options.resizable&&Y.bind("smartresize.isotope",function(){s.resize()}),this.element.delegate("."+this.options.hiddenClass,"click",function(){return!1})},_getAtoms:function(e){var t=this.options.itemSelector,r=t?e.filter(t).add(e.find(t)):e,i={position:"absolute"};return r=r.filter(function(e,t){return 1===t.nodeType}),this.usingTransforms&&(i.left=0,i.top=0),r.css(i).addClass(this.options.itemClass),this.updateSortData(r,!0),r},_init:function(e){this.$filteredAtoms=this._filter(this.$allAtoms),this._sort(),this.reLayout(e)},option:function(e){var t;if(m.isPlainObject(e))for(var r in this.options=m.extend(!0,this.options,e),e)this[t="_update"+l(r)]&&this[t]()},_updateAnimationEngine:function(){var e;switch(this.options.animationEngine.toLowerCase().replace(/[ _\-]/g,"")){case"css":case"none":e=!1;break;case"jquery":e=!0;break;default:e=!T.csstransitions}this.isUsingJQueryAnimation=e,this._updateUsingTransforms()},_updateTransformsEnabled:function(){this._updateUsingTransforms()},_updateUsingTransforms:function(){var e=this.usingTransforms=this.options.transformsEnabled&&T.csstransforms&&T.csstransitions&&!this.isUsingJQueryAnimation;e||(delete this.options.hiddenStyle.scale,delete this.options.visibleStyle.scale),this.getPositionStyles=e?this._translate:this._positionAbs},_filter:function(e){var t=""===this.options.filter?"*":this.options.filter;if(!t)return e;var r=this.options.hiddenClass,i="."+r,a=e.filter(i),n=a;if("*"!==t){n=a.filter(t);var o=e.not(i).not(t).addClass(r);this.styleQueue.push({$el:o,style:this.options.hiddenStyle})}return this.styleQueue.push({$el:n,style:this.options.visibleStyle}),n.removeClass(r),e.filter(t)},updateSortData:function(e,t){var r,i,a=this,n=this.options.getSortData;e.each(function(){for(var e in r=m(this),i={},n)i[e]=t||"original-order"!==e?n[e](r,a):m.data(this,"isotope-sort-data")[e];m.data(this,"isotope-sort-data",i)})},_sort:function(){var a=this.options.sortBy,n=this._getSorter,o=this.options.sortAscending?1:-1;this.$filteredAtoms.sort(function(e,t){var r=n(e,a),i=n(t,a);return r===i&&"original-order"!==a&&(r=n(e,"original-order"),i=n(t,"original-order")),(i<r?1:r<i?-1:0)*o})},_getSorter:function(e,t){return m.data(e,"isotope-sort-data")[t]},_translate:function(e,t){return{translate:[e,t]}},_positionAbs:function(e,t){return{left:e,top:t}},_pushPosition:function(e,t,r){t=Math.round(t+this.offset.left),r=Math.round(r+this.offset.top);var i=this.getPositionStyles(t,r);this.styleQueue.push({$el:e,style:i}),this.options.itemPositionDataEnabled&&e.data("isotope-item-position",{x:t,y:r})},layout:function(e,t){var r=this.options.layoutMode;if(this["_"+r+"Layout"](e),this.options.resizesContainer){var i=this["_"+r+"GetContainerSize"]();this.styleQueue.push({$el:this.element,style:i})}this._processStyleQueue(e,t),this.isLaidOut=!0},_processStyleQueue:function(i,e){var r,t,a,n,o=this.isLaidOut&&this.isUsingJQueryAnimation?"animate":"css",s=this.options.animationOptions,l=this.options.onLayout;if(t=function(e,t){t.$el[o](t.style,s)},this._isInserting&&this.isUsingJQueryAnimation)t=function(e,t){r=t.$el.hasClass("no-transition")?"css":o,t.$el[r](t.style,s)};else if(e||l||s.complete){var u=!1,c=[e,l,s.complete],d=this;if(a=!0,n=function(){if(!u){for(var e,t=0,r=c.length;t<r;t++)"function"==typeof(e=c[t])&&e.call(d.element,i,d);u=!0}},this.isUsingJQueryAnimation&&"animate"===o)s.complete=n,a=!1;else if(T.csstransitions){for(var h,y=0,p=this.styleQueue[0],f=p&&p.$el;!f||!f.length;){if(!(h=this.styleQueue[y++]))return;f=h.$el}0<parseFloat(getComputedStyle(f[0])[v])&&(a=!(t=function(e,t){t.$el[o](t.style,s).one(g,n)}))}}m.each(this.styleQueue,t),a&&n(),this.styleQueue=[]},resize:function(){this["_"+this.options.layoutMode+"ResizeChanged"]()&&this.reLayout()},reLayout:function(e){this["_"+this.options.layoutMode+"Reset"](),this.layout(this.$filteredAtoms,e)},addItems:function(e,t){var r=this._getAtoms(e);this.$allAtoms=this.$allAtoms.add(r),t&&t(r)},insert:function(e,r){this.element.append(e);var i=this;this.addItems(e,function(e){var t=i._filter(e);i._addHideAppended(t),i._sort(),i.reLayout(),i._revealAppended(t,r)})},appended:function(e,t){var r=this;this.addItems(e,function(e){r._addHideAppended(e),r.layout(e),r._revealAppended(e,t)})},_addHideAppended:function(e){this.$filteredAtoms=this.$filteredAtoms.add(e),e.addClass("no-transition"),this._isInserting=!0,this.styleQueue.push({$el:e,style:this.options.hiddenStyle})},_revealAppended:function(e,t){var r=this;setTimeout(function(){e.removeClass("no-transition"),r.styleQueue.push({$el:e,style:r.options.visibleStyle}),r._isInserting=!1,r._processStyleQueue(e,t)},10)},reloadItems:function(){this.$allAtoms=this._getAtoms(this.element.children())},remove:function(e,t){this.$allAtoms=this.$allAtoms.not(e),this.$filteredAtoms=this.$filteredAtoms.not(e);var r=this,i=function(){e.remove(),t&&t.call(r.element)};e.filter(":not(."+this.options.hiddenClass+")").length?(this.styleQueue.push({$el:e,style:this.options.hiddenStyle}),this._sort(),this.reLayout(i)):i()},shuffle:function(e){this.updateSortData(this.$allAtoms),this.options.sortBy="random",this._sort(),this.reLayout(e)},destroy:function(){var t=this.usingTransforms,e=this.options;this.$allAtoms.removeClass(e.hiddenClass+" "+e.itemClass).each(function(){var e=this.style;e.position="",e.top="",e.left="",e.opacity="",t&&(e[u]="")});var r=this.element[0].style;for(var i in this.originalStyle)r[i]=this.originalStyle[i];this.element.unbind(".isotope").undelegate("."+e.hiddenClass,"click").removeClass(e.containerClass).removeData("isotope"),Y.unbind(".isotope")},_getSegments:function(e){var t,r=this.options.layoutMode,i=e?"rowHeight":"columnWidth",a=e?"height":"width",n=e?"rows":"cols",o=this.element[a](),s=this.options[r]&&this.options[r][i]||this.$filteredAtoms["outer"+l(a)](!0)||o;t=Math.floor(o/s),t=Math.max(t,1),this[r][n]=t,this[r][i]=s},_checkIfSegmentsChanged:function(e){var t=this.options.layoutMode,r=e?"rows":"cols",i=this[t][r];return this._getSegments(e),this[t][r]!==i},_masonryReset:function(){this.masonry={},this._getSegments();var e=this.masonry.cols;for(this.masonry.colYs=[];e--;)this.masonry.colYs.push(0)},_masonryLayout:function(e){var o=this,s=o.masonry;e.each(function(){var e=m(this),t=Math.ceil(e.outerWidth(!0)/s.columnWidth);if(1===(t=Math.min(t,s.cols)))o._masonryPlaceBrick(e,s.colYs);else{var r,i,a=s.cols+1-t,n=[];for(i=0;i<a;i++)r=s.colYs.slice(i,i+t),n[i]=Math.max.apply(Math,r);o._masonryPlaceBrick(e,n)}})},_masonryPlaceBrick:function(e,t){for(var r=Math.min.apply(Math,t),i=0,a=0,n=t.length;a<n;a++)if(t[a]===r){i=a;break}var o=this.masonry.columnWidth*i,s=r;this._pushPosition(e,o,s);var l=r+e.outerHeight(!0),u=this.masonry.cols+1-n;for(a=0;a<u;a++)this.masonry.colYs[i+a]=l},_masonryGetContainerSize:function(){return{height:Math.max.apply(Math,this.masonry.colYs)}},_masonryResizeChanged:function(){return this._checkIfSegmentsChanged()},_fitRowsReset:function(){this.fitRows={x:0,y:0,height:0}},_fitRowsLayout:function(e){var i=this,a=this.element.width(),n=this.fitRows;e.each(function(){var e=m(this),t=e.outerWidth(!0),r=e.outerHeight(!0);0!==n.x&&t+n.x>a&&(n.x=0,n.y=n.height),i._pushPosition(e,n.x,n.y),n.height=Math.max(n.y+r,n.height),n.x+=t})},_fitRowsGetContainerSize:function(){return{height:this.fitRows.height}},_fitRowsResizeChanged:function(){return!0},_cellsByRowReset:function(){this.cellsByRow={index:0},this._getSegments(),this._getSegments(!0)},_cellsByRowLayout:function(e){var n=this,o=this.cellsByRow;e.each(function(){var e=m(this),t=o.index%o.cols,r=Math.floor(o.index/o.cols),i=(t+.5)*o.columnWidth-e.outerWidth(!0)/2,a=(r+.5)*o.rowHeight-e.outerHeight(!0)/2;n._pushPosition(e,i,a),o.index++})},_cellsByRowGetContainerSize:function(){return{height:Math.ceil(this.$filteredAtoms.length/this.cellsByRow.cols)*this.cellsByRow.rowHeight+this.offset.top}},_cellsByRowResizeChanged:function(){return this._checkIfSegmentsChanged()},_straightDownReset:function(){this.straightDown={y:0}},_straightDownLayout:function(e){var r=this;e.each(function(e){var t=m(this);r._pushPosition(t,0,r.straightDown.y),r.straightDown.y+=t.outerHeight(!0)})},_straightDownGetContainerSize:function(){return{height:this.straightDown.y}},_straightDownResizeChanged:function(){return!0},_masonryHorizontalReset:function(){this.masonryHorizontal={},this._getSegments(!0);var e=this.masonryHorizontal.rows;for(this.masonryHorizontal.rowXs=[];e--;)this.masonryHorizontal.rowXs.push(0)},_masonryHorizontalLayout:function(e){var o=this,s=o.masonryHorizontal;e.each(function(){var e=m(this),t=Math.ceil(e.outerHeight(!0)/s.rowHeight);if(1===(t=Math.min(t,s.rows)))o._masonryHorizontalPlaceBrick(e,s.rowXs);else{var r,i,a=s.rows+1-t,n=[];for(i=0;i<a;i++)r=s.rowXs.slice(i,i+t),n[i]=Math.max.apply(Math,r);o._masonryHorizontalPlaceBrick(e,n)}})},_masonryHorizontalPlaceBrick:function(e,t){for(var r=Math.min.apply(Math,t),i=0,a=0,n=t.length;a<n;a++)if(t[a]===r){i=a;break}var o=r,s=this.masonryHorizontal.rowHeight*i;this._pushPosition(e,o,s);var l=r+e.outerWidth(!0),u=this.masonryHorizontal.rows+1-n;for(a=0;a<u;a++)this.masonryHorizontal.rowXs[i+a]=l},_masonryHorizontalGetContainerSize:function(){return{width:Math.max.apply(Math,this.masonryHorizontal.rowXs)}},_masonryHorizontalResizeChanged:function(){return this._checkIfSegmentsChanged(!0)},_fitColumnsReset:function(){this.fitColumns={x:0,y:0,width:0}},_fitColumnsLayout:function(e){var i=this,a=this.element.height(),n=this.fitColumns;e.each(function(){var e=m(this),t=e.outerWidth(!0),r=e.outerHeight(!0);0!==n.y&&r+n.y>a&&(n.x=n.width,n.y=0),i._pushPosition(e,n.x,n.y),n.width=Math.max(n.x+t,n.width),n.y+=r})},_fitColumnsGetContainerSize:function(){return{width:this.fitColumns.width}},_fitColumnsResizeChanged:function(){return!0},_cellsByColumnReset:function(){this.cellsByColumn={index:0},this._getSegments(),this._getSegments(!0)},_cellsByColumnLayout:function(e){var n=this,o=this.cellsByColumn;e.each(function(){var e=m(this),t=Math.floor(o.index/o.rows),r=o.index%o.rows,i=(t+.5)*o.columnWidth-e.outerWidth(!0)/2,a=(r+.5)*o.rowHeight-e.outerHeight(!0)/2;n._pushPosition(e,i,a),o.index++})},_cellsByColumnGetContainerSize:function(){return{width:Math.ceil(this.$filteredAtoms.length/this.cellsByColumn.rows)*this.cellsByColumn.columnWidth}},_cellsByColumnResizeChanged:function(){return this._checkIfSegmentsChanged(!0)},_straightAcrossReset:function(){this.straightAcross={x:0}},_straightAcrossLayout:function(e){var r=this;e.each(function(e){var t=m(this);r._pushPosition(t,r.straightAcross.x,0),r.straightAcross.x+=t.outerWidth(!0)})},_straightAcrossGetContainerSize:function(){return{width:this.straightAcross.x}},_straightAcrossResizeChanged:function(){return!0}},m.fn.imagesLoaded=function(e){function i(){e.call(t,a)}var t=this,a=t.find("img").add(t.filter("img")),n=a.length,o="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",s=[];return n||i(),a.bind("load.imagesLoaded error.imagesLoaded",function e(t){var r=t.target;r.src!==o&&-1===m.inArray(r,s)&&(s.push(r),--n<=0&&(setTimeout(i),a.unbind(".imagesLoaded",e)))}).each(function(){var e=this.src;this.src=o,this.src=e}),t};var j=function(e){t.console&&t.console.error(e)};m.fn.isotope=function(t,r){if("string"==typeof t){var i=Array.prototype.slice.call(arguments,1);this.each(function(){var e=m.data(this,"isotope");e?m.isFunction(e[t])&&"_"!==t.charAt(0)?e[t].apply(e,i):j("no such method '"+t+"' for isotope instance"):j("cannot call methods on isotope prior to initialization; attempted to call method '"+t+"'")})}else this.each(function(){var e=m.data(this,"isotope");e?(e.option(t),e._init(r)):m.data(this,"isotope",new m.Isotope(t,this,r))});return this}}(window,jQuery);var ytp=ytp||{},getYTPVideoID=function(e){var t,r;return 0<e.indexOf("youtu.be")?t=(r=0<(t=e.substr(e.lastIndexOf("/")+1,e.length)).indexOf("?list=")?t.substr(t.lastIndexOf("="),t.length):null)?t.substr(0,t.lastIndexOf("?")):t:-1<e.indexOf("http")?(t=e.match(/[\\?&]v=([^&#]*)/)[1],r=0<e.indexOf("list=")?e.match(/[\\?&]list=([^&#]*)/)[1]:null):r=(t=15<e.length?null:e)?null:e,{videoID:t,playlistID:r}};!function(jQuery,ytp){jQuery.mbYTPlayer={name:"jquery.mb.YTPlayer",version:"2.9.4",build:"{{ build }}",author:"Matteo Bicocchi",apiKey:"",defaults:{containment:"body",ratio:"auto",videoURL:null,playlistURL:null,startAt:0,stopAt:0,autoPlay:!0,vol:50,addRaster:!1,opacity:1,quality:"default",mute:!1,loop:!0,showControls:!0,showAnnotations:!1,showYTLogo:!0,stopMovieOnBlur:!0,realfullscreen:!0,gaTrack:!0,optimizeDisplay:!0,onReady:function(e){}},controls:{play:"P",pause:"p",mute:"M",unmute:"A",onlyYT:"O",showSite:"R",ytLogo:"Y"},locationProtocol:"https:",buildPlayer:function(options){return this.each(function(){var YTPlayer=this,$YTPlayer=jQuery(YTPlayer);YTPlayer.loop=0,YTPlayer.opt={},YTPlayer.state={},YTPlayer.filtersEnabled=!0,YTPlayer.filters={grayscale:{value:0,unit:"%"},hue_rotate:{value:0,unit:"deg"},invert:{value:0,unit:"%"},opacity:{value:0,unit:"%"},saturate:{value:0,unit:"%"},sepia:{value:0,unit:"%"},brightness:{value:0,unit:"%"},contrast:{value:0,unit:"%"},blur:{value:0,unit:"px"}},$YTPlayer.addClass("mb_YTPlayer");var property=$YTPlayer.data("property")&&"string"==typeof $YTPlayer.data("property")?eval("("+$YTPlayer.data("property")+")"):$YTPlayer.data("property");void 0!==property&&void 0!==property.vol&&(property.vol=0===property.vol?property.vol=1:property.vol),jQuery.extend(YTPlayer.opt,jQuery.mbYTPlayer.defaults,options,property),YTPlayer.hasChanged||(YTPlayer.defaultOpt={},jQuery.extend(YTPlayer.defaultOpt,jQuery.mbYTPlayer.defaults,options,property)),YTPlayer.isRetina=window.retina||1<window.devicePixelRatio;var isIframe=function(){var t=!1;try{self.location.href!=top.location.href&&(t=!0)}catch(e){t=!0}return t};YTPlayer.canGoFullScreen=!(jQuery.browser.msie||jQuery.browser.opera||isIframe()),YTPlayer.canGoFullScreen||(YTPlayer.opt.realfullscreen=!1),$YTPlayer.attr("id")||$YTPlayer.attr("id","video_"+(new Date).getTime());var playerID="mbYTP_"+YTPlayer.id;YTPlayer.isAlone=!1,YTPlayer.hasFocus=!0;var videoID=this.opt.videoURL?getYTPVideoID(this.opt.videoURL).videoID:!!$YTPlayer.attr("href")&&getYTPVideoID($YTPlayer.attr("href")).videoID,playlistID=this.opt.videoURL?getYTPVideoID(this.opt.videoURL).playlistID:!!$YTPlayer.attr("href")&&getYTPVideoID($YTPlayer.attr("href")).playlistID;YTPlayer.videoID=videoID,YTPlayer.playlistID=playlistID,YTPlayer.opt.showAnnotations=YTPlayer.opt.showAnnotations?"0":"3";var playerVars={autoplay:0,modestbranding:1,controls:0,showinfo:0,rel:0,enablejsapi:1,version:3,playerapiid:playerID,origin:"*",allowfullscreen:!0,wmode:"transparent",iv_load_policy:YTPlayer.opt.showAnnotations};document.createElement("video").canPlayType&&jQuery.extend(playerVars,{html5:1}),jQuery.browser.msie&&jQuery.browser.version<9&&(this.opt.opacity=1);var playerBox=jQuery("<div/>").attr("id",playerID).addClass("playerBox"),overlay=jQuery("<div/>").css({position:"absolute",top:0,left:0,width:"100%",height:"100%"}).addClass("YTPOverlay");if(YTPlayer.isSelf="self"==YTPlayer.opt.containment,YTPlayer.defaultOpt.containment=YTPlayer.opt.containment=jQuery("self"==YTPlayer.opt.containment?this:YTPlayer.opt.containment),YTPlayer.isBackground="body"==YTPlayer.opt.containment.get(0).tagName.toLowerCase(),!YTPlayer.isBackground||!ytp.backgroundIsInited){var isPlayer=YTPlayer.opt.containment.is(jQuery(this));if(YTPlayer.canPlayOnMobile=isPlayer&&0===jQuery(this).children().length,isPlayer?YTPlayer.isPlayer=!0:$YTPlayer.hide(),jQuery.browser.mobile&&!YTPlayer.canPlayOnMobile)return void $YTPlayer.remove();var wrapper=jQuery("<div/>").addClass("mbYTP_wrapper").attr("id","wrapper_"+playerID);if(wrapper.css({position:"absolute",zIndex:0,minWidth:"100%",minHeight:"100%",left:0,top:0,overflow:"hidden",opacity:0}),playerBox.css({position:"absolute",zIndex:0,width:"100%",height:"100%",top:0,left:0,overflow:"hidden"}),wrapper.append(playerBox),YTPlayer.opt.containment.children().not("script, style").each(function(){"static"==jQuery(this).css("position")&&jQuery(this).css("position","relative")}),YTPlayer.isBackground?(jQuery("body").css({boxSizing:"border-box"}),wrapper.css({position:"fixed",top:0,left:0,zIndex:0}),$YTPlayer.hide()):"static"==YTPlayer.opt.containment.css("position")&&YTPlayer.opt.containment.css({position:"relative"}),YTPlayer.opt.containment.prepend(wrapper),YTPlayer.wrapper=wrapper,playerBox.css({opacity:1}),jQuery.browser.mobile||(playerBox.after(overlay),YTPlayer.overlay=overlay),YTPlayer.isBackground||overlay.on("mouseenter",function(){YTPlayer.controlBar&&YTPlayer.controlBar.addClass("visible")}).on("mouseleave",function(){YTPlayer.controlBar&&YTPlayer.controlBar.removeClass("visible")}),ytp.YTAPIReady)setTimeout(function(){jQuery(document).trigger("YTAPIReady")},100);else{jQuery("#YTAPI").remove();var tag=jQuery("<script><\/script>").attr({src:jQuery.mbYTPlayer.locationProtocol+"//www.youtube.com/iframe_api?v="+jQuery.mbYTPlayer.version,id:"YTAPI"});jQuery("head").prepend(tag)}jQuery(document).on("YTAPIReady",function(){YTPlayer.isBackground&&ytp.backgroundIsInited||YTPlayer.isInit||(YTPlayer.isBackground&&(ytp.backgroundIsInited=!0),YTPlayer.opt.autoPlay=void 0===YTPlayer.opt.autoPlay?!!YTPlayer.isBackground:YTPlayer.opt.autoPlay,YTPlayer.opt.vol=YTPlayer.opt.vol?YTPlayer.opt.vol:100,jQuery.mbYTPlayer.getDataFromAPI(YTPlayer),jQuery(YTPlayer).on("YTPChanged",function(){if(!YTPlayer.isInit){if(YTPlayer.isInit=!0,jQuery.browser.mobile&&YTPlayer.canPlayOnMobile){if(YTPlayer.opt.containment.outerWidth()>jQuery(window).width()){YTPlayer.opt.containment.css({maxWidth:"100%"});var h=.6*YTPlayer.opt.containment.outerWidth();YTPlayer.opt.containment.css({maxHeight:h})}return void new YT.Player(playerID,{videoId:YTPlayer.videoID.toString(),height:"100%",width:"100%",events:{onReady:function(e){YTPlayer.player=e.target,playerBox.css({opacity:1}),YTPlayer.wrapper.css({opacity:1})}}})}new YT.Player(playerID,{videoId:YTPlayer.videoID.toString(),playerVars:playerVars,events:{onReady:function(e){if(YTPlayer.player=e.target,!YTPlayer.isReady){YTPlayer.isReady=!(YTPlayer.isPlayer&&!YTPlayer.opt.autoPlay),YTPlayer.playerEl=YTPlayer.player.getIframe(),$YTPlayer.optimizeDisplay(),YTPlayer.videoID=videoID,jQuery(window).on("resize.YTP",function(){$YTPlayer.optimizeDisplay()}),jQuery.mbYTPlayer.checkForState(YTPlayer);var t=jQuery.Event("YTPUnstarted");t.time=YTPlayer.player.time,YTPlayer.canTrigger&&jQuery(YTPlayer).trigger(t)}},onStateChange:function(event){if("function"==typeof event.target.getPlayerState){var state=event.target.getPlayerState();if(YTPlayer.state!=state){var eventType;switch(YTPlayer.state=state,state){case-1:eventType="YTPUnstarted";break;case 0:eventType="YTPEnd";break;case 1:eventType="YTPStart",YTPlayer.controlBar&&YTPlayer.controlBar.find(".mb_YTPPlaypause").html(jQuery.mbYTPlayer.controls.pause),"undefined"!=typeof _gaq&&eval(YTPlayer.opt.gaTrack)&&_gaq.push(["_trackEvent","YTPlayer","Play",YTPlayer.hasData?YTPlayer.videoData.title:YTPlayer.videoID.toString()]),"undefined"!=typeof ga&&eval(YTPlayer.opt.gaTrack)&&ga("send","event","YTPlayer","play",YTPlayer.hasData?YTPlayer.videoData.title:YTPlayer.videoID.toString());break;case 2:eventType="YTPPause",YTPlayer.controlBar&&YTPlayer.controlBar.find(".mb_YTPPlaypause").html(jQuery.mbYTPlayer.controls.play);break;case 3:YTPlayer.player.setPlaybackQuality(YTPlayer.opt.quality),eventType="YTPBuffering",YTPlayer.controlBar&&YTPlayer.controlBar.find(".mb_YTPPlaypause").html(jQuery.mbYTPlayer.controls.play);break;case 5:eventType="YTPCued"}var YTPEvent=jQuery.Event(eventType);YTPEvent.time=YTPlayer.player.time,YTPlayer.canTrigger&&jQuery(YTPlayer).trigger(YTPEvent)}}},onPlaybackQualityChange:function(e){var t=e.target.getPlaybackQuality(),r=jQuery.Event("YTPQualityChange");r.quality=t,jQuery(YTPlayer).trigger(r)},onError:function(e){150==e.data&&(console.log("Embedding this video is restricted by Youtube."),YTPlayer.isPlayList&&jQuery(YTPlayer).playNext()),2==e.data&&YTPlayer.isPlayList&&jQuery(YTPlayer).playNext(),"function"==typeof YTPlayer.opt.onError&&YTPlayer.opt.onError($YTPlayer,e)}}})}}))})}})},getDataFromAPI:function(a){if(a.videoData=jQuery.mbStorage.get("YYTPlayer_data_"+a.videoID),jQuery(a).off("YTPData.YTPlayer").on("YTPData.YTPlayer",function(){if(a.hasData&&a.isPlayer&&!a.opt.autoPlay){var e=a.videoData.thumb_max||a.videoData.thumb_high||a.videoData.thumb_medium;a.opt.containment.css({background:"rgba(0,0,0,0.5) url("+e+") center center",backgroundSize:"cover"}),a.opt.backgroundUrl=e}}),a.videoData)setTimeout(function(){a.opt.ratio="auto"==a.opt.ratio?"16/9":a.opt.ratio,a.dataReceived=!0,jQuery(a).trigger("YTPChanged");var e=jQuery.Event("YTPData");for(var t in e.prop={},a.videoData)e.prop[t]=a.videoData[t];jQuery(a).trigger(e)},500),a.hasData=!0;else if(jQuery.mbYTPlayer.apiKey)jQuery.getJSON(jQuery.mbYTPlayer.locationProtocol+"//www.googleapis.com/youtube/v3/videos?id="+a.videoID+"&key="+jQuery.mbYTPlayer.apiKey+"&part=snippet",function(e){var t;a.dataReceived=!0,jQuery(a).trigger("YTPChanged"),t=e.items[0].snippet,a.videoData={},a.videoData.id=a.videoID,a.videoData.channelTitle=t.channelTitle,a.videoData.title=t.title,a.videoData.description=t.description.length<400?t.description:t.description.substring(0,400)+" ...",a.videoData.aspectratio="auto"==a.opt.ratio?"16/9":a.opt.ratio,a.opt.ratio=a.videoData.aspectratio,a.videoData.thumb_max=t.thumbnails.maxres?t.thumbnails.maxres.url:null,a.videoData.thumb_high=t.thumbnails.high?t.thumbnails.high.url:null,a.videoData.thumb_medium=t.thumbnails.medium?t.thumbnails.medium.url:null,jQuery.mbStorage.set("YYTPlayer_data_"+a.videoID,a.videoData),a.hasData=!0;var r=jQuery.Event("YTPData");for(var i in r.prop={},a.videoData)r.prop[i]=a.videoData[i];jQuery(a).trigger(r)});else{if(setTimeout(function(){jQuery(a).trigger("YTPChanged")},50),a.isPlayer&&!a.opt.autoPlay){var e=jQuery.mbYTPlayer.locationProtocol+"//i.ytimg.com/vi/"+a.videoID+"/hqdefault.jpg";a.opt.containment.css({background:"rgba(0,0,0,0.5) url("+e+") center center",backgroundSize:"cover"}),a.opt.backgroundUrl=e}a.videoData=null,a.opt.ratio="auto"==a.opt.ratio?"16/9":a.opt.ratio}a.isPlayer&&!a.opt.autoPlay&&(a.loading=jQuery("<div/>").addClass("loading").html("Loading").hide(),jQuery(a).append(a.loading),a.loading.fadeIn())},removeStoredData:function(){jQuery.mbStorage.remove()},getVideoData:function(){return this.get(0).videoData},getVideoID:function(){return this.get(0).videoID||!1},setVideoQuality:function(e){var t=this.get(0);jQuery.browser.chrome||t.player.setPlaybackQuality(e)},playlist:function(e,t,r){var i=this.get(0);return i.isPlayList=!0,t&&(e=jQuery.shuffle(e)),i.videoID||(i.videos=e,i.videoCounter=0,i.videoLength=e.length,jQuery(i).data("property",e[0]),jQuery(i).mb_YTPlayer()),"function"==typeof r&&jQuery(i).on("YTPChanged",function(){r(i)}),jQuery(i).on("YTPEnd",function(){jQuery(i).playNext()}),this},playNext:function(){var e=this.get(0);return e.videoCounter++,e.videoCounter>=e.videoLength&&(e.videoCounter=0),jQuery(e).changeMovie(e.videos[e.videoCounter]),this},playPrev:function(){var e=this.get(0);return e.videoCounter--,e.videoCounter<0&&(e.videoCounter=e.videoLength-1),jQuery(e).changeMovie(e.videos[e.videoCounter]),this},changeMovie:function(e){var t=this.get(0);t.opt.startAt=0,t.opt.stopAt=0,t.opt.mute=!0,t.hasData=!1,t.hasChanged=!0,e&&jQuery.extend(t.opt,t.defaultOpt,e),t.videoID=getYTPVideoID(t.opt.videoURL).videoID,jQuery(t.playerEl).CSSAnimate({opacity:0},200,function(){return jQuery(t).YTPGetPlayer().cueVideoByUrl(encodeURI(jQuery.mbYTPlayer.locationProtocol+"//www.youtube.com/v/"+t.videoID),1,t.opt.quality),jQuery.mbYTPlayer.checkForState(t),jQuery(t).optimizeDisplay(),jQuery.mbYTPlayer.getDataFromAPI(t),this})},getPlayer:function(){return jQuery(this).get(0).player},playerDestroy:function(){var e=this.get(0);return ytp.YTAPIReady=!1,ytp.backgroundIsInited=!1,e.isInit=!1,e.videoID=null,e.wrapper.remove(),jQuery("#controlBar_"+e.id).remove(),clearInterval(e.checkForStartAt),clearInterval(e.getState),this},fullscreen:function(real){function hideMouse(){YTPlayer.overlay.css({cursor:"none"})}function RunPrefixMethod(e,t){for(var r,i,a=["webkit","moz","ms","o",""],n=0;n<a.length&&!e[r];){if(r=t,""==a[n]&&(r=r.substr(0,1).toLowerCase()+r.substr(1)),"undefined"!=(i=typeof e[r=a[n]+r]))return a=[a[n]],"function"==i?e[r]():e[r];n++}}function launchFullscreen(e){RunPrefixMethod(e,"RequestFullScreen")}function cancelFullscreen(){(RunPrefixMethod(document,"FullScreen")||RunPrefixMethod(document,"IsFullScreen"))&&RunPrefixMethod(document,"CancelFullScreen")}var YTPlayer=this.get(0);void 0===real&&(real=YTPlayer.opt.realfullscreen),real=eval(real);var controls=jQuery("#controlBar_"+YTPlayer.id),fullScreenBtn=controls.find(".mb_OnlyYT"),videoWrapper=YTPlayer.isSelf?YTPlayer.opt.containment:YTPlayer.wrapper;if(real){var fullscreenchange=jQuery.browser.mozilla?"mozfullscreenchange":jQuery.browser.webkit?"webkitfullscreenchange":"fullscreenchange";jQuery(document).off(fullscreenchange).on(fullscreenchange,function(){RunPrefixMethod(document,"IsFullScreen")||RunPrefixMethod(document,"FullScreen")?(jQuery(YTPlayer).YTPSetVideoQuality("default"),jQuery(YTPlayer).trigger("YTPFullScreenStart")):(YTPlayer.isAlone=!1,fullScreenBtn.html(jQuery.mbYTPlayer.controls.onlyYT),jQuery(YTPlayer).YTPSetVideoQuality(YTPlayer.opt.quality),videoWrapper.removeClass("fullscreen"),videoWrapper.CSSAnimate({opacity:YTPlayer.opt.opacity},500),videoWrapper.css({zIndex:0}),YTPlayer.isBackground?jQuery("body").after(controls):YTPlayer.wrapper.before(controls),jQuery(window).resize(),jQuery(YTPlayer).trigger("YTPFullScreenEnd"))})}return YTPlayer.isAlone?(jQuery(document).off("mousemove.YTPlayer"),YTPlayer.overlay.css({cursor:"auto"}),real?cancelFullscreen():(videoWrapper.CSSAnimate({opacity:YTPlayer.opt.opacity},500),videoWrapper.css({zIndex:0})),fullScreenBtn.html(jQuery.mbYTPlayer.controls.onlyYT),YTPlayer.isAlone=!1):(jQuery(document).on("mousemove.YTPlayer",function(e){YTPlayer.overlay.css({cursor:"auto"}),clearTimeout(YTPlayer.hideCursor),jQuery(e.target).parents().is(".mb_YTPBar")||(YTPlayer.hideCursor=setTimeout(hideMouse,3e3))}),hideMouse(),real?(videoWrapper.css({opacity:0}),videoWrapper.addClass("fullscreen"),launchFullscreen(videoWrapper.get(0)),setTimeout(function(){videoWrapper.CSSAnimate({opacity:1},1e3),YTPlayer.wrapper.append(controls),jQuery(YTPlayer).optimizeDisplay(),YTPlayer.player.seekTo(YTPlayer.player.getCurrentTime()+.1,!0)},500)):videoWrapper.css({zIndex:1e4}).CSSAnimate({opacity:1},1e3),fullScreenBtn.html(jQuery.mbYTPlayer.controls.showSite),YTPlayer.isAlone=!0),this},toggleLoops:function(){var e=this.get(0),t=e.opt;return 1==t.loop?t.loop=0:(t.startAt?e.player.seekTo(t.startAt):e.player.playVideo(),t.loop=1),this},play:function(){var e=this.get(0);if(e.isReady)return jQuery("#controlBar_"+e.id).find(".mb_YTPPlaypause").html(jQuery.mbYTPlayer.controls.pause),e.player.playVideo(),e.wrapper.CSSAnimate({opacity:e.isAlone?1:e.opt.opacity},2e3),jQuery(e.playerEl).CSSAnimate({opacity:1},1e3),jQuery(e).css("background-image","none"),this},togglePlay:function(e){var t=this.get(0);return 1==t.state?this.YTPPause():this.YTPPlay(),"function"==typeof e&&e(t.state),this},stop:function(){var e=this.get(0);return jQuery("#controlBar_"+e.id).find(".mb_YTPPlaypause").html(jQuery.mbYTPlayer.controls.play),e.player.stopVideo(),this},pause:function(){var e=this.get(0);return jQuery("#controlBar_"+e.id).find(".mb_YTPPlaypause").html(jQuery.mbYTPlayer.controls.play),e.player.pauseVideo(),this},seekTo:function(e){return this.get(0).player.seekTo(e,!0),this},setVolume:function(e){var t=this.get(0);return e||t.opt.vol||0!=t.player.getVolume()?!e&&0<t.player.getVolume()||e&&t.opt.vol==e?t.isMute?jQuery(t).YTPUnmute():jQuery(t).YTPMute():(t.opt.vol=e,t.player.setVolume(t.opt.vol),t.volumeBar&&t.volumeBar.length&&t.volumeBar.updateSliderVal(e)):jQuery(t).YTPUnmute(),this},mute:function(){var e=this.get(0);if(!e.isMute){e.player.mute(),e.isMute=!0,e.player.setVolume(0),e.volumeBar&&e.volumeBar.length&&10<e.volumeBar.width()&&e.volumeBar.updateSliderVal(0),jQuery("#controlBar_"+e.id).find(".mb_YTPMuteUnmute").html(jQuery.mbYTPlayer.controls.unmute),jQuery(e).addClass("isMuted"),e.volumeBar&&e.volumeBar.length&&e.volumeBar.addClass("muted");var t=jQuery.Event("YTPMuted");return t.time=e.player.time,e.canTrigger&&jQuery(e).trigger(t),this}},unmute:function(){var e=this.get(0);if(e.isMute){e.player.unMute(),e.isMute=!1,e.player.setVolume(e.opt.vol),e.volumeBar&&e.volumeBar.length&&e.volumeBar.updateSliderVal(10<e.opt.vol?e.opt.vol:10),jQuery("#controlBar_"+e.id).find(".mb_YTPMuteUnmute").html(jQuery.mbYTPlayer.controls.mute),jQuery(e).removeClass("isMuted"),e.volumeBar&&e.volumeBar.length&&e.volumeBar.removeClass("muted");var t=jQuery.Event("YTPUnmuted");return t.time=e.player.time,e.canTrigger&&jQuery(e).trigger(t),this}},applyFilter:function(e,t){var r=this.get(0);return r.filters[e].value=t,r.filtersEnabled&&this.YTPEnableFilters(),this},applyFilters:function(t){var r=this.get(0);return this.on("YTPReady",function(){for(var e in t)r.filters[e].value=t[e],jQuery(r).YTPApplyFilter(e,t[e]);jQuery(r).trigger("YTPFiltersApplied")}),this},toggleFilter:function(e,t){return this.each(function(){this.filters[e].value?this.filters[e].value=0:this.filters[e].value=t,this.filtersEnabled&&jQuery(this).YTPEnableFilters()})},toggleFilters:function(t){return this.each(function(){var e=this;e.filtersEnabled?(jQuery(e).trigger("YTPDisableFilters"),jQuery(e).YTPDisableFilters()):(jQuery(e).YTPEnableFilters(),jQuery(e).trigger("YTPEnableFilters")),"function"==typeof t&&t(e.filtersEnabled)})},disableFilters:function(){return this.each(function(){var e=jQuery(this.playerEl);e.css("-webkit-filter",""),e.css("filter",""),this.filtersEnabled=!1})},enableFilters:function(){return this.each(function(){var e=this,t=jQuery(e.playerEl),r="";for(var i in e.filters)e.filters[i].value&&(r+=i.replace("_","-")+"("+e.filters[i].value+e.filters[i].unit+") ");t.css("-webkit-filter",r),t.css("filter",r),e.filtersEnabled=!0})},removeFilter:function(t,r){return this.each(function(){"function"==typeof t&&(r=t,t=null);if(t)jQuery(this).YTPApplyFilter(t,0),"function"==typeof r&&r(t);else for(var e in this.filters)jQuery(this).YTPApplyFilter(e,0),"function"==typeof r&&r(e)})},manageProgress:function(){var e=this.get(0),t=jQuery("#controlBar_"+e.id),r=t.find(".mb_YTPProgress"),i=t.find(".mb_YTPLoaded"),a=t.find(".mb_YTPseekbar"),n=r.outerWidth(),o=Math.floor(e.player.getCurrentTime()),s=Math.floor(e.player.getDuration()),l=o*n/s,u=100*e.player.getVideoLoadedFraction();return i.css({left:0,width:u+"%"}),a.css({left:0,width:l}),{totalTime:s,currentTime:o}},buildControls:function(YTPlayer){var data=YTPlayer.opt;if(data.showYTLogo=data.showYTLogo||data.printUrl,!jQuery("#controlBar_"+YTPlayer.id).length){YTPlayer.controlBar=jQuery("<span/>").attr("id","controlBar_"+YTPlayer.id).addClass("mb_YTPBar").css({whiteSpace:"noWrap",position:YTPlayer.isBackground?"fixed":"absolute",zIndex:YTPlayer.isBackground?1e4:1e3}).hide();var buttonBar=jQuery("<div/>").addClass("buttonBar"),playpause=jQuery("<span>"+jQuery.mbYTPlayer.controls.play+"</span>").addClass("mb_YTPPlaypause ytpicon").click(function(){1==YTPlayer.player.getPlayerState()?jQuery(YTPlayer).YTPPause():jQuery(YTPlayer).YTPPlay()}),MuteUnmute=jQuery("<span>"+jQuery.mbYTPlayer.controls.mute+"</span>").addClass("mb_YTPMuteUnmute ytpicon").click(function(){0==YTPlayer.player.getVolume()?jQuery(YTPlayer).YTPUnmute():jQuery(YTPlayer).YTPMute()}),volumeBar=jQuery("<div/>").addClass("mb_YTPVolumeBar").css({display:"inline-block"});YTPlayer.volumeBar=volumeBar;var idx=jQuery("<span/>").addClass("mb_YTPTime"),vURL=data.videoURL?data.videoURL:"";vURL.indexOf("http")<0&&(vURL=jQuery.mbYTPlayer.locationProtocol+"//www.youtube.com/watch?v="+data.videoURL);var movieUrl=jQuery("<span/>").html(jQuery.mbYTPlayer.controls.ytLogo).addClass("mb_YTPUrl ytpicon").attr("title","view on YouTube").on("click",function(){window.open(vURL,"viewOnYT")}),onlyVideo=jQuery("<span/>").html(jQuery.mbYTPlayer.controls.onlyYT).addClass("mb_OnlyYT ytpicon").on("click",function(){jQuery(YTPlayer).YTPFullscreen(data.realfullscreen)}),progressBar=jQuery("<div/>").addClass("mb_YTPProgress").css("position","absolute").click(function(e){timeBar.css({width:e.clientX-timeBar.offset().left}),YTPlayer.timeW=e.clientX-timeBar.offset().left,YTPlayer.controlBar.find(".mb_YTPLoaded").css({width:0});var t=Math.floor(YTPlayer.player.getDuration());YTPlayer.goto=timeBar.outerWidth()*t/progressBar.outerWidth(),YTPlayer.player.seekTo(parseFloat(YTPlayer.goto),!0),YTPlayer.controlBar.find(".mb_YTPLoaded").css({width:0})}),loadedBar=jQuery("<div/>").addClass("mb_YTPLoaded").css("position","absolute"),timeBar=jQuery("<div/>").addClass("mb_YTPseekbar").css("position","absolute");progressBar.append(loadedBar).append(timeBar),buttonBar.append(playpause).append(MuteUnmute).append(volumeBar).append(idx),data.showYTLogo&&buttonBar.append(movieUrl),(YTPlayer.isBackground||eval(YTPlayer.opt.realfullscreen)&&!YTPlayer.isBackground)&&buttonBar.append(onlyVideo),YTPlayer.controlBar.append(buttonBar).append(progressBar),YTPlayer.isBackground?jQuery("body").after(YTPlayer.controlBar):(YTPlayer.controlBar.addClass("inlinePlayer"),YTPlayer.wrapper.before(YTPlayer.controlBar)),volumeBar.simpleSlider({initialval:YTPlayer.opt.vol,scale:100,orientation:"h",callback:function(e){0==e.value?jQuery(YTPlayer).YTPMute():jQuery(YTPlayer).YTPUnmute(),YTPlayer.player.setVolume(e.value),YTPlayer.isMute||(YTPlayer.opt.vol=e.value)}})}},checkForState:function(YTPlayer){var interval=YTPlayer.opt.showControls?100:700;return clearInterval(YTPlayer.getState),jQuery.contains(document,YTPlayer)?(jQuery.mbYTPlayer.checkForStart(YTPlayer),void(YTPlayer.getState=setInterval(function(){var prog=jQuery(YTPlayer).YTPManageProgress(),$YTPlayer=jQuery(YTPlayer),data=YTPlayer.opt,startAt=YTPlayer.opt.startAt?YTPlayer.opt.startAt:0,stopAt=YTPlayer.opt.stopAt>YTPlayer.opt.startAt?YTPlayer.opt.stopAt:0;if(stopAt=stopAt<YTPlayer.player.getDuration()?stopAt:0,YTPlayer.player.time!=prog.currentTime){var YTPEvent=jQuery.Event("YTPTime");YTPEvent.time=YTPlayer.player.time,jQuery(YTPlayer).trigger(YTPEvent)}if(YTPlayer.player.time=prog.currentTime,0==YTPlayer.player.getVolume()?$YTPlayer.addClass("isMuted"):$YTPlayer.removeClass("isMuted"),YTPlayer.opt.showControls&&(prog.totalTime?YTPlayer.controlBar.find(".mb_YTPTime").html(jQuery.mbYTPlayer.formatTime(prog.currentTime)+" / "+jQuery.mbYTPlayer.formatTime(prog.totalTime)):YTPlayer.controlBar.find(".mb_YTPTime").html("-- : -- / -- : --")),eval(YTPlayer.opt.stopMovieOnBlur)&&(document.hasFocus()?document.hasFocus()&&!YTPlayer.hasFocus&&-1!=YTPlayer.state&&0!=YTPlayer.state&&(YTPlayer.hasFocus=!0,$YTPlayer.YTPPlay()):1==YTPlayer.state&&(YTPlayer.hasFocus=!1,$YTPlayer.YTPPause())),YTPlayer.controlBar&&YTPlayer.controlBar.outerWidth()<=400&&!YTPlayer.isCompact?(YTPlayer.controlBar.addClass("compact"),YTPlayer.isCompact=!0,!YTPlayer.isMute&&YTPlayer.volumeBar&&YTPlayer.volumeBar.updateSliderVal(YTPlayer.opt.vol)):YTPlayer.controlBar&&400<YTPlayer.controlBar.outerWidth()&&YTPlayer.isCompact&&(YTPlayer.controlBar.removeClass("compact"),YTPlayer.isCompact=!1,!YTPlayer.isMute&&YTPlayer.volumeBar&&YTPlayer.volumeBar.updateSliderVal(YTPlayer.opt.vol)),1==YTPlayer.player.getPlayerState()&&(parseFloat(YTPlayer.player.getDuration()-1.5)<YTPlayer.player.getCurrentTime()||0<stopAt&&parseFloat(YTPlayer.player.getCurrentTime())>stopAt)){if(YTPlayer.isEnded)return;if(YTPlayer.isEnded=!0,setTimeout(function(){YTPlayer.isEnded=!1},1e3),YTPlayer.isPlayList){clearInterval(YTPlayer.getState);var YTPEnd=jQuery.Event("YTPEnd");return YTPEnd.time=YTPlayer.player.time,void jQuery(YTPlayer).trigger(YTPEnd)}data.loop?(startAt=startAt||1,YTPlayer.player.pauseVideo(),YTPlayer.player.seekTo(startAt,!0),$YTPlayer.YTPPlay()):(YTPlayer.player.pauseVideo(),YTPlayer.wrapper.CSSAnimate({opacity:0},1e3,function(){var e=jQuery.Event("YTPEnd");e.time=YTPlayer.player.time,jQuery(YTPlayer).trigger(e),YTPlayer.player.seekTo(startAt,!0),YTPlayer.isBackground||YTPlayer.opt.containment.css({background:"rgba(0,0,0,0.5) url("+YTPlayer.opt.backgroundUrl+") center center",backgroundSize:"cover"})}))}},interval))):(jQuery(YTPlayer).YTPPlayerDestroy(),clearInterval(YTPlayer.getState),void clearInterval(YTPlayer.checkForStartAt))},checkForStart:function(i){var a=jQuery(i);if(jQuery.contains(document,i)){if(jQuery.browser.chrome&&(i.opt.quality="default"),i.player.pauseVideo(),jQuery(i).muteYTPVolume(),jQuery("#controlBar_"+i.id).remove(),i.opt.showControls&&jQuery.mbYTPlayer.buildControls(i),i.opt.addRaster){var e="dot"==i.opt.addRaster?"raster-dot":"raster";i.overlay.addClass(i.isRetina?e+" retina":e)}else i.overlay.removeClass(function(e,t){var r=t.split(" "),i=[];return jQuery.each(r,function(e,t){/raster.*/.test(t)&&i.push(t)}),i.push("retina"),i.join(" ")});i.checkForStartAt=setInterval(function(){jQuery(i).YTPMute();var e=i.opt.startAt?i.opt.startAt:1,t=i.player.getVideoLoadedFraction()>e/i.player.getDuration();if(0<i.player.getDuration()&&i.player.getCurrentTime()>=e&&t){clearInterval(i.checkForStartAt),i.isReady=!0,"function"==typeof i.opt.onReady&&i.opt.onReady(i);var r=jQuery.Event("YTPReady");jQuery(i).trigger(r),i.player.pauseVideo(),i.opt.mute||jQuery(i).YTPUnmute(),i.canTrigger=!0,i.opt.autoPlay?(a.YTPPlay(),a.css("background-image","none"),jQuery(i.playerEl).CSSAnimate({opacity:1},1e3),i.wrapper.CSSAnimate({opacity:i.isAlone?1:i.opt.opacity},1e3)):(i.player.pauseVideo(),i.isPlayer||(jQuery(i.playerEl).CSSAnimate({opacity:1},1e3),i.wrapper.CSSAnimate({opacity:i.isAlone?1:i.opt.opacity},1e3))),i.isPlayer&&!i.opt.autoPlay&&(i.loading.html("Ready"),setTimeout(function(){i.loading.fadeOut()},100)),i.controlBar&&i.controlBar.slideDown(1e3)}else 0<=e&&i.player.seekTo(e,!0)},1e3)}else jQuery(i).YTPPlayerDestroy()},formatTime:function(e){var t=Math.floor(e/60),r=Math.floor(e-60*t);return(t<=9?"0"+t:t)+" : "+(r<=9?"0"+r:r)}},jQuery.fn.toggleVolume=function(){var e=this.get(0);if(e)return e.player.isMuted()?(jQuery(e).YTPUnmute(),!0):(jQuery(e).YTPMute(),!1)},jQuery.fn.optimizeDisplay=function(){var e=this.get(0),t=e.opt,r=jQuery(e.playerEl),i={},a=e.wrapper;i.width=a.outerWidth(),i.height=a.outerHeight();var n={};t.optimizeDisplay?(n.width=i.width+24*i.width/100,n.height="16/9"==t.ratio?Math.ceil(9*i.width/16):Math.ceil(3*i.width/4),n.marginTop=-(n.height-i.height)/2,n.marginLeft=-12*i.width/100,n.height<i.height&&(n.height=i.height+24*i.height/100,n.width="16/9"==t.ratio?Math.floor(16*i.height/9):Math.floor(4*i.height/3),n.marginTop=-12*i.height/100,n.marginLeft=-(n.width-i.width)/2),n.width+=100,n.height+=100,n.marginTop-=50,n.marginLeft-=50):(n.width="100%",n.height="100%",n.marginTop=0,n.marginLeft=0),r.css({width:n.width,height:n.height,marginTop:n.marginTop,marginLeft:n.marginLeft})},jQuery.shuffle=function(e){for(var t=e.slice(),r=t.length,i=r;i--;){var a=parseInt(Math.random()*r),n=t[i];t[i]=t[a],t[a]=n}return t},jQuery.fn.YTPlayer=jQuery.mbYTPlayer.buildPlayer,jQuery.fn.YTPGetPlayer=jQuery.mbYTPlayer.getPlayer,jQuery.fn.YTPGetVideoID=jQuery.mbYTPlayer.getVideoID,jQuery.fn.YTPChangeMovie=jQuery.mbYTPlayer.changeMovie,jQuery.fn.YTPPlayerDestroy=jQuery.mbYTPlayer.playerDestroy,jQuery.fn.YTPPlay=jQuery.mbYTPlayer.play,jQuery.fn.YTPTogglePlay=jQuery.mbYTPlayer.togglePlay,jQuery.fn.YTPStop=jQuery.mbYTPlayer.stop,jQuery.fn.YTPPause=jQuery.mbYTPlayer.pause,jQuery.fn.YTPSeekTo=jQuery.mbYTPlayer.seekTo,jQuery.fn.YTPlaylist=jQuery.mbYTPlayer.playlist,jQuery.fn.YTPPlayNext=jQuery.mbYTPlayer.playNext,jQuery.fn.YTPPlayPrev=jQuery.mbYTPlayer.playPrev,jQuery.fn.YTPMute=jQuery.mbYTPlayer.mute,jQuery.fn.YTPUnmute=jQuery.mbYTPlayer.unmute,jQuery.fn.YTPToggleVolume=jQuery.mbYTPlayer.toggleVolume,jQuery.fn.YTPSetVolume=jQuery.mbYTPlayer.setVolume,jQuery.fn.YTPGetVideoData=jQuery.mbYTPlayer.getVideoData,jQuery.fn.YTPFullscreen=jQuery.mbYTPlayer.fullscreen,jQuery.fn.YTPToggleLoops=jQuery.mbYTPlayer.toggleLoops,jQuery.fn.YTPSetVideoQuality=jQuery.mbYTPlayer.setVideoQuality,jQuery.fn.YTPManageProgress=jQuery.mbYTPlayer.manageProgress,jQuery.fn.YTPApplyFilter=jQuery.mbYTPlayer.applyFilter,jQuery.fn.YTPApplyFilters=jQuery.mbYTPlayer.applyFilters,jQuery.fn.YTPToggleFilter=jQuery.mbYTPlayer.toggleFilter,jQuery.fn.YTPToggleFilters=jQuery.mbYTPlayer.toggleFilters,jQuery.fn.YTPRemoveFilter=jQuery.mbYTPlayer.removeFilter,jQuery.fn.YTPDisableFilters=jQuery.mbYTPlayer.disableFilters,jQuery.fn.YTPEnableFilters=jQuery.mbYTPlayer.enableFilters,jQuery.fn.mb_YTPlayer=jQuery.mbYTPlayer.buildPlayer,jQuery.fn.playNext=jQuery.mbYTPlayer.playNext,jQuery.fn.playPrev=jQuery.mbYTPlayer.playPrev,jQuery.fn.changeMovie=jQuery.mbYTPlayer.changeMovie,jQuery.fn.getVideoID=jQuery.mbYTPlayer.getVideoID,jQuery.fn.getPlayer=jQuery.mbYTPlayer.getPlayer,jQuery.fn.playerDestroy=jQuery.mbYTPlayer.playerDestroy,jQuery.fn.fullscreen=jQuery.mbYTPlayer.fullscreen,jQuery.fn.buildYTPControls=jQuery.mbYTPlayer.buildControls,jQuery.fn.playYTP=jQuery.mbYTPlayer.play,jQuery.fn.toggleLoops=jQuery.mbYTPlayer.toggleLoops,jQuery.fn.stopYTP=jQuery.mbYTPlayer.stop,jQuery.fn.pauseYTP=jQuery.mbYTPlayer.pause,jQuery.fn.seekToYTP=jQuery.mbYTPlayer.seekTo,jQuery.fn.muteYTPVolume=jQuery.mbYTPlayer.mute,jQuery.fn.unmuteYTPVolume=jQuery.mbYTPlayer.unmute,jQuery.fn.setYTPVolume=jQuery.mbYTPlayer.setVolume,jQuery.fn.setVideoQuality=jQuery.mbYTPlayer.setVideoQuality,jQuery.fn.manageYTPProgress=jQuery.mbYTPlayer.manageProgress,jQuery.fn.YTPGetDataFromFeed=jQuery.mbYTPlayer.getVideoData}(jQuery,ytp),jQuery.support.CSStransition=function(){var e=(document.body||document.documentElement).style;return void 0!==e.transition||void 0!==e.WebkitTransition||void 0!==e.MozTransition||void 0!==e.MsTransition||void 0!==e.OTransition}(),jQuery.CSS={name:"mb.CSSAnimate",author:"Matteo Bicocchi",version:"2.0.0",transitionEnd:"transitionEnd",sfx:"",filters:{blur:{min:0,max:100,unit:"px"},brightness:{min:0,max:400,unit:"%"},contrast:{min:0,max:400,unit:"%"},grayscale:{min:0,max:100,unit:"%"},hueRotate:{min:0,max:360,unit:"deg"},invert:{min:0,max:100,unit:"%"},saturate:{min:0,max:400,unit:"%"},sepia:{min:0,max:100,unit:"%"}},normalizeCss:function(e){var t=jQuery.extend(!0,{},e);for(var r in jQuery.browser.webkit||jQuery.browser.opera?jQuery.CSS.sfx="-webkit-":jQuery.browser.mozilla?jQuery.CSS.sfx="-moz-":jQuery.browser.msie&&(jQuery.CSS.sfx="-ms-"),t){"transform"===r&&(t[jQuery.CSS.sfx+"transform"]=t[r],delete t[r]),"transform-origin"===r&&(t[jQuery.CSS.sfx+"transform-origin"]=e[r],delete t[r]),"filter"!==r||jQuery.browser.mozilla||(t[jQuery.CSS.sfx+"filter"]=e[r],delete t[r]),"blur"===r&&setFilter(t,"blur",e[r]),"brightness"===r&&setFilter(t,"brightness",e[r]),"contrast"===r&&setFilter(t,"contrast",e[r]),"grayscale"===r&&setFilter(t,"grayscale",e[r]),"hueRotate"===r&&setFilter(t,"hueRotate",e[r]),"invert"===r&&setFilter(t,"invert",e[r]),"saturate"===r&&setFilter(t,"saturate",e[r]),"sepia"===r&&setFilter(t,"sepia",e[r]);var i="";"x"===r&&(t[i=jQuery.CSS.sfx+"transform"]=t[i]||"",t[i]+=" translateX("+setUnit(e[r],"px")+")",delete t[r]),"y"===r&&(t[i=jQuery.CSS.sfx+"transform"]=t[i]||"",t[i]+=" translateY("+setUnit(e[r],"px")+")",delete t[r]),"z"===r&&(t[i=jQuery.CSS.sfx+"transform"]=t[i]||"",t[i]+=" translateZ("+setUnit(e[r],"px")+")",delete t[r]),"rotate"===r&&(t[i=jQuery.CSS.sfx+"transform"]=t[i]||"",t[i]+=" rotate("+setUnit(e[r],"deg")+")",delete t[r]),"rotateX"===r&&(t[i=jQuery.CSS.sfx+"transform"]=t[i]||"",t[i]+=" rotateX("+setUnit(e[r],"deg")+")",delete t[r]),"rotateY"===r&&(t[i=jQuery.CSS.sfx+"transform"]=t[i]||"",t[i]+=" rotateY("+setUnit(e[r],"deg")+")",delete t[r]),"rotateZ"===r&&(t[i=jQuery.CSS.sfx+"transform"]=t[i]||"",t[i]+=" rotateZ("+setUnit(e[r],"deg")+")",delete t[r]),"scale"===r&&(t[i=jQuery.CSS.sfx+"transform"]=t[i]||"",t[i]+=" scale("+setUnit(e[r],"")+")",delete t[r]),"scaleX"===r&&(t[i=jQuery.CSS.sfx+"transform"]=t[i]||"",t[i]+=" scaleX("+setUnit(e[r],"")+")",delete t[r]),"scaleY"===r&&(t[i=jQuery.CSS.sfx+"transform"]=t[i]||"",t[i]+=" scaleY("+setUnit(e[r],"")+")",delete t[r]),"scaleZ"===r&&(t[i=jQuery.CSS.sfx+"transform"]=t[i]||"",t[i]+=" scaleZ("+setUnit(e[r],"")+")",delete t[r]),"skew"===r&&(t[i=jQuery.CSS.sfx+"transform"]=t[i]||"",t[i]+=" skew("+setUnit(e[r],"deg")+")",delete t[r]),"skewX"===r&&(t[i=jQuery.CSS.sfx+"transform"]=t[i]||"",t[i]+=" skewX("+setUnit(e[r],"deg")+")",delete t[r]),"skewY"===r&&(t[i=jQuery.CSS.sfx+"transform"]=t[i]||"",t[i]+=" skewY("+setUnit(e[r],"deg")+")",delete t[r]),"perspective"===r&&(t[i=jQuery.CSS.sfx+"transform"]=t[i]||"",t[i]+=" perspective("+setUnit(e[r],"px")+")",delete t[r])}return t},getProp:function(e){var t=[];for(var r in e)t.indexOf(r)<0&&t.push(uncamel(r));return t.join(",")},animate:function(c,d,h,y,p){return this.each(function(){function e(){t.called=!0,t.CSSAIsRunning=!1,r.off(jQuery.CSS.transitionEnd+"."+t.id),clearTimeout(t.timeout),r.css(jQuery.CSS.sfx+"transition",""),"function"==typeof p&&p.apply(t),"function"==typeof t.CSSqueue&&(t.CSSqueue(),t.CSSqueue=null)}var t=this,r=jQuery(this);t.id=t.id||"CSSA_"+(new Date).getTime();var i=i||{type:"noEvent"};if(t.CSSAIsRunning&&t.eventType==i.type&&!jQuery.browser.msie&&jQuery.browser.version<=9)t.CSSqueue=function(){r.CSSAnimate(c,d,h,y,p)};else if(t.CSSqueue=null,t.eventType=i.type,0!==r.length&&c){if(c=jQuery.normalizeCss(c),t.CSSAIsRunning=!0,"function"==typeof d&&(p=d,d=jQuery.fx.speeds._default),"function"==typeof h&&(y=h,h=0),"string"==typeof h&&(p=h,h=0),"function"==typeof y&&(p=y,y="cubic-bezier(0.65,0.03,0.36,0.72)"),"string"==typeof d)for(var a in jQuery.fx.speeds){if(d==a){d=jQuery.fx.speeds[a];break}d=jQuery.fx.speeds._default}if(d||(d=jQuery.fx.speeds._default),"string"==typeof p&&(y=p,p=null),!jQuery.support.CSStransition){for(var n in c){if("transform"===n&&delete c[n],"filter"===n&&delete c[n],"transform-origin"===n&&delete c[n],"auto"===c[n]&&delete c[n],"x"===n){var o=c[n];c["left"]=o,delete c[n]}if("y"===n){o=c[n];c["top"]=o,delete c[n]}("-ms-transform"===n||"-ms-filter"===n)&&delete c[n]}return void r.delay(h).animate(c,d,p)}var s={default:"ease",in:"ease-in",out:"ease-out","in-out":"ease-in-out",snap:"cubic-bezier(0,1,.5,1)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInBack:"cubic-bezier(.6,-.28,.735,.045)",easeOutBack:"cubic-bezier(.175, .885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)"};s[y]&&(y=s[y]),r.off(jQuery.CSS.transitionEnd+"."+t.id);var l=jQuery.CSS.getProp(c),u={};jQuery.extend(u,c),u[jQuery.CSS.sfx+"transition-property"]=l,u[jQuery.CSS.sfx+"transition-duration"]=d+"ms",u[jQuery.CSS.sfx+"transition-delay"]=h+"ms",u[jQuery.CSS.sfx+"transition-timing-function"]=y,setTimeout(function(){r.one(jQuery.CSS.transitionEnd+"."+t.id,e),r.css(u)},1),t.timeout=setTimeout(function(){return t.called||!p?(t.called=!1,void(t.CSSAIsRunning=!1)):(r.css(jQuery.CSS.sfx+"transition",""),p.apply(t),t.CSSAIsRunning=!1,void("function"==typeof t.CSSqueue&&(t.CSSqueue(),t.CSSqueue=null)))},d+h+10)}})}},jQuery.fn.CSSAnimate=jQuery.CSS.animate,jQuery.normalizeCss=jQuery.CSS.normalizeCss,jQuery.fn.css3=function(r){return this.each(function(){var e=jQuery(this),t=jQuery.normalizeCss(r);e.css(t)})};var nAgt=navigator.userAgent;if(!jQuery.browser){var nameOffset,verOffset,ix;if(jQuery.browser={},jQuery.browser.mozilla=!1,jQuery.browser.webkit=!1,jQuery.browser.opera=!1,jQuery.browser.safari=!1,jQuery.browser.chrome=!1,jQuery.browser.msie=!1,jQuery.browser.ua=nAgt,jQuery.browser.name=navigator.appName,jQuery.browser.fullVersion=""+parseFloat(navigator.appVersion),jQuery.browser.majorVersion=parseInt(navigator.appVersion,10),-1!=(verOffset=nAgt.indexOf("Opera")))jQuery.browser.opera=!0,jQuery.browser.name="Opera",jQuery.browser.fullVersion=nAgt.substring(verOffset+6),-1!=(verOffset=nAgt.indexOf("Version"))&&(jQuery.browser.fullVersion=nAgt.substring(verOffset+8));else if(-1!=(verOffset=nAgt.indexOf("OPR")))jQuery.browser.opera=!0,jQuery.browser.name="Opera",jQuery.browser.fullVersion=nAgt.substring(verOffset+4);else if(-1!=(verOffset=nAgt.indexOf("MSIE")))jQuery.browser.msie=!0,jQuery.browser.name="Microsoft Internet Explorer",jQuery.browser.fullVersion=nAgt.substring(verOffset+5);else if(-1!=nAgt.indexOf("Trident")){jQuery.browser.msie=!0,jQuery.browser.name="Microsoft Internet Explorer";var start=nAgt.indexOf("rv:")+3,end=start+4;jQuery.browser.fullVersion=nAgt.substring(start,end)}else-1!=(verOffset=nAgt.indexOf("Chrome"))?(jQuery.browser.webkit=!0,jQuery.browser.chrome=!0,jQuery.browser.name="Chrome",jQuery.browser.fullVersion=nAgt.substring(verOffset+7)):-1!=(verOffset=nAgt.indexOf("Safari"))?(jQuery.browser.webkit=!0,jQuery.browser.safari=!0,jQuery.browser.name="Safari",jQuery.browser.fullVersion=nAgt.substring(verOffset+7),-1!=(verOffset=nAgt.indexOf("Version"))&&(jQuery.browser.fullVersion=nAgt.substring(verOffset+8))):-1!=(verOffset=nAgt.indexOf("AppleWebkit"))?(jQuery.browser.webkit=!0,jQuery.browser.name="Safari",jQuery.browser.fullVersion=nAgt.substring(verOffset+7),-1!=(verOffset=nAgt.indexOf("Version"))&&(jQuery.browser.fullVersion=nAgt.substring(verOffset+8))):-1!=(verOffset=nAgt.indexOf("Firefox"))?(jQuery.browser.mozilla=!0,jQuery.browser.name="Firefox",jQuery.browser.fullVersion=nAgt.substring(verOffset+8)):(nameOffset=nAgt.lastIndexOf(" ")+1)<(verOffset=nAgt.lastIndexOf("/"))&&(jQuery.browser.name=nAgt.substring(nameOffset,verOffset),jQuery.browser.fullVersion=nAgt.substring(verOffset+1),jQuery.browser.name.toLowerCase()==jQuery.browser.name.toUpperCase()&&(jQuery.browser.name=navigator.appName));-1!=(ix=jQuery.browser.fullVersion.indexOf(";"))&&(jQuery.browser.fullVersion=jQuery.browser.fullVersion.substring(0,ix)),-1!=(ix=jQuery.browser.fullVersion.indexOf(" "))&&(jQuery.browser.fullVersion=jQuery.browser.fullVersion.substring(0,ix)),jQuery.browser.majorVersion=parseInt(""+jQuery.browser.fullVersion,10),isNaN(jQuery.browser.majorVersion)&&(jQuery.browser.fullVersion=""+parseFloat(navigator.appVersion),jQuery.browser.majorVersion=parseInt(navigator.appVersion,10)),jQuery.browser.version=jQuery.browser.majorVersion}jQuery.browser.android=/Android/i.test(nAgt),jQuery.browser.blackberry=/BlackBerry|BB|PlayBook/i.test(nAgt),jQuery.browser.ios=/iPhone|iPad|iPod|webOS/i.test(nAgt),jQuery.browser.operaMobile=/Opera Mini/i.test(nAgt),jQuery.browser.windowsMobile=/IEMobile|Windows Phone/i.test(nAgt),jQuery.browser.kindle=/Kindle|Silk/i.test(nAgt),jQuery.browser.mobile=jQuery.browser.android||jQuery.browser.blackberry||jQuery.browser.ios||jQuery.browser.windowsMobile||jQuery.browser.operaMobile||jQuery.browser.kindle,jQuery.isMobile=jQuery.browser.mobile,jQuery.isTablet=jQuery.browser.mobile&&765<jQuery(window).width(),jQuery.isAndroidDefault=jQuery.browser.android&&!/chrome/i.test(nAgt),function(o){/iphone|ipod|ipad|android|ie|blackberry|fennec/.test(navigator.userAgent.toLowerCase());var n="ontouchstart"in window||window.navigator&&window.navigator.msPointerEnabled&&window.MSGesture||window.DocumentTouch&&document instanceof DocumentTouch||!1;o.simpleSlider={defaults:{initialval:0,scale:100,orientation:"h",readonly:!1,callback:!1},events:{start:n?"touchstart":"mousedown",end:n?"touchend":"mouseup",move:n?"touchmove":"mousemove"},init:function(a){return this.each(function(){var t=this,r=o(t);r.addClass("simpleSlider"),t.opt={},o.extend(t.opt,o.simpleSlider.defaults,a),o.extend(t.opt,r.data());var e="h"==t.opt.orientation?"horizontal":"vertical",i=o("<div/>").addClass("level").addClass(e);r.prepend(i),t.level=i,r.css({cursor:"default"}),"auto"==t.opt.scale&&(t.opt.scale=o(t).outerWidth()),r.updateSliderVal(),t.opt.readonly||(r.on(o.simpleSlider.events.start,function(e){n&&(e=e.changedTouches[0]),t.canSlide=!0,r.updateSliderVal(e),r.css({cursor:"col-resize"}),e.preventDefault(),e.stopPropagation()}),o(document).on(o.simpleSlider.events.move,function(e){n&&(e=e.changedTouches[0]),t.canSlide&&(o(document).css({cursor:"default"}),r.updateSliderVal(e),e.preventDefault(),e.stopPropagation())}).on(o.simpleSlider.events.end,function(){o(document).css({cursor:"auto"}),t.canSlide=!1,r.css({cursor:"auto"})}))})},updateSliderVal:function(e){function t(e,t){return Math.floor(100*e/t)}var r=this,i=r.get(0);i.opt.initialval="number"==typeof i.opt.initialval?i.opt.initialval:i.opt.initialval(i);var a=o(i).outerWidth(),n=o(i).outerHeight();i.x="object"==typeof e?e.clientX+document.body.scrollLeft-r.offset().left:"number"==typeof e?e*a/i.opt.scale:i.opt.initialval*a/i.opt.scale,i.y="object"==typeof e?e.clientY+document.body.scrollTop-r.offset().top:"number"==typeof e?(i.opt.scale-i.opt.initialval-e)*n/i.opt.scale:i.opt.initialval*n/i.opt.scale,i.y=r.outerHeight()-i.y,i.scaleX=i.x*i.opt.scale/a,i.scaleY=i.y*i.opt.scale/n,i.outOfRangeX=i.scaleX>i.opt.scale?i.scaleX-i.opt.scale:i.scaleX<0?i.scaleX:0,i.outOfRangeY=i.scaleY>i.opt.scale?i.scaleY-i.opt.scale:i.scaleY<0?i.scaleY:0,i.outOfRange="h"==i.opt.orientation?i.outOfRangeX:i.outOfRangeY,i.value=void 0!==e?"h"==i.opt.orientation?i.x>=r.outerWidth()?i.opt.scale:i.x<=0?0:i.scaleX:i.y>=r.outerHeight()?i.opt.scale:i.y<=0?0:i.scaleY:"h"==i.opt.orientation?i.scaleX:i.scaleY,"h"==i.opt.orientation?i.level.width(t(i.x,a)+"%"):i.level.height(t(i.y,n)),"function"==typeof i.opt.callback&&i.opt.callback(i)}},o.fn.simpleSlider=o.simpleSlider.init,o.fn.updateSliderVal=o.simpleSlider.updateSliderVal}(jQuery),function(t){t.mbCookie={set:function(e,t,r,i){t=JSON.stringify(t),r||(r=7),i=i?"; domain="+i:"";var a,n=new Date;n.setTime(n.getTime()+864e5*r),a="; expires="+n.toGMTString(),document.cookie=e+"="+t+a+"; path=/"+i},get:function(e){for(var t=e+"=",r=document.cookie.split(";"),i=0;i<r.length;i++){for(var a=r[i];" "==a.charAt(0);)a=a.substring(1,a.length);if(0==a.indexOf(t))return JSON.parse(a.substring(t.length,a.length))}return null},remove:function(e){t.mbCookie.set(e,"",-1)}},t.mbStorage={set:function(e,t){t=JSON.stringify(t),localStorage.setItem(e,t)},get:function(e){return localStorage[e]?JSON.parse(localStorage[e]):null},remove:function(e){e?localStorage.removeItem(e):localStorage.clear()}}}(jQuery),function(n,o,r){var t=function(e,t){this.elem=e,this.$elem=n(e),this.options=t,this.metadata=this.$elem.data("plugin-options"),this.$nav=this.$elem.find("a"),this.$win=n(o),this.sections={},this.didScroll=!1,this.$doc=n(r),this.docHeight=this.$doc.height()};t.defaults=(t.prototype={defaults:{currentClass:"current",changeHash:!1,easing:"swing",filter:"",scrollSpeed:750,scrollOffset:0,scrollThreshold:.5,begin:!1,end:!1,scrollChange:!1},init:function(){var e=this;return e.config=n.extend({},e.defaults,e.options,e.metadata),""!==e.config.filter&&(e.$nav=e.$nav.filter(e.config.filter)),e.getPositions(),e.bindInterval(),e.$win.on("resize.onePageNav",n.proxy(e.getPositions,e)),this},adjustNav:function(e,t){e.$elem.find("."+e.config.currentClass).removeClass(e.config.currentClass),t.addClass(e.config.currentClass)},bindInterval:function(){var e,t=this;t.$win.on("scroll.onePageNav",function(){t.didScroll=!0}),t.t=setInterval(function(){e=t.$doc.height(),t.didScroll&&(t.didScroll=!1,t.scrollChange()),e!==t.docHeight&&(t.docHeight=e,t.getPositions())},250)},getHash:function(e){return e.attr("href").split("#")[1]},getPositions:function(){var e,t,r,i=this;i.$nav.each(function(){e=i.getHash(n(this)),(r=n("#"+e)).length&&(t=r.offset().top,i.sections[e]=Math.round(t)-i.config.scrollOffset)})},getSection:function(e){var t=null,r=Math.round(this.$win.height()*this.config.scrollThreshold);for(var i in this.sections)this.sections[i]-r<e&&(t=i);return t},handleClick:function(e){var t=this,r=n(e.currentTarget),i=r.parent(),a="#"+t.getHash(r);i.hasClass(t.config.currentClass)||(t.config.begin&&t.config.begin(),t.adjustNav(t,i),t.unbindInterval(),n.scrollTo(a,t.config.scrollSpeed,{axis:"y",easing:t.config.easing,offset:{top:-t.config.scrollOffset},onAfter:function(){t.config.changeHash&&(o.location.hash=a),t.bindInterval(),t.config.end&&t.config.end()}})),e.preventDefault()},scrollChange:function(){var e,t=this.$win.scrollTop(),r=this.getSection(t);null!==r&&((e=this.$elem.find('a[href$="#'+r+'"]').parent()).hasClass(this.config.currentClass)||(this.adjustNav(this,e),this.config.scrollChange&&this.config.scrollChange(e)))},unbindInterval:function(){clearInterval(this.t),this.$win.unbind("scroll.onePageNav")}}).defaults,n.fn.onePageNav=function(e){return this.each(function(){new t(this,e).init()})}}(jQuery,window,document),function(u){var t=Array.prototype.slice,i=Array.prototype.splice,s={topSpacing:0,bottomSpacing:0,className:"is-sticky",wrapperClassName:"sticky-wrapper",center:!1,getWidthFrom:"",widthFromWrapper:!0,responsiveWidth:!1},c=u(window),d=u(document),h=[],y=c.height(),e=function(){for(var e=c.scrollTop(),t=d.height(),r=t-y,i=r<e?r-e:0,a=0;a<h.length;a++){var n=h[a],o=n.stickyWrapper.offset().top-n.topSpacing-i;if(n.stickyWrapper.css("height",n.stickyElement.outerHeight()),e<=o)null!==n.currentTop&&(n.stickyElement.css({width:"",position:"",top:""}),n.stickyElement.parent().removeClass(n.className),n.stickyElement.trigger("sticky-end",[n]),n.currentTop=null);else{var s,l=t-n.stickyElement.outerHeight()-n.topSpacing-n.bottomSpacing-e-i;if(l<0?l+=n.topSpacing:l=n.topSpacing,n.currentTop!=l)n.getWidthFrom?s=u(n.getWidthFrom).width()||null:n.widthFromWrapper&&(s=n.stickyWrapper.width()),null==s&&(s=n.stickyElement.width()),n.stickyElement.css("width",s).css("position","fixed").css("top",l),n.stickyElement.parent().addClass(n.className),null===n.currentTop?n.stickyElement.trigger("sticky-start",[n]):n.stickyElement.trigger("sticky-update",[n]),n.currentTop===n.topSpacing&&n.currentTop>l||null===n.currentTop&&l<n.topSpacing?n.stickyElement.trigger("sticky-bottom-reached",[n]):null!==n.currentTop&&l===n.topSpacing&&n.currentTop<l&&n.stickyElement.trigger("sticky-bottom-unreached",[n]),n.currentTop=l}}},r=function(){y=c.height();for(var e=0;e<h.length;e++){var t=h[e],r=null;t.getWidthFrom?!0===t.responsiveWidth&&(r=u(t.getWidthFrom).width()):t.widthFromWrapper&&(r=t.stickyWrapper.width()),null!=r&&t.stickyElement.css("width",r)}},a={init:function(e){var o=u.extend({},s,e);return this.each(function(){var e=u(this),t=e.attr("id"),r=e.outerHeight(),i=t?t+"-"+s.wrapperClassName:s.wrapperClassName,a=u("<div></div>").attr("id",i).addClass(o.wrapperClassName);e.wrapAll(a);var n=e.parent();o.center&&n.css({width:e.outerWidth(),marginLeft:"auto",marginRight:"auto"}),"right"==e.css("float")&&e.css({float:"none"}).parent().css({float:"right"}),n.css("height",r),o.stickyElement=e,o.stickyWrapper=n,o.currentTop=null,h.push(o)})},update:e,unstick:function(){return this.each(function(){for(var e=u(this),t=-1,r=h.length;0<r--;)h[r].stickyElement.get(0)===this&&(i.call(h,r,1),t=r);-1!=t&&(e.unwrap(),e.css({width:"",position:"",top:"",float:""}))})}};window.addEventListener?(window.addEventListener("scroll",e,!1),window.addEventListener("resize",r,!1)):window.attachEvent&&(window.attachEvent("onscroll",e),window.attachEvent("onresize",r)),u.fn.sticky=function(e){return a[e]?a[e].apply(this,t.call(arguments,1)):"object"!=typeof e&&e?void u.error("Method "+e+" does not exist on jQuery.sticky"):a.init.apply(this,arguments)},u.fn.unstick=function(e){return a[e]?a[e].apply(this,t.call(arguments,1)):"object"!=typeof e&&e?void u.error("Method "+e+" does not exist on jQuery.sticky"):a.unstick.apply(this,arguments)},u(function(){setTimeout(e,0)})}(jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=e(require("jquery")):e(jQuery)}(function(c){c.extend(c.fn,{validate:function(e){if(this.length){var i=c.data(this[0],"validator");return i||(this.attr("novalidate","novalidate"),i=new c.validator(e,this[0]),c.data(this[0],"validator",i),i.settings.onsubmit&&(this.on("click.validate",":submit",function(e){i.settings.submitHandler&&(i.submitButton=e.target),c(this).hasClass("cancel")&&(i.cancelSubmit=!0),void 0!==c(this).attr("formnovalidate")&&(i.cancelSubmit=!0)}),this.on("submit.validate",function(r){function e(){var e,t;return!i.settings.submitHandler||(i.submitButton&&(e=c("<input type='hidden'/>").attr("name",i.submitButton.name).val(c(i.submitButton).val()).appendTo(i.currentForm)),t=i.settings.submitHandler.call(i,i.currentForm,r),i.submitButton&&e.remove(),void 0!==t&&t)}return i.settings.debug&&r.preventDefault(),i.cancelSubmit?(i.cancelSubmit=!1,e()):i.form()?i.pendingRequest?!(i.formSubmitted=!0):e():(i.focusInvalid(),!1)})),i)}e&&e.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing.")},valid:function(){var e,t,r;return c(this[0]).is("form")?e=this.validate().form():(r=[],e=!0,t=c(this[0].form).validate(),this.each(function(){(e=t.element(this)&&e)||(r=r.concat(t.errorList))}),t.errorList=r),e},rules:function(e,t){if(this.length){var r,i,a,n,o,s,l=this[0];if(e)switch(r=c.data(l.form,"validator").settings,i=r.rules,a=c.validator.staticRules(l),e){case"add":c.extend(a,c.validator.normalizeRule(t)),delete a.messages,i[l.name]=a,t.messages&&(r.messages[l.name]=c.extend(r.messages[l.name],t.messages));break;case"remove":return t?(s={},c.each(t.split(/\s/),function(e,t){s[t]=a[t],delete a[t],"required"===t&&c(l).removeAttr("aria-required")}),s):(delete i[l.name],a)}return(n=c.validator.normalizeRules(c.extend({},c.validator.classRules(l),c.validator.attributeRules(l),c.validator.dataRules(l),c.validator.staticRules(l)),l)).required&&(o=n.required,delete n.required,n=c.extend({required:o},n),c(l).attr("aria-required","true")),n.remote&&(o=n.remote,delete n.remote,n=c.extend(n,{remote:o})),n}}}),c.extend(c.expr[":"],{blank:function(e){return!c.trim(""+c(e).val())},filled:function(e){var t=c(e).val();return null!==t&&!!c.trim(""+t)},unchecked:function(e){return!c(e).prop("checked")}}),c.validator=function(e,t){this.settings=c.extend(!0,{},c.validator.defaults,e),this.currentForm=t,this.init()},c.validator.format=function(r,e){return 1===arguments.length?function(){var e=c.makeArray(arguments);return e.unshift(r),c.validator.format.apply(this,e)}:(void 0===e||(2<arguments.length&&e.constructor!==Array&&(e=c.makeArray(arguments).slice(1)),e.constructor!==Array&&(e=[e]),c.each(e,function(e,t){r=r.replace(new RegExp("\\{"+e+"\\}","g"),function(){return t})})),r)},c.extend(c.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",pendingClass:"pending",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:c([]),errorLabelContainer:c([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(e){this.lastActive=e,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,e,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(e)))},onfocusout:function(e){this.checkable(e)||!(e.name in this.submitted)&&this.optional(e)||this.element(e)},onkeyup:function(e,t){9===t.which&&""===this.elementValue(e)||-1!==c.inArray(t.keyCode,[16,17,18,20,35,36,37,38,39,40,45,144,225])||(e.name in this.submitted||e.name in this.invalid)&&this.element(e)},onclick:function(e){e.name in this.submitted?this.element(e):e.parentNode.name in this.submitted&&this.element(e.parentNode)},highlight:function(e,t,r){"radio"===e.type?this.findByName(e.name).addClass(t).removeClass(r):c(e).addClass(t).removeClass(r)},unhighlight:function(e,t,r){"radio"===e.type?this.findByName(e.name).removeClass(t).addClass(r):c(e).removeClass(t).addClass(r)}},setDefaults:function(e){c.extend(c.validator.defaults,e)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date ( ISO ).",number:"Please enter a valid number.",digits:"Please enter only digits.",equalTo:"Please enter the same value again.",maxlength:c.validator.format("Please enter no more than {0} characters."),minlength:c.validator.format("Please enter at least {0} characters."),rangelength:c.validator.format("Please enter a value between {0} and {1} characters long."),range:c.validator.format("Please enter a value between {0} and {1}."),max:c.validator.format("Please enter a value less than or equal to {0}."),min:c.validator.format("Please enter a value greater than or equal to {0}."),step:c.validator.format("Please enter a multiple of {0}.")},autoCreateRanges:!1,prototype:{init:function(){function e(e){var t=c.data(this.form,"validator"),r="on"+e.type.replace(/^validate/,""),i=t.settings;i[r]&&!c(this).is(i.ignore)&&i[r].call(t,this,e)}this.labelContainer=c(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||c(this.currentForm),this.containers=c(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var r,i=this.groups={};c.each(this.settings.groups,function(r,e){"string"==typeof e&&(e=e.split(/\s/)),c.each(e,function(e,t){i[t]=r})}),r=this.settings.rules,c.each(r,function(e,t){r[e]=c.validator.normalizeRule(t)}),c(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox'], [contenteditable]",e).on("click.validate","select, option, [type='radio'], [type='checkbox']",e),this.settings.invalidHandler&&c(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler),c(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function(){return this.checkForm(),c.extend(this.submitted,this.errorMap),this.invalid=c.extend({},this.errorMap),this.valid()||c(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var e=0,t=this.currentElements=this.elements();t[e];e++)this.check(t[e]);return this.valid()},element:function(e){var t,r,i=this.clean(e),a=this.validationTargetFor(i),n=this,o=!0;return void 0===a?delete this.invalid[i.name]:(this.prepareElement(a),this.currentElements=c(a),(r=this.groups[a.name])&&c.each(this.groups,function(e,t){t===r&&e!==a.name&&((i=n.validationTargetFor(n.clean(n.findByName(e))))&&i.name in n.invalid&&(n.currentElements.push(i),o=o&&n.check(i)))}),t=!1!==this.check(a),o=o&&t,this.invalid[a.name]=!t,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),c(e).attr("aria-invalid",!t)),o},showErrors:function(t){if(t){var r=this;c.extend(this.errorMap,t),this.errorList=c.map(this.errorMap,function(e,t){return{message:e,element:r.findByName(t)[0]}}),this.successList=c.grep(this.successList,function(e){return!(e.name in t)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){c.fn.resetForm&&c(this.currentForm).resetForm(),this.invalid={},this.submitted={},this.prepareForm(),this.hideErrors();var e=this.elements().removeData("previousValue").removeAttr("aria-invalid");this.resetElements(e)},resetElements:function(e){var t;if(this.settings.unhighlight)for(t=0;e[t];t++)this.settings.unhighlight.call(this,e[t],this.settings.errorClass,""),this.findByName(e[t].name).removeClass(this.settings.validClass);else e.removeClass(this.settings.errorClass).removeClass(this.settings.validClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(e){var t,r=0;for(t in e)e[t]&&r++;return r},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(e){e.not(this.containers).text(""),this.addWrapper(e).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{c(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(e){}},findLastActive:function(){var t=this.lastActive;return t&&1===c.grep(this.errorList,function(e){return e.element.name===t.name}).length&&t},elements:function(){var t=this,r={};return c(this.currentForm).find("input, select, textarea, [contenteditable]").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){var e=this.name||c(this).attr("name");return!e&&t.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.hasAttribute("contenteditable")&&(this.form=c(this).closest("form")[0]),!(e in r||!t.objectLength(c(this).rules()))&&(r[e]=!0)})},clean:function(e){return c(e)[0]},errors:function(){var e=this.settings.errorClass.split(" ").join(".");return c(this.settings.errorElement+"."+e,this.errorContext)},resetInternals:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=c([]),this.toHide=c([])},reset:function(){this.resetInternals(),this.currentElements=c([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(e){this.reset(),this.toHide=this.errorsFor(e)},elementValue:function(e){var t,r,i=c(e),a=e.type;return"radio"===a||"checkbox"===a?this.findByName(e.name).filter(":checked").val():"number"===a&&void 0!==e.validity?e.validity.badInput?"NaN":i.val():(t=e.hasAttribute("contenteditable")?i.text():i.val(),"file"===a?"C:\\fakepath\\"===t.substr(0,12)?t.substr(12):0<=(r=t.lastIndexOf("/"))?t.substr(r+1):0<=(r=t.lastIndexOf("\\"))?t.substr(r+1):t:"string"==typeof t?t.replace(/\r/g,""):t)},check:function(t){t=this.validationTargetFor(this.clean(t));var e,r,i,a=c(t).rules(),n=c.map(a,function(e,t){return t}).length,o=!1,s=this.elementValue(t);if("function"==typeof a.normalizer){if("string"!=typeof(s=a.normalizer.call(t,s)))throw new TypeError("The normalizer should return a string value.");delete a.normalizer}for(r in a){i={method:r,parameters:a[r]};try{if("dependency-mismatch"===(e=c.validator.methods[r].call(this,s,t,i.parameters))&&1===n){o=!0;continue}if(o=!1,"pending"===e)return void(this.toHide=this.toHide.not(this.errorsFor(t)));if(!e)return this.formatAndAdd(t,i),!1}catch(e){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+t.id+", check the '"+i.method+"' method.",e),e instanceof TypeError&&(e.message+=".  Exception occurred when checking element "+t.id+", check the '"+i.method+"' method."),e}}if(!o)return this.objectLength(a)&&this.successList.push(t),!0},customDataMessage:function(e,t){return c(e).data("msg"+t.charAt(0).toUpperCase()+t.substring(1).toLowerCase())||c(e).data("msg")},customMessage:function(e,t){var r=this.settings.messages[e];return r&&(r.constructor===String?r:r[t])},findDefined:function(){for(var e=0;e<arguments.length;e++)if(void 0!==arguments[e])return arguments[e]},defaultMessage:function(e,t){var r=this.findDefined(this.customMessage(e.name,t.method),this.customDataMessage(e,t.method),!this.settings.ignoreTitle&&e.title||void 0,c.validator.messages[t.method],"<strong>Warning: No message defined for "+e.name+"</strong>"),i=/\$?\{(\d+)\}/g;return"function"==typeof r?r=r.call(this,t.parameters,e):i.test(r)&&(r=c.validator.format(r.replace(i,"{$1}"),t.parameters)),r},formatAndAdd:function(e,t){var r=this.defaultMessage(e,t);this.errorList.push({message:r,element:e,method:t.method}),this.errorMap[e.name]=r,this.submitted[e.name]=r},addWrapper:function(e){return this.settings.wrapper&&(e=e.add(e.parent(this.settings.wrapper))),e},defaultShowErrors:function(){var e,t,r;for(e=0;this.errorList[e];e++)r=this.errorList[e],this.settings.highlight&&this.settings.highlight.call(this,r.element,this.settings.errorClass,this.settings.validClass),this.showLabel(r.element,r.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(e=0;this.successList[e];e++)this.showLabel(this.successList[e]);if(this.settings.unhighlight)for(e=0,t=this.validElements();t[e];e++)this.settings.unhighlight.call(this,t[e],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return c(this.errorList).map(function(){return this.element})},showLabel:function(e,t){var r,i,a,n,o=this.errorsFor(e),s=this.idOrName(e),l=c(e).attr("aria-describedby");o.length?(o.removeClass(this.settings.validClass).addClass(this.settings.errorClass),o.html(t)):(r=o=c("<"+this.settings.errorElement+">").attr("id",s+"-error").addClass(this.settings.errorClass).html(t||""),this.settings.wrapper&&(r=o.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(r):this.settings.errorPlacement?this.settings.errorPlacement(r,c(e)):r.insertAfter(e),o.is("label")?o.attr("for",s):0===o.parents("label[for='"+this.escapeCssMeta(s)+"']").length&&(a=o.attr("id"),l?l.match(new RegExp("\\b"+this.escapeCssMeta(a)+"\\b"))||(l+=" "+a):l=a,c(e).attr("aria-describedby",l),(i=this.groups[e.name])&&(n=this,c.each(n.groups,function(e,t){t===i&&c("[name='"+n.escapeCssMeta(e)+"']",n.currentForm).attr("aria-describedby",o.attr("id"))})))),!t&&this.settings.success&&(o.text(""),"string"==typeof this.settings.success?o.addClass(this.settings.success):this.settings.success(o,e)),this.toShow=this.toShow.add(o)},errorsFor:function(e){var t=this.escapeCssMeta(this.idOrName(e)),r=c(e).attr("aria-describedby"),i="label[for='"+t+"'], label[for='"+t+"'] *";return r&&(i=i+", #"+this.escapeCssMeta(r).replace(/\s+/g,", #")),this.errors().filter(i)},escapeCssMeta:function(e){return e.replace(/([\\!"#$%&'()*+,./:;<=>?@\[\]^`{|}~])/g,"\\$1")},idOrName:function(e){return this.groups[e.name]||(this.checkable(e)?e.name:e.id||e.name)},validationTargetFor:function(e){return this.checkable(e)&&(e=this.findByName(e.name)),c(e).not(this.settings.ignore)[0]},checkable:function(e){return/radio|checkbox/i.test(e.type)},findByName:function(e){return c(this.currentForm).find("[name='"+this.escapeCssMeta(e)+"']")},getLength:function(e,t){switch(t.nodeName.toLowerCase()){case"select":return c("option:selected",t).length;case"input":if(this.checkable(t))return this.findByName(t.name).filter(":checked").length}return e.length},depend:function(e,t){return!this.dependTypes[typeof e]||this.dependTypes[typeof e](e,t)},dependTypes:{boolean:function(e){return e},string:function(e,t){return!!c(e,t.form).length},function:function(e,t){return e(t)}},optional:function(e){var t=this.elementValue(e);return!c.validator.methods.required.call(this,t,e)&&"dependency-mismatch"},startRequest:function(e){this.pending[e.name]||(this.pendingRequest++,c(e).addClass(this.settings.pendingClass),this.pending[e.name]=!0)},stopRequest:function(e,t){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[e.name],c(e).removeClass(this.settings.pendingClass),t&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(c(this.currentForm).submit(),this.formSubmitted=!1):!t&&0===this.pendingRequest&&this.formSubmitted&&(c(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(e,t){return c.data(e,"previousValue")||c.data(e,"previousValue",{old:null,valid:!0,message:this.defaultMessage(e,{method:t})})},destroy:function(){this.resetForm(),c(this.currentForm).off(".validate").removeData("validator").find(".validate-equalTo-blur").off(".validate-equalTo").removeClass("validate-equalTo-blur")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(e,t){e.constructor===String?this.classRuleSettings[e]=t:c.extend(this.classRuleSettings,e)},classRules:function(e){var t={},r=c(e).attr("class");return r&&c.each(r.split(" "),function(){this in c.validator.classRuleSettings&&c.extend(t,c.validator.classRuleSettings[this])}),t},normalizeAttributeRule:function(e,t,r,i){/min|max|step/.test(r)&&(null===t||/number|range|text/.test(t))&&(i=Number(i),isNaN(i)&&(i=void 0)),i||0===i?e[r]=i:t===r&&"range"!==t&&(e[r]=!0)},attributeRules:function(e){var t,r,i={},a=c(e),n=e.getAttribute("type");for(t in c.validator.methods)"required"===t?(""===(r=e.getAttribute(t))&&(r=!0),r=!!r):r=a.attr(t),this.normalizeAttributeRule(i,n,t,r);return i.maxlength&&/-1|2147483647|524288/.test(i.maxlength)&&delete i.maxlength,i},dataRules:function(e){var t,r,i={},a=c(e),n=e.getAttribute("type");for(t in c.validator.methods)r=a.data("rule"+t.charAt(0).toUpperCase()+t.substring(1).toLowerCase()),this.normalizeAttributeRule(i,n,t,r);return i},staticRules:function(e){var t={},r=c.data(e.form,"validator");return r.settings.rules&&(t=c.validator.normalizeRule(r.settings.rules[e.name])||{}),t},normalizeRules:function(i,a){return c.each(i,function(e,t){if(!1!==t){if(t.param||t.depends){var r=!0;switch(typeof t.depends){case"string":r=!!c(t.depends,a.form).length;break;case"function":r=t.depends.call(a,a)}r?i[e]=void 0===t.param||t.param:(c.data(a.form,"validator").resetElements(c(a)),delete i[e])}}else delete i[e]}),c.each(i,function(e,t){i[e]=c.isFunction(t)&&"normalizer"!==e?t(a):t}),c.each(["minlength","maxlength"],function(){i[this]&&(i[this]=Number(i[this]))}),c.each(["rangelength","range"],function(){var e;i[this]&&(c.isArray(i[this])?i[this]=[Number(i[this][0]),Number(i[this][1])]:"string"==typeof i[this]&&(e=i[this].replace(/[\[\]]/g,"").split(/[\s,]+/),i[this]=[Number(e[0]),Number(e[1])]))}),c.validator.autoCreateRanges&&(null!=i.min&&null!=i.max&&(i.range=[i.min,i.max],delete i.min,delete i.max),null!=i.minlength&&null!=i.maxlength&&(i.rangelength=[i.minlength,i.maxlength],delete i.minlength,delete i.maxlength)),i},normalizeRule:function(e){if("string"==typeof e){var t={};c.each(e.split(/\s/),function(){t[this]=!0}),e=t}return e},addMethod:function(e,t,r){c.validator.methods[e]=t,c.validator.messages[e]=void 0!==r?r:c.validator.messages[e],t.length<3&&c.validator.addClassRules(e,c.validator.normalizeRule(e))},methods:{required:function(e,t,r){if(!this.depend(r,t))return"dependency-mismatch";if("select"===t.nodeName.toLowerCase()){var i=c(t).val();return i&&0<i.length}return this.checkable(t)?0<this.getLength(e,t):0<e.length},email:function(e,t){return this.optional(t)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(e)},url:function(e,t){return this.optional(t)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(e)},date:function(e,t){return this.optional(t)||!/Invalid|NaN/.test(new Date(e).toString())},dateISO:function(e,t){return this.optional(t)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(e)},number:function(e,t){return this.optional(t)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(e)},digits:function(e,t){return this.optional(t)||/^\d+$/.test(e)},minlength:function(e,t,r){var i=c.isArray(e)?e.length:this.getLength(e,t);return this.optional(t)||r<=i},maxlength:function(e,t,r){var i=c.isArray(e)?e.length:this.getLength(e,t);return this.optional(t)||i<=r},rangelength:function(e,t,r){var i=c.isArray(e)?e.length:this.getLength(e,t);return this.optional(t)||i>=r[0]&&i<=r[1]},min:function(e,t,r){return this.optional(t)||r<=e},max:function(e,t,r){return this.optional(t)||e<=r},range:function(e,t,r){return this.optional(t)||e>=r[0]&&e<=r[1]},step:function(e,t,r){var i=c(t).attr("type"),a="Step attribute on input type "+i+" is not supported.",n=new RegExp("\\b"+i+"\\b");if(i&&!n.test(["text","number","range"].join()))throw new Error(a);return this.optional(t)||e%r==0},equalTo:function(e,t,r){var i=c(r);return this.settings.onfocusout&&i.not(".validate-equalTo-blur").length&&i.addClass("validate-equalTo-blur").on("blur.validate-equalTo",function(){c(t).valid()}),e===i.val()},remote:function(n,o,e,s){if(this.optional(o))return"dependency-mismatch";s="string"==typeof s&&s||"remote";var l,t,r,u=this.previousValue(o,s);return this.settings.messages[o.name]||(this.settings.messages[o.name]={}),u.originalMessage=u.originalMessage||this.settings.messages[o.name][s],this.settings.messages[o.name][s]=u.message,e="string"==typeof e&&{url:e}||e,r=c.param(c.extend({data:n},e.data)),u.old===r?u.valid:(u.old=r,(l=this).startRequest(o),(t={})[o.name]=n,c.ajax(c.extend(!0,{mode:"abort",port:"validate"+o.name,dataType:"json",data:t,context:l.currentForm,success:function(e){var t,r,i,a=!0===e||"true"===e;l.settings.messages[o.name][s]=u.originalMessage,a?(i=l.formSubmitted,l.resetInternals(),l.toHide=l.errorsFor(o),l.formSubmitted=i,l.successList.push(o),l.invalid[o.name]=!1,l.showErrors()):(t={},r=e||l.defaultMessage(o,{method:s,parameters:n}),t[o.name]=u.message=r,l.invalid[o.name]=!0,l.showErrors(t)),u.valid=a,l.stopRequest(o,a)}},e)),"pending")}}});var i,a={};c.ajaxPrefilter?c.ajaxPrefilter(function(e,t,r){var i=e.port;"abort"===e.mode&&(a[i]&&a[i].abort(),a[i]=r)}):(i=c.ajax,c.ajax=function(e){var t=("mode"in e?e:c.ajaxSettings).mode,r=("port"in e?e:c.ajaxSettings).port;return"abort"===t?(a[r]&&a[r].abort(),a[r]=i.apply(this,arguments),a[r]):i.apply(this,arguments)})});