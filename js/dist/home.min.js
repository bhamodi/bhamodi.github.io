"use strict";function onYouTubeIframeAPIReady(){ytp.YTAPIReady||(ytp.YTAPIReady=!0,jQuery(document).trigger("YTAPIReady"))}function uncamel(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}function setUnit(e,t){return"string"!=typeof e||e.match(/^[\-0-9\.]+jQuery/)?""+e+t:e}function setFilter(e,t,r){var i=uncamel(t),a=jQuery.browser.mozilla?"":jQuery.CSS.sfx;e[a+"filter"]=e[a+"filter"]||"",r=setUnit(r>jQuery.CSS.filters[t].max?jQuery.CSS.filters[t].max:r,jQuery.CSS.filters[t].unit),e[a+"filter"]+=i+"("+r+") ",delete e[t]}$(window).load(function(){$(".preloader").fadeOut(3e3);var e=window.location.hash;e.length&&e.indexOf("project-")>=0&&document.getElementById(e.slice(1)).click()}),$(document).ready(function(){function e(){$("#home").css("height",$(window).height())}function t(e){$(e).each(function(){"parallax"===$(this).attr("class")?$(this).css("background-position","0 "+$(window).scrollTop()/3+"px"):$(this).css("background-position","0 "+(($(window).scrollTop()+$(window).height()-$(this).attr("yPos"))/3+$(this).height())+"px")})}function r(){var e=$(window).width(),t=1;return e>1250?t=5:e>1e3?t=4:e>750?t=3:e>400&&(t=2),t}function i(){var e=$(window).width(),t=r(),i=Math.floor(e/t),a=Math.floor(.75*i);h.find(".element").each(function(){$(this).css({width:i+"px",height:a+"px"});var e=$(this).find("div").height()/2-49;$(this).find("div > span").css({margin:e+"px 20px"})})}function a(){i(),h.isotope("reLayout")}function n(e){$.ajax({url:e,success:function(t){$(".project-content").html(t),$(".project-window").fadeIn("slow"),o(),u(),$("html, body").animate({scrollTop:$("#portfolio").offset().top},500).promise().done(function(){history.pushState?history.pushState(null,null,"#"+e.split(".")[0]):location.hash="#"+e.split("."[0])})}})}function o(){$(".close").click(function(){$(".project-window").slideUp("slow"),$("html, body").animate({scrollTop:$("#projects").offset().top},500).promise().done(function(){history.pushState?history.pushState(null,null,"#projects"):location.hash="#projects"})})}function s(){(y=y.next().hasClass("final")?$($(".portfolioBase").next()):$(y.next())).hasClass("isotope-hidden")?s():n(y.attr("id")+".html")}function l(){(y=y.prev().hasClass("portfolioBase")?$($(".final").prev()):$(y.prev())).hasClass("isotope-hidden")?l():n(y.attr("id")+".html")}function u(){$(".next-button").click(function(){s(),$("html, body").animate({scrollTop:$("#project-show").offset().top},500)}),$(".prev-button").click(function(){l(),$("html, body").animate({scrollTop:$("#project-show").offset().top},500)})}function c(){a(),e()}function d(){var e=new Date("2018-04-23"),t=new Date,r=Date.UTC(t.getFullYear(),t.getMonth(),t.getDate()),i=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate());return Math.floor((i-r)/864e5)}/Android|webOS|iPhone|iPad|iPod|BlackBerry|BB|PlayBook|IEMobile|Windows Phone|Kindle|Silk|Opera Mini/i.test(navigator.userAgent)?($("#home").css("display","none"),$("#mobile-background").css({"background-image":"url(/img/mobile_bg.jpg)",display:"block"})):$(".player").YTPlayer(),$(".header").sticky({topSpacing:0}),$("a[href*=#]").click(function(){var e=$(this.hash);if(e.length){var t=e.offset().top-50;return $("html, body").animate({scrollTop:t},1e3).promise().done(function(){history.pushState?history.pushState(null,null,e.selector):location.hash=e.selector}),!1}}),$(window).on("hashchange",function(){var e=window.location.hash;e.length&&e.indexOf("project-")>=0&&document.getElementById(e.slice(1)).click()}),$(".contactForm").validate({rules:{name:{required:!0,minlength:3},email:{required:!0,email:!0},message:{required:!0,minlength:20}}}),$.fn.countTo=function(e){e=$.extend({},$.fn.countTo.defaults,e||{});var t=Math.ceil(e.speed/e.refreshInterval),r=(e.to-e.from)/t;return $(this).each(function(){var i=this,a=0,n=e.from,o=setInterval(function(){n+=r,a++,$(i).html(n.toFixed(e.decimals)),"function"==typeof e.onUpdate&&e.onUpdate.call(i,n),a>=t&&(clearInterval(o),n=e.to,"function"==typeof e.onComplete&&e.onComplete.call(i,n))},e.refreshInterval)})},$("#mobile-nav > li > a").first().click(function(){return $("html, body").animate({scrollTop:0},750),!1}),$(".logo").click(function(){return $("html, body").animate({scrollTop:0},750),!1}),$("#nav").onePageNav({currentClass:"current"}),$("#mobile-nav").onePageNav({currentClass:"mobile-current"});var h=$("#portfolio-grid");h.isotope({animationEngine:"best-available",animationOptions:{duration:200,queue:!1},layoutMode:"fitRows"}),$("#filters a").click(function(){$("#filters a").removeClass("active"),$(this).addClass("active"),h.isotope({filter:$(this).attr("data-option-value")}),a()});var y=null;$(".portfolio-element").click(function(){n($(this).attr("id")+".html"),y=$(this)}),$(".folio-btn").click(function(){$(".project-window").slideUp("slow")}),$(window).on("scroll",function(){t(".paraOn"),$(this).scrollTop()>$(window).height()-1?$(".scrollup").fadeIn():$(".scrollup").fadeOut()});var p;$(window).on("resize",function(){clearTimeout(p),p=setTimeout(c,1e3)}),$(".skill-icon").mouseenter(function(){$(this).parent().find(".skill-hover").addClass("visible")}),$(".skill-icon").mouseleave(function(){$(this).parent().find(".skill-hover").removeClass("visible")}),$(".jump-menu").click(function(){$("#navbar").hasClass("active")?$("#navbar").removeClass("active"):$("#navbar").addClass("active")}),$("#navbar ul li a").click(function(){$("#navbar").removeClass("active")}),function(){$(".parallax").on("inview",function(e,t){if(!0===t){var r=$(this).offset();$(this).addClass("paraOn").attr("yPos",r.top)}else $(this).removeClass("paraOn")});var e,t=0;$(".stat-counter").on("inview",function(r,i){!0===i&&0===t&&(t++,$(".stat-counter").each(function(){e=$(this).hasClass("dynamic")?d():$(this).attr("data-value"),$(this).find(".stat-count").delay(6e3).countTo({from:0,to:e,speed:3e3,refreshInterval:50})}))}),$(".hideme").on("inview",function(e,t){!0===t&&$(this).removeClass("hideme")}),$(".horizontal-line").on("inview",function(e,t){!0===t&&$(".mobile-parallax-image").removeClass("hideme-slide")}),$(".work-exp-left-0").on("inview",function(e,t){!0===t&&($(".work-exp-left-0").addClass("animated fadeInRight"),$(".work-exp-left-0").removeClass("hideme"))}),$(".work-exp-right-0").on("inview",function(e,t){!0===t&&($(".work-exp-right-0").addClass("animated fadeInLeft"),$(".work-exp-right-0").removeClass("hideme"))}),$(".work-exp-left-1").on("inview",function(e,t){!0===t&&($(".work-exp-left-1").addClass("animated fadeInRight"),$(".work-exp-left-1").removeClass("hideme"))}),$(".work-exp-right-1").on("inview",function(e,t){!0===t&&($(".work-exp-right-1").addClass("animated fadeInLeft"),$(".work-exp-right-1").removeClass("hideme"))}),$(".work-exp-left-2").on("inview",function(e,t){!0===t&&($(".work-exp-left-2").addClass("animated fadeInRight"),$(".work-exp-left-2").removeClass("hideme"))}),$(".work-exp-right-2").on("inview",function(e,t){!0===t&&($(".work-exp-right-2").addClass("animated fadeInLeft"),$(".work-exp-right-2").removeClass("hideme"))}),$(".work-exp-left-3").on("inview",function(e,t){!0===t&&($(".work-exp-left-3").addClass("animated fadeInRight"),$(".work-exp-left-3").removeClass("hideme"))})}(),h.imagesLoaded(function(){a()}),a(),$("#portfolio-grid > .portfolio-element").each(function(){$(this).hoverdir({hoverDelay:50})})}),function(e,t,r){e.HoverDir=function(t,r){this.$el=e(r),this._init(t)},e.HoverDir.defaults={speed:300,easing:"ease",hoverDelay:10,inverse:!1},e.HoverDir.prototype={_init:function(t){this.options=e.extend(!0,{},e.HoverDir.defaults,t),this.transitionProp="all "+this.options.speed+"ms "+this.options.easing,this.support=Modernizr.csstransitions,this._loadEvents()},_loadEvents:function(){var t=this;this.$el.on("mouseenter.hoverdir, mouseleave.hoverdir",function(r){var i=e(this),a=i.find("div"),n=t._getDir(i,{x:r.pageX,y:r.pageY}),o=t._getStyle(n);"mouseenter"===r.type?(a.hide().css(o.from),clearTimeout(t.tmhover),t.tmhover=setTimeout(function(){a.show(0,function(){var r=e(this);t.support&&r.css("transition",t.transitionProp),t._applyAnimation(r,o.to,t.options.speed)})},t.options.hoverDelay)):(t.support&&a.css("transition",t.transitionProp),clearTimeout(t.tmhover),t._applyAnimation(a,o.from,t.options.speed))})},_getDir:function(e,t){var r=e.width(),i=e.height(),a=(t.x-e.offset().left-r/2)*(r>i?i/r:1),n=(t.y-e.offset().top-i/2)*(i>r?r/i:1);return Math.round((Math.atan2(n,a)*(180/Math.PI)+180)/90+3)%4},_getStyle:function(e){var t,r,i={left:"0px",top:"-25%"},a={left:"0px",top:"25%"},n={left:"-25%",top:"0px"},o={left:"25%",top:"0px"},s={top:"0px"},l={left:"0px"};switch(e){case 0:t=this.options.inverse?a:i,r=s;break;case 1:t=this.options.inverse?n:o,r=l;break;case 2:t=this.options.inverse?i:a,r=s;break;case 3:t=this.options.inverse?o:n,r=l}return{from:t,to:r}},_applyAnimation:function(t,r,i){e.fn.applyStyle=this.support?e.fn.css:e.fn.animate,t.stop().applyStyle(r,e.extend(!0,[],{duration:i+"ms"}))}};var i=function(e){t.console&&t.console.error(e)};e.fn.hoverdir=function(t){var r=e.data(this,"hoverdir");if("string"==typeof t){var a=Array.prototype.slice.call(arguments,1);this.each(function(){r?e.isFunction(r[t])&&"_"!==t.charAt(0)?r[t].apply(r,a):i("no such method '"+t+"' for hoverdir instance"):i("cannot call methods on hoverdir prior to initialization; attempted to call method '"+t+"'")})}else this.each(function(){r?r._init():r=e.data(this,"hoverdir",new e.HoverDir(t,this))});return r}}(jQuery,window),function(e){function t(){var t=window.innerHeight,r=document.compatMode;return(r||!e.support.boxModel)&&(t="CSS1Compat"==r?document.documentElement.clientHeight:document.body.clientHeight),t}e(window).scroll(function(){var r=t(),i=document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop,a=[];e.each(e.cache,function(){this.events&&this.events.inview&&a.push(this.handle.elem)}),a.length&&e(a).each(function(){var t=e(this),a=t.offset().top,n=t.height(),o=t.data("inview")||!1;i>a+n||a>i+r?o&&(t.data("inview",!1),t.trigger("inview",[!1])):a+n>i&&(o||(t.data("inview",!0),t.trigger("inview",[!0])))})}),e(function(){e(window).scroll()})}(jQuery),function(e,t,r){var i,a=e.document,n=e.Modernizr,o=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},s="Moz Webkit O Ms".split(" "),l=function(e){var t,r=a.documentElement.style;if("string"==typeof r[e])return e;e=o(e);for(var i=0,n=s.length;i<n;i++)if(t=s[i]+e,"string"==typeof r[t])return t},u=l("transform"),c=l("transitionProperty"),d={csstransforms:function(){return!!u},csstransforms3d:function(){var e=!!l("perspective");if(e){var r="@media ("+" -o- -moz- -ms- -webkit- -khtml- ".split(" ").join("transform-3d),(")+"modernizr)",i=t("<style>"+r+"{#modernizr{height:3px}}</style>").appendTo("head"),a=t('<div id="modernizr" />').appendTo("html");e=3===a.height(),a.remove(),i.remove()}return e},csstransitions:function(){return!!c}};if(n)for(i in d)n.hasOwnProperty(i)||n.addTest(i,d[i]);else{n=e.Modernizr={_version:"1.6ish: miniModernizr for Isotope"};var h,y=" ";for(i in d)h=d[i](),n[i]=h,y+=" "+(h?"":"no-")+i;t("html").addClass(y)}if(n.csstransforms){var p=n.csstransforms3d?{translate:function(e){return"translate3d("+e[0]+"px, "+e[1]+"px, 0) "},scale:function(e){return"scale3d("+e+", "+e+", 1) "}}:{translate:function(e){return"translate("+e[0]+"px, "+e[1]+"px) "},scale:function(e){return"scale("+e+") "}},f=function(e,r,i){var a,n,o=t.data(e,"isoTransform")||{},s={},l={};s[r]=i,t.extend(o,s);for(a in o)n=o[a],l[a]=p[a](n);var c=(l.translate||"")+(l.scale||"");t.data(e,"isoTransform",o),e.style[u]=c};t.cssNumber.scale=!0,t.cssHooks.scale={set:function(e,t){f(e,"scale",t)},get:function(e,r){var i=t.data(e,"isoTransform");return i&&i.scale?i.scale:1}},t.fx.step.scale=function(e){t.cssHooks.scale.set(e.elem,e.now+e.unit)},t.cssNumber.translate=!0,t.cssHooks.translate={set:function(e,t){f(e,"translate",t)},get:function(e,r){var i=t.data(e,"isoTransform");return i&&i.translate?i.translate:[0,0]}}}var m,g;n.csstransitions&&(m={WebkitTransitionProperty:"webkitTransitionEnd",MozTransitionProperty:"transitionend",OTransitionProperty:"oTransitionEnd otransitionend",transitionProperty:"transitionend"}[c],g=l("transitionDuration"));var v,T=t.event,P=t.event.handle?"handle":"dispatch";T.special.smartresize={setup:function(){t(this).bind("resize",T.special.smartresize.handler)},teardown:function(){t(this).unbind("resize",T.special.smartresize.handler)},handler:function(e,t){var r=this,i=arguments;e.type="smartresize",v&&clearTimeout(v),v=setTimeout(function(){T[P].apply(r,i)},"execAsap"===t?0:100)}},t.fn.smartresize=function(e){return e?this.bind("smartresize",e):this.trigger("smartresize",["execAsap"])},t.Isotope=function(e,r,i){this.element=t(r),this._create(e),this._init(i)};var b=["width","height"],Y=t(e);t.Isotope.settings={resizable:!0,layoutMode:"masonry",containerClass:"isotope",itemClass:"isotope-item",hiddenClass:"isotope-hidden",hiddenStyle:{opacity:0,scale:.001},visibleStyle:{opacity:1,scale:1},containerStyle:{position:"relative",overflow:"hidden"},animationEngine:"best-available",animationOptions:{queue:!1,duration:800},sortBy:"original-order",sortAscending:!0,resizesContainer:!0,transformsEnabled:!0,itemPositionDataEnabled:!1},t.Isotope.prototype={_create:function(e){this.options=t.extend({},t.Isotope.settings,e),this.styleQueue=[],this.elemCount=0;var r=this.element[0].style;this.originalStyle={};var i=b.slice(0);for(var a in this.options.containerStyle)i.push(a);for(var n=0,o=i.length;n<o;n++)a=i[n],this.originalStyle[a]=r[a]||"";this.element.css(this.options.containerStyle),this._updateAnimationEngine(),this._updateUsingTransforms();var s={"original-order":function(e,t){return t.elemCount++,t.elemCount},random:function(){return Math.random()}};this.options.getSortData=t.extend(this.options.getSortData,s),this.reloadItems(),this.offset={left:parseInt(this.element.css("padding-left")||0,10),top:parseInt(this.element.css("padding-top")||0,10)};var l=this;setTimeout(function(){l.element.addClass(l.options.containerClass)},0),this.options.resizable&&Y.bind("smartresize.isotope",function(){l.resize()}),this.element.delegate("."+this.options.hiddenClass,"click",function(){return!1})},_getAtoms:function(e){var t=this.options.itemSelector,r=t?e.filter(t).add(e.find(t)):e,i={position:"absolute"};return r=r.filter(function(e,t){return 1===t.nodeType}),this.usingTransforms&&(i.left=0,i.top=0),r.css(i).addClass(this.options.itemClass),this.updateSortData(r,!0),r},_init:function(e){this.$filteredAtoms=this._filter(this.$allAtoms),this._sort(),this.reLayout(e)},option:function(e){if(t.isPlainObject(e)){this.options=t.extend(!0,this.options,e);var r;for(var i in e)r="_update"+o(i),this[r]&&this[r]()}},_updateAnimationEngine:function(){var e;switch(this.options.animationEngine.toLowerCase().replace(/[ _\-]/g,"")){case"css":case"none":e=!1;break;case"jquery":e=!0;break;default:e=!n.csstransitions}this.isUsingJQueryAnimation=e,this._updateUsingTransforms()},_updateTransformsEnabled:function(){this._updateUsingTransforms()},_updateUsingTransforms:function(){var e=this.usingTransforms=this.options.transformsEnabled&&n.csstransforms&&n.csstransitions&&!this.isUsingJQueryAnimation;e||(delete this.options.hiddenStyle.scale,delete this.options.visibleStyle.scale),this.getPositionStyles=e?this._translate:this._positionAbs},_filter:function(e){var t=""===this.options.filter?"*":this.options.filter;if(!t)return e;var r=this.options.hiddenClass,i="."+r,a=e.filter(i),n=a;if("*"!==t){n=a.filter(t);var o=e.not(i).not(t).addClass(r);this.styleQueue.push({$el:o,style:this.options.hiddenStyle})}return this.styleQueue.push({$el:n,style:this.options.visibleStyle}),n.removeClass(r),e.filter(t)},updateSortData:function(e,r){var i,a,n=this,o=this.options.getSortData;e.each(function(){i=t(this),a={};for(var e in o)a[e]=r||"original-order"!==e?o[e](i,n):t.data(this,"isotope-sort-data")[e];t.data(this,"isotope-sort-data",a)})},_sort:function(){var e=this.options.sortBy,t=this._getSorter,r=this.options.sortAscending?1:-1;this.$filteredAtoms.sort(function(i,a){var n=t(i,e),o=t(a,e);return n===o&&"original-order"!==e&&(n=t(i,"original-order"),o=t(a,"original-order")),(n>o?1:n<o?-1:0)*r})},_getSorter:function(e,r){return t.data(e,"isotope-sort-data")[r]},_translate:function(e,t){return{translate:[e,t]}},_positionAbs:function(e,t){return{left:e,top:t}},_pushPosition:function(e,t,r){t=Math.round(t+this.offset.left),r=Math.round(r+this.offset.top);var i=this.getPositionStyles(t,r);this.styleQueue.push({$el:e,style:i}),this.options.itemPositionDataEnabled&&e.data("isotope-item-position",{x:t,y:r})},layout:function(e,t){var r=this.options.layoutMode;if(this["_"+r+"Layout"](e),this.options.resizesContainer){var i=this["_"+r+"GetContainerSize"]();this.styleQueue.push({$el:this.element,style:i})}this._processStyleQueue(e,t),this.isLaidOut=!0},_processStyleQueue:function(e,r){var i,a,o,s,l=this.isLaidOut&&this.isUsingJQueryAnimation?"animate":"css",u=this.options.animationOptions,c=this.options.onLayout;if(a=function(e,t){t.$el[l](t.style,u)},this._isInserting&&this.isUsingJQueryAnimation)a=function(e,t){i=t.$el.hasClass("no-transition")?"css":l,t.$el[i](t.style,u)};else if(r||c||u.complete){var d=!1,h=[r,c,u.complete],y=this;if(o=!0,s=function(){if(!d){for(var t,r=0,i=h.length;r<i;r++)"function"==typeof(t=h[r])&&t.call(y.element,e,y);d=!0}},this.isUsingJQueryAnimation&&"animate"===l)u.complete=s,o=!1;else if(n.csstransitions){for(var p,f=0,v=this.styleQueue[0],T=v&&v.$el;!T||!T.length;){if(!(p=this.styleQueue[f++]))return;T=p.$el}parseFloat(getComputedStyle(T[0])[g])>0&&(a=function(e,t){t.$el[l](t.style,u).one(m,s)},o=!1)}}t.each(this.styleQueue,a),o&&s(),this.styleQueue=[]},resize:function(){this["_"+this.options.layoutMode+"ResizeChanged"]()&&this.reLayout()},reLayout:function(e){this["_"+this.options.layoutMode+"Reset"](),this.layout(this.$filteredAtoms,e)},addItems:function(e,t){var r=this._getAtoms(e);this.$allAtoms=this.$allAtoms.add(r),t&&t(r)},insert:function(e,t){this.element.append(e);var r=this;this.addItems(e,function(e){var i=r._filter(e);r._addHideAppended(i),r._sort(),r.reLayout(),r._revealAppended(i,t)})},appended:function(e,t){var r=this;this.addItems(e,function(e){r._addHideAppended(e),r.layout(e),r._revealAppended(e,t)})},_addHideAppended:function(e){this.$filteredAtoms=this.$filteredAtoms.add(e),e.addClass("no-transition"),this._isInserting=!0,this.styleQueue.push({$el:e,style:this.options.hiddenStyle})},_revealAppended:function(e,t){var r=this;setTimeout(function(){e.removeClass("no-transition"),r.styleQueue.push({$el:e,style:r.options.visibleStyle}),r._isInserting=!1,r._processStyleQueue(e,t)},10)},reloadItems:function(){this.$allAtoms=this._getAtoms(this.element.children())},remove:function(e,t){this.$allAtoms=this.$allAtoms.not(e),this.$filteredAtoms=this.$filteredAtoms.not(e);var r=this,i=function(){e.remove(),t&&t.call(r.element)};e.filter(":not(."+this.options.hiddenClass+")").length?(this.styleQueue.push({$el:e,style:this.options.hiddenStyle}),this._sort(),this.reLayout(i)):i()},shuffle:function(e){this.updateSortData(this.$allAtoms),this.options.sortBy="random",this._sort(),this.reLayout(e)},destroy:function(){var e=this.usingTransforms,t=this.options;this.$allAtoms.removeClass(t.hiddenClass+" "+t.itemClass).each(function(){var t=this.style;t.position="",t.top="",t.left="",t.opacity="",e&&(t[u]="")});var r=this.element[0].style;for(var i in this.originalStyle)r[i]=this.originalStyle[i];this.element.unbind(".isotope").undelegate("."+t.hiddenClass,"click").removeClass(t.containerClass).removeData("isotope"),Y.unbind(".isotope")},_getSegments:function(e){var t,r=this.options.layoutMode,i=e?"rowHeight":"columnWidth",a=e?"height":"width",n=e?"rows":"cols",s=this.element[a](),l=this.options[r]&&this.options[r][i]||this.$filteredAtoms["outer"+o(a)](!0)||s;t=Math.floor(s/l),t=Math.max(t,1),this[r][n]=t,this[r][i]=l},_checkIfSegmentsChanged:function(e){var t=this.options.layoutMode,r=e?"rows":"cols",i=this[t][r];return this._getSegments(e),this[t][r]!==i},_masonryReset:function(){this.masonry={},this._getSegments();var e=this.masonry.cols;for(this.masonry.colYs=[];e--;)this.masonry.colYs.push(0)},_masonryLayout:function(e){var r=this,i=r.masonry;e.each(function(){var e=t(this),a=Math.ceil(e.outerWidth(!0)/i.columnWidth);if(1===(a=Math.min(a,i.cols)))r._masonryPlaceBrick(e,i.colYs);else{var n,o,s=i.cols+1-a,l=[];for(o=0;o<s;o++)n=i.colYs.slice(o,o+a),l[o]=Math.max.apply(Math,n);r._masonryPlaceBrick(e,l)}})},_masonryPlaceBrick:function(e,t){for(var r=Math.min.apply(Math,t),i=0,a=0,n=t.length;a<n;a++)if(t[a]===r){i=a;break}var o=this.masonry.columnWidth*i,s=r;this._pushPosition(e,o,s);var l=r+e.outerHeight(!0),u=this.masonry.cols+1-n;for(a=0;a<u;a++)this.masonry.colYs[i+a]=l},_masonryGetContainerSize:function(){return{height:Math.max.apply(Math,this.masonry.colYs)}},_masonryResizeChanged:function(){return this._checkIfSegmentsChanged()},_fitRowsReset:function(){this.fitRows={x:0,y:0,height:0}},_fitRowsLayout:function(e){var r=this,i=this.element.width(),a=this.fitRows;e.each(function(){var e=t(this),n=e.outerWidth(!0),o=e.outerHeight(!0);0!==a.x&&n+a.x>i&&(a.x=0,a.y=a.height),r._pushPosition(e,a.x,a.y),a.height=Math.max(a.y+o,a.height),a.x+=n})},_fitRowsGetContainerSize:function(){return{height:this.fitRows.height}},_fitRowsResizeChanged:function(){return!0},_cellsByRowReset:function(){this.cellsByRow={index:0},this._getSegments(),this._getSegments(!0)},_cellsByRowLayout:function(e){var r=this,i=this.cellsByRow;e.each(function(){var e=t(this),a=i.index%i.cols,n=Math.floor(i.index/i.cols),o=(a+.5)*i.columnWidth-e.outerWidth(!0)/2,s=(n+.5)*i.rowHeight-e.outerHeight(!0)/2;r._pushPosition(e,o,s),i.index++})},_cellsByRowGetContainerSize:function(){return{height:Math.ceil(this.$filteredAtoms.length/this.cellsByRow.cols)*this.cellsByRow.rowHeight+this.offset.top}},_cellsByRowResizeChanged:function(){return this._checkIfSegmentsChanged()},_straightDownReset:function(){this.straightDown={y:0}},_straightDownLayout:function(e){var r=this;e.each(function(e){var i=t(this);r._pushPosition(i,0,r.straightDown.y),r.straightDown.y+=i.outerHeight(!0)})},_straightDownGetContainerSize:function(){return{height:this.straightDown.y}},_straightDownResizeChanged:function(){return!0},_masonryHorizontalReset:function(){this.masonryHorizontal={},this._getSegments(!0);var e=this.masonryHorizontal.rows;for(this.masonryHorizontal.rowXs=[];e--;)this.masonryHorizontal.rowXs.push(0)},_masonryHorizontalLayout:function(e){var r=this,i=r.masonryHorizontal;e.each(function(){var e=t(this),a=Math.ceil(e.outerHeight(!0)/i.rowHeight);if(1===(a=Math.min(a,i.rows)))r._masonryHorizontalPlaceBrick(e,i.rowXs);else{var n,o,s=i.rows+1-a,l=[];for(o=0;o<s;o++)n=i.rowXs.slice(o,o+a),l[o]=Math.max.apply(Math,n);r._masonryHorizontalPlaceBrick(e,l)}})},_masonryHorizontalPlaceBrick:function(e,t){for(var r=Math.min.apply(Math,t),i=0,a=0,n=t.length;a<n;a++)if(t[a]===r){i=a;break}var o=r,s=this.masonryHorizontal.rowHeight*i;this._pushPosition(e,o,s);var l=r+e.outerWidth(!0),u=this.masonryHorizontal.rows+1-n;for(a=0;a<u;a++)this.masonryHorizontal.rowXs[i+a]=l},_masonryHorizontalGetContainerSize:function(){return{width:Math.max.apply(Math,this.masonryHorizontal.rowXs)}},_masonryHorizontalResizeChanged:function(){return this._checkIfSegmentsChanged(!0)},_fitColumnsReset:function(){this.fitColumns={x:0,y:0,width:0}},_fitColumnsLayout:function(e){var r=this,i=this.element.height(),a=this.fitColumns;e.each(function(){var e=t(this),n=e.outerWidth(!0),o=e.outerHeight(!0);0!==a.y&&o+a.y>i&&(a.x=a.width,a.y=0),r._pushPosition(e,a.x,a.y),a.width=Math.max(a.x+n,a.width),a.y+=o})},_fitColumnsGetContainerSize:function(){return{width:this.fitColumns.width}},_fitColumnsResizeChanged:function(){return!0},_cellsByColumnReset:function(){this.cellsByColumn={index:0},this._getSegments(),this._getSegments(!0)},_cellsByColumnLayout:function(e){var r=this,i=this.cellsByColumn;e.each(function(){var e=t(this),a=Math.floor(i.index/i.rows),n=i.index%i.rows,o=(a+.5)*i.columnWidth-e.outerWidth(!0)/2,s=(n+.5)*i.rowHeight-e.outerHeight(!0)/2;r._pushPosition(e,o,s),i.index++})},_cellsByColumnGetContainerSize:function(){return{width:Math.ceil(this.$filteredAtoms.length/this.cellsByColumn.rows)*this.cellsByColumn.columnWidth}},_cellsByColumnResizeChanged:function(){return this._checkIfSegmentsChanged(!0)},_straightAcrossReset:function(){this.straightAcross={x:0}},_straightAcrossLayout:function(e){var r=this;e.each(function(e){var i=t(this);r._pushPosition(i,r.straightAcross.x,0),r.straightAcross.x+=i.outerWidth(!0)})},_straightAcrossGetContainerSize:function(){return{width:this.straightAcross.x}},_straightAcrossResizeChanged:function(){return!0}},t.fn.imagesLoaded=function(e){function r(){e.call(a,n)}function i(e){var a=e.target;a.src!==s&&-1===t.inArray(a,l)&&(l.push(a),--o<=0&&(setTimeout(r),n.unbind(".imagesLoaded",i)))}var a=this,n=a.find("img").add(a.filter("img")),o=n.length,s="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",l=[];return o||r(),n.bind("load.imagesLoaded error.imagesLoaded",i).each(function(){var e=this.src;this.src=s,this.src=e}),a};var w=function(t){e.console&&e.console.error(t)};t.fn.isotope=function(e,r){if("string"==typeof e){var i=Array.prototype.slice.call(arguments,1);this.each(function(){var r=t.data(this,"isotope");r?t.isFunction(r[e])&&"_"!==e.charAt(0)?r[e].apply(r,i):w("no such method '"+e+"' for isotope instance"):w("cannot call methods on isotope prior to initialization; attempted to call method '"+e+"'")})}else this.each(function(){var i=t.data(this,"isotope");i?(i.option(e),i._init(r)):t.data(this,"isotope",new t.Isotope(e,this,r))});return this}}(window,jQuery);var ytp=ytp||{},getYTPVideoID=function(e){var t,r;return e.indexOf("youtu.be")>0?(t=e.substr(e.lastIndexOf("/")+1,e.length),r=t.indexOf("?list=")>0?t.substr(t.lastIndexOf("="),t.length):null,t=r?t.substr(0,t.lastIndexOf("?")):t):e.indexOf("http")>-1?(t=e.match(/[\\?&]v=([^&#]*)/)[1],r=e.indexOf("list=")>0?e.match(/[\\?&]list=([^&#]*)/)[1]:null):(t=e.length>15?null:e,r=t?null:e),{videoID:t,playlistID:r}};!function(jQuery,ytp){jQuery.mbYTPlayer={name:"jquery.mb.YTPlayer",version:"2.9.4",build:"{{ build }}",author:"Matteo Bicocchi",apiKey:"",defaults:{containment:"body",ratio:"auto",videoURL:null,playlistURL:null,startAt:0,stopAt:0,autoPlay:!0,vol:50,addRaster:!1,opacity:1,quality:"default",mute:!1,loop:!0,showControls:!0,showAnnotations:!1,showYTLogo:!0,stopMovieOnBlur:!0,realfullscreen:!0,gaTrack:!0,optimizeDisplay:!0,onReady:function(e){}},controls:{play:"P",pause:"p",mute:"M",unmute:"A",onlyYT:"O",showSite:"R",ytLogo:"Y"},locationProtocol:"https:",buildPlayer:function(options){return this.each(function(){var YTPlayer=this,$YTPlayer=jQuery(YTPlayer);YTPlayer.loop=0,YTPlayer.opt={},YTPlayer.state={},YTPlayer.filtersEnabled=!0,YTPlayer.filters={grayscale:{value:0,unit:"%"},hue_rotate:{value:0,unit:"deg"},invert:{value:0,unit:"%"},opacity:{value:0,unit:"%"},saturate:{value:0,unit:"%"},sepia:{value:0,unit:"%"},brightness:{value:0,unit:"%"},contrast:{value:0,unit:"%"},blur:{value:0,unit:"px"}},$YTPlayer.addClass("mb_YTPlayer");var property=$YTPlayer.data("property")&&"string"==typeof $YTPlayer.data("property")?eval("("+$YTPlayer.data("property")+")"):$YTPlayer.data("property");void 0!==property&&void 0!==property.vol&&(property.vol=0===property.vol?property.vol=1:property.vol),jQuery.extend(YTPlayer.opt,jQuery.mbYTPlayer.defaults,options,property),YTPlayer.hasChanged||(YTPlayer.defaultOpt={},jQuery.extend(YTPlayer.defaultOpt,jQuery.mbYTPlayer.defaults,options,property)),YTPlayer.isRetina=window.retina||window.devicePixelRatio>1;var isIframe=function(){var e=!1;try{self.location.href!=top.location.href&&(e=!0)}catch(t){e=!0}return e};YTPlayer.canGoFullScreen=!(jQuery.browser.msie||jQuery.browser.opera||isIframe()),YTPlayer.canGoFullScreen||(YTPlayer.opt.realfullscreen=!1),$YTPlayer.attr("id")||$YTPlayer.attr("id","video_"+(new Date).getTime());var playerID="mbYTP_"+YTPlayer.id;YTPlayer.isAlone=!1,YTPlayer.hasFocus=!0;var videoID=this.opt.videoURL?getYTPVideoID(this.opt.videoURL).videoID:!!$YTPlayer.attr("href")&&getYTPVideoID($YTPlayer.attr("href")).videoID,playlistID=this.opt.videoURL?getYTPVideoID(this.opt.videoURL).playlistID:!!$YTPlayer.attr("href")&&getYTPVideoID($YTPlayer.attr("href")).playlistID;YTPlayer.videoID=videoID,YTPlayer.playlistID=playlistID,YTPlayer.opt.showAnnotations=YTPlayer.opt.showAnnotations?"0":"3";var playerVars={autoplay:0,modestbranding:1,controls:0,showinfo:0,rel:0,enablejsapi:1,version:3,playerapiid:playerID,origin:"*",allowfullscreen:!0,wmode:"transparent",iv_load_policy:YTPlayer.opt.showAnnotations};document.createElement("video").canPlayType&&jQuery.extend(playerVars,{html5:1}),jQuery.browser.msie&&jQuery.browser.version<9&&(this.opt.opacity=1);var playerBox=jQuery("<div/>").attr("id",playerID).addClass("playerBox"),overlay=jQuery("<div/>").css({position:"absolute",top:0,left:0,width:"100%",height:"100%"}).addClass("YTPOverlay");if(YTPlayer.isSelf="self"==YTPlayer.opt.containment,YTPlayer.defaultOpt.containment=YTPlayer.opt.containment=jQuery("self"==YTPlayer.opt.containment?this:YTPlayer.opt.containment),YTPlayer.isBackground="body"==YTPlayer.opt.containment.get(0).tagName.toLowerCase(),!YTPlayer.isBackground||!ytp.backgroundIsInited){var isPlayer=YTPlayer.opt.containment.is(jQuery(this));if(YTPlayer.canPlayOnMobile=isPlayer&&0===jQuery(this).children().length,isPlayer?YTPlayer.isPlayer=!0:$YTPlayer.hide(),jQuery.browser.mobile&&!YTPlayer.canPlayOnMobile)return void $YTPlayer.remove();var wrapper=jQuery("<div/>").addClass("mbYTP_wrapper").attr("id","wrapper_"+playerID);if(wrapper.css({position:"absolute",zIndex:0,minWidth:"100%",minHeight:"100%",left:0,top:0,overflow:"hidden",opacity:0}),playerBox.css({position:"absolute",zIndex:0,width:"100%",height:"100%",top:0,left:0,overflow:"hidden"}),wrapper.append(playerBox),YTPlayer.opt.containment.children().not("script, style").each(function(){"static"==jQuery(this).css("position")&&jQuery(this).css("position","relative")}),YTPlayer.isBackground?(jQuery("body").css({boxSizing:"border-box"}),wrapper.css({position:"fixed",top:0,left:0,zIndex:0}),$YTPlayer.hide()):"static"==YTPlayer.opt.containment.css("position")&&YTPlayer.opt.containment.css({position:"relative"}),YTPlayer.opt.containment.prepend(wrapper),YTPlayer.wrapper=wrapper,playerBox.css({opacity:1}),jQuery.browser.mobile||(playerBox.after(overlay),YTPlayer.overlay=overlay),YTPlayer.isBackground||overlay.on("mouseenter",function(){YTPlayer.controlBar&&YTPlayer.controlBar.addClass("visible")}).on("mouseleave",function(){YTPlayer.controlBar&&YTPlayer.controlBar.removeClass("visible")}),ytp.YTAPIReady)setTimeout(function(){jQuery(document).trigger("YTAPIReady")},100);else{jQuery("#YTAPI").remove();var tag=jQuery("<script><\/script>").attr({src:jQuery.mbYTPlayer.locationProtocol+"//www.youtube.com/iframe_api?v="+jQuery.mbYTPlayer.version,id:"YTAPI"});jQuery("head").prepend(tag)}jQuery(document).on("YTAPIReady",function(){YTPlayer.isBackground&&ytp.backgroundIsInited||YTPlayer.isInit||(YTPlayer.isBackground&&(ytp.backgroundIsInited=!0),YTPlayer.opt.autoPlay=void 0===YTPlayer.opt.autoPlay?!!YTPlayer.isBackground:YTPlayer.opt.autoPlay,YTPlayer.opt.vol=YTPlayer.opt.vol?YTPlayer.opt.vol:100,jQuery.mbYTPlayer.getDataFromAPI(YTPlayer),jQuery(YTPlayer).on("YTPChanged",function(){if(!YTPlayer.isInit){if(YTPlayer.isInit=!0,jQuery.browser.mobile&&YTPlayer.canPlayOnMobile){if(YTPlayer.opt.containment.outerWidth()>jQuery(window).width()){YTPlayer.opt.containment.css({maxWidth:"100%"});var h=.6*YTPlayer.opt.containment.outerWidth();YTPlayer.opt.containment.css({maxHeight:h})}return void new YT.Player(playerID,{videoId:YTPlayer.videoID.toString(),height:"100%",width:"100%",events:{onReady:function(e){YTPlayer.player=e.target,playerBox.css({opacity:1}),YTPlayer.wrapper.css({opacity:1})}}})}new YT.Player(playerID,{videoId:YTPlayer.videoID.toString(),playerVars:playerVars,events:{onReady:function(e){if(YTPlayer.player=e.target,!YTPlayer.isReady){YTPlayer.isReady=!(YTPlayer.isPlayer&&!YTPlayer.opt.autoPlay),YTPlayer.playerEl=YTPlayer.player.getIframe(),$YTPlayer.optimizeDisplay(),YTPlayer.videoID=videoID,jQuery(window).on("resize.YTP",function(){$YTPlayer.optimizeDisplay()}),jQuery.mbYTPlayer.checkForState(YTPlayer);var t=jQuery.Event("YTPUnstarted");t.time=YTPlayer.player.time,YTPlayer.canTrigger&&jQuery(YTPlayer).trigger(t)}},onStateChange:function(event){if("function"==typeof event.target.getPlayerState){var state=event.target.getPlayerState();if(YTPlayer.state!=state){YTPlayer.state=state;var eventType;switch(state){case-1:eventType="YTPUnstarted";break;case 0:eventType="YTPEnd";break;case 1:eventType="YTPStart",YTPlayer.controlBar&&YTPlayer.controlBar.find(".mb_YTPPlaypause").html(jQuery.mbYTPlayer.controls.pause),"undefined"!=typeof _gaq&&eval(YTPlayer.opt.gaTrack)&&_gaq.push(["_trackEvent","YTPlayer","Play",YTPlayer.hasData?YTPlayer.videoData.title:YTPlayer.videoID.toString()]),"undefined"!=typeof ga&&eval(YTPlayer.opt.gaTrack)&&ga("send","event","YTPlayer","play",YTPlayer.hasData?YTPlayer.videoData.title:YTPlayer.videoID.toString());break;case 2:eventType="YTPPause",YTPlayer.controlBar&&YTPlayer.controlBar.find(".mb_YTPPlaypause").html(jQuery.mbYTPlayer.controls.play);break;case 3:YTPlayer.player.setPlaybackQuality(YTPlayer.opt.quality),eventType="YTPBuffering",YTPlayer.controlBar&&YTPlayer.controlBar.find(".mb_YTPPlaypause").html(jQuery.mbYTPlayer.controls.play);break;case 5:eventType="YTPCued"}var YTPEvent=jQuery.Event(eventType);YTPEvent.time=YTPlayer.player.time,YTPlayer.canTrigger&&jQuery(YTPlayer).trigger(YTPEvent)}}},onPlaybackQualityChange:function(e){var t=e.target.getPlaybackQuality(),r=jQuery.Event("YTPQualityChange");r.quality=t,jQuery(YTPlayer).trigger(r)},onError:function(e){150==e.data&&(console.log("Embedding this video is restricted by Youtube."),YTPlayer.isPlayList&&jQuery(YTPlayer).playNext()),2==e.data&&YTPlayer.isPlayList&&jQuery(YTPlayer).playNext(),"function"==typeof YTPlayer.opt.onError&&YTPlayer.opt.onError($YTPlayer,e)}}})}}))})}})},getDataFromAPI:function(e){if(e.videoData=jQuery.mbStorage.get("YYTPlayer_data_"+e.videoID),jQuery(e).off("YTPData.YTPlayer").on("YTPData.YTPlayer",function(){if(e.hasData&&e.isPlayer&&!e.opt.autoPlay){var t=e.videoData.thumb_max||e.videoData.thumb_high||e.videoData.thumb_medium;e.opt.containment.css({background:"rgba(0,0,0,0.5) url("+t+") center center",backgroundSize:"cover"}),e.opt.backgroundUrl=t}}),e.videoData)setTimeout(function(){e.opt.ratio="auto"==e.opt.ratio?"16/9":e.opt.ratio,e.dataReceived=!0,jQuery(e).trigger("YTPChanged");var t=jQuery.Event("YTPData");t.prop={};for(var r in e.videoData)t.prop[r]=e.videoData[r];jQuery(e).trigger(t)},500),e.hasData=!0;else if(jQuery.mbYTPlayer.apiKey)jQuery.getJSON(jQuery.mbYTPlayer.locationProtocol+"//www.googleapis.com/youtube/v3/videos?id="+e.videoID+"&key="+jQuery.mbYTPlayer.apiKey+"&part=snippet",function(t){e.dataReceived=!0,jQuery(e).trigger("YTPChanged"),function(t){e.videoData={},e.videoData.id=e.videoID,e.videoData.channelTitle=t.channelTitle,e.videoData.title=t.title,e.videoData.description=t.description.length<400?t.description:t.description.substring(0,400)+" ...",e.videoData.aspectratio="auto"==e.opt.ratio?"16/9":e.opt.ratio,e.opt.ratio=e.videoData.aspectratio,e.videoData.thumb_max=t.thumbnails.maxres?t.thumbnails.maxres.url:null,e.videoData.thumb_high=t.thumbnails.high?t.thumbnails.high.url:null,e.videoData.thumb_medium=t.thumbnails.medium?t.thumbnails.medium.url:null,jQuery.mbStorage.set("YYTPlayer_data_"+e.videoID,e.videoData)}(t.items[0].snippet),e.hasData=!0;var r=jQuery.Event("YTPData");r.prop={};for(var i in e.videoData)r.prop[i]=e.videoData[i];jQuery(e).trigger(r)});else{if(setTimeout(function(){jQuery(e).trigger("YTPChanged")},50),e.isPlayer&&!e.opt.autoPlay){var t=jQuery.mbYTPlayer.locationProtocol+"//i.ytimg.com/vi/"+e.videoID+"/hqdefault.jpg";e.opt.containment.css({background:"rgba(0,0,0,0.5) url("+t+") center center",backgroundSize:"cover"}),e.opt.backgroundUrl=t}e.videoData=null,e.opt.ratio="auto"==e.opt.ratio?"16/9":e.opt.ratio}e.isPlayer&&!e.opt.autoPlay&&(e.loading=jQuery("<div/>").addClass("loading").html("Loading").hide(),jQuery(e).append(e.loading),e.loading.fadeIn())},removeStoredData:function(){jQuery.mbStorage.remove()},getVideoData:function(){return this.get(0).videoData},getVideoID:function(){return this.get(0).videoID||!1},setVideoQuality:function(e){var t=this.get(0);jQuery.browser.chrome||t.player.setPlaybackQuality(e)},playlist:function(e,t,r){var i=this,a=i.get(0);return a.isPlayList=!0,t&&(e=jQuery.shuffle(e)),a.videoID||(a.videos=e,a.videoCounter=0,a.videoLength=e.length,jQuery(a).data("property",e[0]),jQuery(a).mb_YTPlayer()),"function"==typeof r&&jQuery(a).on("YTPChanged",function(){r(a)}),jQuery(a).on("YTPEnd",function(){jQuery(a).playNext()}),i},playNext:function(){var e=this.get(0);return e.videoCounter++,e.videoCounter>=e.videoLength&&(e.videoCounter=0),jQuery(e).changeMovie(e.videos[e.videoCounter]),this},playPrev:function(){var e=this.get(0);return e.videoCounter--,e.videoCounter<0&&(e.videoCounter=e.videoLength-1),jQuery(e).changeMovie(e.videos[e.videoCounter]),this},changeMovie:function(e){var t=this.get(0);t.opt.startAt=0,t.opt.stopAt=0,t.opt.mute=!0,t.hasData=!1,t.hasChanged=!0,e&&jQuery.extend(t.opt,t.defaultOpt,e),t.videoID=getYTPVideoID(t.opt.videoURL).videoID,jQuery(t.playerEl).CSSAnimate({opacity:0},200,function(){return jQuery(t).YTPGetPlayer().cueVideoByUrl(encodeURI(jQuery.mbYTPlayer.locationProtocol+"//www.youtube.com/v/"+t.videoID),1,t.opt.quality),jQuery.mbYTPlayer.checkForState(t),jQuery(t).optimizeDisplay(),jQuery.mbYTPlayer.getDataFromAPI(t),this})},getPlayer:function(){return jQuery(this).get(0).player},playerDestroy:function(){var e=this.get(0);return ytp.YTAPIReady=!1,ytp.backgroundIsInited=!1,e.isInit=!1,e.videoID=null,e.wrapper.remove(),jQuery("#controlBar_"+e.id).remove(),clearInterval(e.checkForStartAt),clearInterval(e.getState),this},fullscreen:function(real){function hideMouse(){YTPlayer.overlay.css({cursor:"none"})}function RunPrefixMethod(e,t){for(var r,i,a=["webkit","moz","ms","o",""],n=0;n<a.length&&!e[r];){if(r=t,""==a[n]&&(r=r.substr(0,1).toLowerCase()+r.substr(1)),r=a[n]+r,"undefined"!=(i=typeof e[r]))return a=[a[n]],"function"==i?e[r]():e[r];n++}}function launchFullscreen(e){RunPrefixMethod(e,"RequestFullScreen")}function cancelFullscreen(){(RunPrefixMethod(document,"FullScreen")||RunPrefixMethod(document,"IsFullScreen"))&&RunPrefixMethod(document,"CancelFullScreen")}var YTPlayer=this.get(0);void 0===real&&(real=YTPlayer.opt.realfullscreen),real=eval(real);var controls=jQuery("#controlBar_"+YTPlayer.id),fullScreenBtn=controls.find(".mb_OnlyYT"),videoWrapper=YTPlayer.isSelf?YTPlayer.opt.containment:YTPlayer.wrapper;if(real){var fullscreenchange=jQuery.browser.mozilla?"mozfullscreenchange":jQuery.browser.webkit?"webkitfullscreenchange":"fullscreenchange";jQuery(document).off(fullscreenchange).on(fullscreenchange,function(){RunPrefixMethod(document,"IsFullScreen")||RunPrefixMethod(document,"FullScreen")?(jQuery(YTPlayer).YTPSetVideoQuality("default"),jQuery(YTPlayer).trigger("YTPFullScreenStart")):(YTPlayer.isAlone=!1,fullScreenBtn.html(jQuery.mbYTPlayer.controls.onlyYT),jQuery(YTPlayer).YTPSetVideoQuality(YTPlayer.opt.quality),videoWrapper.removeClass("fullscreen"),videoWrapper.CSSAnimate({opacity:YTPlayer.opt.opacity},500),videoWrapper.css({zIndex:0}),YTPlayer.isBackground?jQuery("body").after(controls):YTPlayer.wrapper.before(controls),jQuery(window).resize(),jQuery(YTPlayer).trigger("YTPFullScreenEnd"))})}return YTPlayer.isAlone?(jQuery(document).off("mousemove.YTPlayer"),YTPlayer.overlay.css({cursor:"auto"}),real?cancelFullscreen():(videoWrapper.CSSAnimate({opacity:YTPlayer.opt.opacity},500),videoWrapper.css({zIndex:0})),fullScreenBtn.html(jQuery.mbYTPlayer.controls.onlyYT),YTPlayer.isAlone=!1):(jQuery(document).on("mousemove.YTPlayer",function(e){YTPlayer.overlay.css({cursor:"auto"}),clearTimeout(YTPlayer.hideCursor),jQuery(e.target).parents().is(".mb_YTPBar")||(YTPlayer.hideCursor=setTimeout(hideMouse,3e3))}),hideMouse(),real?(videoWrapper.css({opacity:0}),videoWrapper.addClass("fullscreen"),launchFullscreen(videoWrapper.get(0)),setTimeout(function(){videoWrapper.CSSAnimate({opacity:1},1e3),YTPlayer.wrapper.append(controls),jQuery(YTPlayer).optimizeDisplay(),YTPlayer.player.seekTo(YTPlayer.player.getCurrentTime()+.1,!0)},500)):videoWrapper.css({zIndex:1e4}).CSSAnimate({opacity:1},1e3),fullScreenBtn.html(jQuery.mbYTPlayer.controls.showSite),YTPlayer.isAlone=!0),this},toggleLoops:function(){var e=this.get(0),t=e.opt;return 1==t.loop?t.loop=0:(t.startAt?e.player.seekTo(t.startAt):e.player.playVideo(),t.loop=1),this},play:function(){var e=this.get(0);if(e.isReady)return jQuery("#controlBar_"+e.id).find(".mb_YTPPlaypause").html(jQuery.mbYTPlayer.controls.pause),e.player.playVideo(),e.wrapper.CSSAnimate({opacity:e.isAlone?1:e.opt.opacity},2e3),jQuery(e.playerEl).CSSAnimate({opacity:1},1e3),jQuery(e).css("background-image","none"),this},togglePlay:function(e){var t=this.get(0);return 1==t.state?this.YTPPause():this.YTPPlay(),"function"==typeof e&&e(t.state),this},stop:function(){var e=this.get(0);return jQuery("#controlBar_"+e.id).find(".mb_YTPPlaypause").html(jQuery.mbYTPlayer.controls.play),e.player.stopVideo(),this},pause:function(){var e=this.get(0);return jQuery("#controlBar_"+e.id).find(".mb_YTPPlaypause").html(jQuery.mbYTPlayer.controls.play),e.player.pauseVideo(),this},seekTo:function(e){return this.get(0).player.seekTo(e,!0),this},setVolume:function(e){var t=this.get(0);return e||t.opt.vol||0!=t.player.getVolume()?!e&&t.player.getVolume()>0||e&&t.opt.vol==e?t.isMute?jQuery(t).YTPUnmute():jQuery(t).YTPMute():(t.opt.vol=e,t.player.setVolume(t.opt.vol),t.volumeBar&&t.volumeBar.length&&t.volumeBar.updateSliderVal(e)):jQuery(t).YTPUnmute(),this},mute:function(){var e=this.get(0);if(!e.isMute){e.player.mute(),e.isMute=!0,e.player.setVolume(0),e.volumeBar&&e.volumeBar.length&&e.volumeBar.width()>10&&e.volumeBar.updateSliderVal(0),jQuery("#controlBar_"+e.id).find(".mb_YTPMuteUnmute").html(jQuery.mbYTPlayer.controls.unmute),jQuery(e).addClass("isMuted"),e.volumeBar&&e.volumeBar.length&&e.volumeBar.addClass("muted");var t=jQuery.Event("YTPMuted");return t.time=e.player.time,e.canTrigger&&jQuery(e).trigger(t),this}},unmute:function(){var e=this.get(0);if(e.isMute){e.player.unMute(),e.isMute=!1,e.player.setVolume(e.opt.vol),e.volumeBar&&e.volumeBar.length&&e.volumeBar.updateSliderVal(e.opt.vol>10?e.opt.vol:10),jQuery("#controlBar_"+e.id).find(".mb_YTPMuteUnmute").html(jQuery.mbYTPlayer.controls.mute),jQuery(e).removeClass("isMuted"),e.volumeBar&&e.volumeBar.length&&e.volumeBar.removeClass("muted");var t=jQuery.Event("YTPUnmuted");return t.time=e.player.time,e.canTrigger&&jQuery(e).trigger(t),this}},applyFilter:function(e,t){var r=this.get(0);return r.filters[e].value=t,r.filtersEnabled&&this.YTPEnableFilters(),this},applyFilters:function(e){var t=this.get(0);return this.on("YTPReady",function(){for(var r in e)t.filters[r].value=e[r],jQuery(t).YTPApplyFilter(r,e[r]);jQuery(t).trigger("YTPFiltersApplied")}),this},toggleFilter:function(e,t){return this.each(function(){var r=this;r.filters[e].value?r.filters[e].value=0:r.filters[e].value=t,r.filtersEnabled&&jQuery(this).YTPEnableFilters()})},toggleFilters:function(e){return this.each(function(){var t=this;t.filtersEnabled?(jQuery(t).trigger("YTPDisableFilters"),jQuery(t).YTPDisableFilters()):(jQuery(t).YTPEnableFilters(),jQuery(t).trigger("YTPEnableFilters")),"function"==typeof e&&e(t.filtersEnabled)})},disableFilters:function(){return this.each(function(){var e=this,t=jQuery(e.playerEl);t.css("-webkit-filter",""),t.css("filter",""),e.filtersEnabled=!1})},enableFilters:function(){return this.each(function(){var e=this,t=jQuery(e.playerEl),r="";for(var i in e.filters)e.filters[i].value&&(r+=i.replace("_","-")+"("+e.filters[i].value+e.filters[i].unit+") ");t.css("-webkit-filter",r),t.css("filter",r),e.filtersEnabled=!0})},removeFilter:function(e,t){return this.each(function(){"function"==typeof e&&(t=e,e=null);var r=this;if(e)jQuery(this).YTPApplyFilter(e,0),"function"==typeof t&&t(e);else for(var i in r.filters)jQuery(this).YTPApplyFilter(i,0),"function"==typeof t&&t(i)})},manageProgress:function(){var e=this.get(0),t=jQuery("#controlBar_"+e.id),r=t.find(".mb_YTPProgress"),i=t.find(".mb_YTPLoaded"),a=t.find(".mb_YTPseekbar"),n=r.outerWidth(),o=Math.floor(e.player.getCurrentTime()),s=Math.floor(e.player.getDuration()),l=o*n/s,u=100*e.player.getVideoLoadedFraction();return i.css({left:0,width:u+"%"}),a.css({left:0,width:l}),{totalTime:s,currentTime:o}},buildControls:function(YTPlayer){var data=YTPlayer.opt;if(data.showYTLogo=data.showYTLogo||data.printUrl,!jQuery("#controlBar_"+YTPlayer.id).length){YTPlayer.controlBar=jQuery("<span/>").attr("id","controlBar_"+YTPlayer.id).addClass("mb_YTPBar").css({whiteSpace:"noWrap",position:YTPlayer.isBackground?"fixed":"absolute",zIndex:YTPlayer.isBackground?1e4:1e3}).hide();var buttonBar=jQuery("<div/>").addClass("buttonBar"),playpause=jQuery("<span>"+jQuery.mbYTPlayer.controls.play+"</span>").addClass("mb_YTPPlaypause ytpicon").click(function(){1==YTPlayer.player.getPlayerState()?jQuery(YTPlayer).YTPPause():jQuery(YTPlayer).YTPPlay()}),MuteUnmute=jQuery("<span>"+jQuery.mbYTPlayer.controls.mute+"</span>").addClass("mb_YTPMuteUnmute ytpicon").click(function(){0==YTPlayer.player.getVolume()?jQuery(YTPlayer).YTPUnmute():jQuery(YTPlayer).YTPMute()}),volumeBar=jQuery("<div/>").addClass("mb_YTPVolumeBar").css({display:"inline-block"});YTPlayer.volumeBar=volumeBar;var idx=jQuery("<span/>").addClass("mb_YTPTime"),vURL=data.videoURL?data.videoURL:"";vURL.indexOf("http")<0&&(vURL=jQuery.mbYTPlayer.locationProtocol+"//www.youtube.com/watch?v="+data.videoURL);var movieUrl=jQuery("<span/>").html(jQuery.mbYTPlayer.controls.ytLogo).addClass("mb_YTPUrl ytpicon").attr("title","view on YouTube").on("click",function(){window.open(vURL,"viewOnYT")}),onlyVideo=jQuery("<span/>").html(jQuery.mbYTPlayer.controls.onlyYT).addClass("mb_OnlyYT ytpicon").on("click",function(){jQuery(YTPlayer).YTPFullscreen(data.realfullscreen)}),progressBar=jQuery("<div/>").addClass("mb_YTPProgress").css("position","absolute").click(function(e){timeBar.css({width:e.clientX-timeBar.offset().left}),YTPlayer.timeW=e.clientX-timeBar.offset().left,YTPlayer.controlBar.find(".mb_YTPLoaded").css({width:0});var t=Math.floor(YTPlayer.player.getDuration());YTPlayer.goto=timeBar.outerWidth()*t/progressBar.outerWidth(),YTPlayer.player.seekTo(parseFloat(YTPlayer.goto),!0),YTPlayer.controlBar.find(".mb_YTPLoaded").css({width:0})}),loadedBar=jQuery("<div/>").addClass("mb_YTPLoaded").css("position","absolute"),timeBar=jQuery("<div/>").addClass("mb_YTPseekbar").css("position","absolute");progressBar.append(loadedBar).append(timeBar),buttonBar.append(playpause).append(MuteUnmute).append(volumeBar).append(idx),data.showYTLogo&&buttonBar.append(movieUrl),(YTPlayer.isBackground||eval(YTPlayer.opt.realfullscreen)&&!YTPlayer.isBackground)&&buttonBar.append(onlyVideo),YTPlayer.controlBar.append(buttonBar).append(progressBar),YTPlayer.isBackground?jQuery("body").after(YTPlayer.controlBar):(YTPlayer.controlBar.addClass("inlinePlayer"),YTPlayer.wrapper.before(YTPlayer.controlBar)),volumeBar.simpleSlider({initialval:YTPlayer.opt.vol,scale:100,orientation:"h",callback:function(e){0==e.value?jQuery(YTPlayer).YTPMute():jQuery(YTPlayer).YTPUnmute(),YTPlayer.player.setVolume(e.value),YTPlayer.isMute||(YTPlayer.opt.vol=e.value)}})}},checkForState:function(YTPlayer){var interval=YTPlayer.opt.showControls?100:700;return clearInterval(YTPlayer.getState),jQuery.contains(document,YTPlayer)?(jQuery.mbYTPlayer.checkForStart(YTPlayer),void(YTPlayer.getState=setInterval(function(){var prog=jQuery(YTPlayer).YTPManageProgress(),$YTPlayer=jQuery(YTPlayer),data=YTPlayer.opt,startAt=YTPlayer.opt.startAt?YTPlayer.opt.startAt:0,stopAt=YTPlayer.opt.stopAt>YTPlayer.opt.startAt?YTPlayer.opt.stopAt:0;if(stopAt=stopAt<YTPlayer.player.getDuration()?stopAt:0,YTPlayer.player.time!=prog.currentTime){var YTPEvent=jQuery.Event("YTPTime");YTPEvent.time=YTPlayer.player.time,jQuery(YTPlayer).trigger(YTPEvent)}if(YTPlayer.player.time=prog.currentTime,0==YTPlayer.player.getVolume()?$YTPlayer.addClass("isMuted"):$YTPlayer.removeClass("isMuted"),YTPlayer.opt.showControls&&(prog.totalTime?YTPlayer.controlBar.find(".mb_YTPTime").html(jQuery.mbYTPlayer.formatTime(prog.currentTime)+" / "+jQuery.mbYTPlayer.formatTime(prog.totalTime)):YTPlayer.controlBar.find(".mb_YTPTime").html("-- : -- / -- : --")),eval(YTPlayer.opt.stopMovieOnBlur)&&(document.hasFocus()?document.hasFocus()&&!YTPlayer.hasFocus&&-1!=YTPlayer.state&&0!=YTPlayer.state&&(YTPlayer.hasFocus=!0,$YTPlayer.YTPPlay()):1==YTPlayer.state&&(YTPlayer.hasFocus=!1,$YTPlayer.YTPPause())),YTPlayer.controlBar&&YTPlayer.controlBar.outerWidth()<=400&&!YTPlayer.isCompact?(YTPlayer.controlBar.addClass("compact"),YTPlayer.isCompact=!0,!YTPlayer.isMute&&YTPlayer.volumeBar&&YTPlayer.volumeBar.updateSliderVal(YTPlayer.opt.vol)):YTPlayer.controlBar&&YTPlayer.controlBar.outerWidth()>400&&YTPlayer.isCompact&&(YTPlayer.controlBar.removeClass("compact"),YTPlayer.isCompact=!1,!YTPlayer.isMute&&YTPlayer.volumeBar&&YTPlayer.volumeBar.updateSliderVal(YTPlayer.opt.vol)),1==YTPlayer.player.getPlayerState()&&(parseFloat(YTPlayer.player.getDuration()-1.5)<YTPlayer.player.getCurrentTime()||stopAt>0&&parseFloat(YTPlayer.player.getCurrentTime())>stopAt)){if(YTPlayer.isEnded)return;if(YTPlayer.isEnded=!0,setTimeout(function(){YTPlayer.isEnded=!1},1e3),YTPlayer.isPlayList){clearInterval(YTPlayer.getState);var YTPEnd=jQuery.Event("YTPEnd");return YTPEnd.time=YTPlayer.player.time,void jQuery(YTPlayer).trigger(YTPEnd)}data.loop?(startAt=startAt||1,YTPlayer.player.pauseVideo(),YTPlayer.player.seekTo(startAt,!0),$YTPlayer.YTPPlay()):(YTPlayer.player.pauseVideo(),YTPlayer.wrapper.CSSAnimate({opacity:0},1e3,function(){var e=jQuery.Event("YTPEnd");e.time=YTPlayer.player.time,jQuery(YTPlayer).trigger(e),YTPlayer.player.seekTo(startAt,!0),YTPlayer.isBackground||YTPlayer.opt.containment.css({background:"rgba(0,0,0,0.5) url("+YTPlayer.opt.backgroundUrl+") center center",backgroundSize:"cover"})}))}},interval))):(jQuery(YTPlayer).YTPPlayerDestroy(),clearInterval(YTPlayer.getState),void clearInterval(YTPlayer.checkForStartAt))},checkForStart:function(e){var t=jQuery(e);if(jQuery.contains(document,e)){if(jQuery.browser.chrome&&(e.opt.quality="default"),e.player.pauseVideo(),jQuery(e).muteYTPVolume(),jQuery("#controlBar_"+e.id).remove(),e.opt.showControls&&jQuery.mbYTPlayer.buildControls(e),e.opt.addRaster){var r="dot"==e.opt.addRaster?"raster-dot":"raster";e.overlay.addClass(e.isRetina?r+" retina":r)}else e.overlay.removeClass(function(e,t){var r=t.split(" "),i=[];return jQuery.each(r,function(e,t){/raster.*/.test(t)&&i.push(t)}),i.push("retina"),i.join(" ")});e.checkForStartAt=setInterval(function(){jQuery(e).YTPMute();var r=e.opt.startAt?e.opt.startAt:1,i=e.player.getVideoLoadedFraction()>r/e.player.getDuration();if(e.player.getDuration()>0&&e.player.getCurrentTime()>=r&&i){clearInterval(e.checkForStartAt),e.isReady=!0,"function"==typeof e.opt.onReady&&e.opt.onReady(e);var a=jQuery.Event("YTPReady");jQuery(e).trigger(a),e.player.pauseVideo(),e.opt.mute||jQuery(e).YTPUnmute(),e.canTrigger=!0,e.opt.autoPlay?(t.YTPPlay(),t.css("background-image","none"),jQuery(e.playerEl).CSSAnimate({opacity:1},1e3),e.wrapper.CSSAnimate({opacity:e.isAlone?1:e.opt.opacity},1e3)):(e.player.pauseVideo(),e.isPlayer||(jQuery(e.playerEl).CSSAnimate({opacity:1},1e3),e.wrapper.CSSAnimate({opacity:e.isAlone?1:e.opt.opacity},1e3))),e.isPlayer&&!e.opt.autoPlay&&(e.loading.html("Ready"),setTimeout(function(){e.loading.fadeOut()},100)),e.controlBar&&e.controlBar.slideDown(1e3)}else r>=0&&e.player.seekTo(r,!0)},1e3)}else jQuery(e).YTPPlayerDestroy()},formatTime:function(e){var t=Math.floor(e/60),r=Math.floor(e-60*t);return(9>=t?"0"+t:t)+" : "+(9>=r?"0"+r:r)}},jQuery.fn.toggleVolume=function(){var e=this.get(0);if(e)return e.player.isMuted()?(jQuery(e).YTPUnmute(),!0):(jQuery(e).YTPMute(),!1)},jQuery.fn.optimizeDisplay=function(){var e=this.get(0),t=e.opt,r=jQuery(e.playerEl),i={},a=e.wrapper;i.width=a.outerWidth(),i.height=a.outerHeight();var n=100,o={};t.optimizeDisplay?(o.width=i.width+24*i.width/100,o.height="16/9"==t.ratio?Math.ceil(9*i.width/16):Math.ceil(3*i.width/4),o.marginTop=-(o.height-i.height)/2,o.marginLeft=-12*i.width/100,o.height<i.height&&(o.height=i.height+24*i.height/100,o.width="16/9"==t.ratio?Math.floor(16*i.height/9):Math.floor(4*i.height/3),o.marginTop=-12*i.height/100,o.marginLeft=-(o.width-i.width)/2),o.width+=n,o.height+=n,o.marginTop-=50,o.marginLeft-=50):(o.width="100%",o.height="100%",o.marginTop=0,o.marginLeft=0),r.css({width:o.width,height:o.height,marginTop:o.marginTop,marginLeft:o.marginLeft})},jQuery.shuffle=function(e){for(var t=e.slice(),r=t.length,i=r;i--;){var a=parseInt(Math.random()*r),n=t[i];t[i]=t[a],t[a]=n}return t},jQuery.fn.YTPlayer=jQuery.mbYTPlayer.buildPlayer,jQuery.fn.YTPGetPlayer=jQuery.mbYTPlayer.getPlayer,jQuery.fn.YTPGetVideoID=jQuery.mbYTPlayer.getVideoID,jQuery.fn.YTPChangeMovie=jQuery.mbYTPlayer.changeMovie,jQuery.fn.YTPPlayerDestroy=jQuery.mbYTPlayer.playerDestroy,jQuery.fn.YTPPlay=jQuery.mbYTPlayer.play,jQuery.fn.YTPTogglePlay=jQuery.mbYTPlayer.togglePlay,jQuery.fn.YTPStop=jQuery.mbYTPlayer.stop,jQuery.fn.YTPPause=jQuery.mbYTPlayer.pause,jQuery.fn.YTPSeekTo=jQuery.mbYTPlayer.seekTo,jQuery.fn.YTPlaylist=jQuery.mbYTPlayer.playlist,jQuery.fn.YTPPlayNext=jQuery.mbYTPlayer.playNext,jQuery.fn.YTPPlayPrev=jQuery.mbYTPlayer.playPrev,jQuery.fn.YTPMute=jQuery.mbYTPlayer.mute,jQuery.fn.YTPUnmute=jQuery.mbYTPlayer.unmute,jQuery.fn.YTPToggleVolume=jQuery.mbYTPlayer.toggleVolume,jQuery.fn.YTPSetVolume=jQuery.mbYTPlayer.setVolume,jQuery.fn.YTPGetVideoData=jQuery.mbYTPlayer.getVideoData,jQuery.fn.YTPFullscreen=jQuery.mbYTPlayer.fullscreen,jQuery.fn.YTPToggleLoops=jQuery.mbYTPlayer.toggleLoops,jQuery.fn.YTPSetVideoQuality=jQuery.mbYTPlayer.setVideoQuality,jQuery.fn.YTPManageProgress=jQuery.mbYTPlayer.manageProgress,jQuery.fn.YTPApplyFilter=jQuery.mbYTPlayer.applyFilter,jQuery.fn.YTPApplyFilters=jQuery.mbYTPlayer.applyFilters,jQuery.fn.YTPToggleFilter=jQuery.mbYTPlayer.toggleFilter,jQuery.fn.YTPToggleFilters=jQuery.mbYTPlayer.toggleFilters,jQuery.fn.YTPRemoveFilter=jQuery.mbYTPlayer.removeFilter,jQuery.fn.YTPDisableFilters=jQuery.mbYTPlayer.disableFilters,jQuery.fn.YTPEnableFilters=jQuery.mbYTPlayer.enableFilters,jQuery.fn.mb_YTPlayer=jQuery.mbYTPlayer.buildPlayer,jQuery.fn.playNext=jQuery.mbYTPlayer.playNext,jQuery.fn.playPrev=jQuery.mbYTPlayer.playPrev,jQuery.fn.changeMovie=jQuery.mbYTPlayer.changeMovie,jQuery.fn.getVideoID=jQuery.mbYTPlayer.getVideoID,jQuery.fn.getPlayer=jQuery.mbYTPlayer.getPlayer,jQuery.fn.playerDestroy=jQuery.mbYTPlayer.playerDestroy,jQuery.fn.fullscreen=jQuery.mbYTPlayer.fullscreen,jQuery.fn.buildYTPControls=jQuery.mbYTPlayer.buildControls,jQuery.fn.playYTP=jQuery.mbYTPlayer.play,jQuery.fn.toggleLoops=jQuery.mbYTPlayer.toggleLoops,jQuery.fn.stopYTP=jQuery.mbYTPlayer.stop,jQuery.fn.pauseYTP=jQuery.mbYTPlayer.pause,jQuery.fn.seekToYTP=jQuery.mbYTPlayer.seekTo,jQuery.fn.muteYTPVolume=jQuery.mbYTPlayer.mute,jQuery.fn.unmuteYTPVolume=jQuery.mbYTPlayer.unmute,jQuery.fn.setYTPVolume=jQuery.mbYTPlayer.setVolume,jQuery.fn.setVideoQuality=jQuery.mbYTPlayer.setVideoQuality,jQuery.fn.manageYTPProgress=jQuery.mbYTPlayer.manageProgress,jQuery.fn.YTPGetDataFromFeed=jQuery.mbYTPlayer.getVideoData}(jQuery,ytp),jQuery.support.CSStransition=function(){var e=(document.body||document.documentElement).style;return void 0!==e.transition||void 0!==e.WebkitTransition||void 0!==e.MozTransition||void 0!==e.MsTransition||void 0!==e.OTransition}(),jQuery.CSS={name:"mb.CSSAnimate",author:"Matteo Bicocchi",version:"2.0.0",transitionEnd:"transitionEnd",sfx:"",filters:{blur:{min:0,max:100,unit:"px"},brightness:{min:0,max:400,unit:"%"},contrast:{min:0,max:400,unit:"%"},grayscale:{min:0,max:100,unit:"%"},hueRotate:{min:0,max:360,unit:"deg"},invert:{min:0,max:100,unit:"%"},saturate:{min:0,max:400,unit:"%"},sepia:{min:0,max:100,unit:"%"}},normalizeCss:function(e){var t=jQuery.extend(!0,{},e);jQuery.browser.webkit||jQuery.browser.opera?jQuery.CSS.sfx="-webkit-":jQuery.browser.mozilla?jQuery.CSS.sfx="-moz-":jQuery.browser.msie&&(jQuery.CSS.sfx="-ms-");for(var r in t){"transform"===r&&(t[jQuery.CSS.sfx+"transform"]=t[r],delete t[r]),"transform-origin"===r&&(t[jQuery.CSS.sfx+"transform-origin"]=e[r],delete t[r]),"filter"!==r||jQuery.browser.mozilla||(t[jQuery.CSS.sfx+"filter"]=e[r],delete t[r]),"blur"===r&&setFilter(t,"blur",e[r]),"brightness"===r&&setFilter(t,"brightness",e[r]),"contrast"===r&&setFilter(t,"contrast",e[r]),"grayscale"===r&&setFilter(t,"grayscale",e[r]),"hueRotate"===r&&setFilter(t,"hueRotate",e[r]),"invert"===r&&setFilter(t,"invert",e[r]),"saturate"===r&&setFilter(t,"saturate",e[r]),"sepia"===r&&setFilter(t,"sepia",e[r]);var i="";"x"===r&&(i=jQuery.CSS.sfx+"transform",t[i]=t[i]||"",t[i]+=" translateX("+setUnit(e[r],"px")+")",delete t[r]),"y"===r&&(i=jQuery.CSS.sfx+"transform",t[i]=t[i]||"",t[i]+=" translateY("+setUnit(e[r],"px")+")",delete t[r]),"z"===r&&(i=jQuery.CSS.sfx+"transform",t[i]=t[i]||"",t[i]+=" translateZ("+setUnit(e[r],"px")+")",delete t[r]),"rotate"===r&&(i=jQuery.CSS.sfx+"transform",t[i]=t[i]||"",t[i]+=" rotate("+setUnit(e[r],"deg")+")",delete t[r]),"rotateX"===r&&(i=jQuery.CSS.sfx+"transform",t[i]=t[i]||"",t[i]+=" rotateX("+setUnit(e[r],"deg")+")",delete t[r]),"rotateY"===r&&(i=jQuery.CSS.sfx+"transform",t[i]=t[i]||"",t[i]+=" rotateY("+setUnit(e[r],"deg")+")",delete t[r]),"rotateZ"===r&&(i=jQuery.CSS.sfx+"transform",t[i]=t[i]||"",t[i]+=" rotateZ("+setUnit(e[r],"deg")+")",delete t[r]),"scale"===r&&(i=jQuery.CSS.sfx+"transform",t[i]=t[i]||"",t[i]+=" scale("+setUnit(e[r],"")+")",delete t[r]),"scaleX"===r&&(i=jQuery.CSS.sfx+"transform",t[i]=t[i]||"",t[i]+=" scaleX("+setUnit(e[r],"")+")",delete t[r]),"scaleY"===r&&(i=jQuery.CSS.sfx+"transform",t[i]=t[i]||"",t[i]+=" scaleY("+setUnit(e[r],"")+")",delete t[r]),"scaleZ"===r&&(i=jQuery.CSS.sfx+"transform",t[i]=t[i]||"",t[i]+=" scaleZ("+setUnit(e[r],"")+")",delete t[r]),"skew"===r&&(i=jQuery.CSS.sfx+"transform",t[i]=t[i]||"",t[i]+=" skew("+setUnit(e[r],"deg")+")",delete t[r]),"skewX"===r&&(i=jQuery.CSS.sfx+"transform",t[i]=t[i]||"",t[i]+=" skewX("+setUnit(e[r],"deg")+")",delete t[r]),"skewY"===r&&(i=jQuery.CSS.sfx+"transform",t[i]=t[i]||"",t[i]+=" skewY("+setUnit(e[r],"deg")+")",delete t[r]),"perspective"===r&&(i=jQuery.CSS.sfx+"transform",t[i]=t[i]||"",t[i]+=" perspective("+setUnit(e[r],"px")+")",delete t[r])}return t},getProp:function(e){var t=[];for(var r in e)t.indexOf(r)<0&&t.push(uncamel(r));return t.join(",")},animate:function(e,t,r,i,a){return this.each(function(){function n(){o.called=!0,o.CSSAIsRunning=!1,s.off(jQuery.CSS.transitionEnd+"."+o.id),clearTimeout(o.timeout),s.css(jQuery.CSS.sfx+"transition",""),"function"==typeof a&&a.apply(o),"function"==typeof o.CSSqueue&&(o.CSSqueue(),o.CSSqueue=null)}var o=this,s=jQuery(this);o.id=o.id||"CSSA_"+(new Date).getTime();var l=l||{type:"noEvent"};if(o.CSSAIsRunning&&o.eventType==l.type&&!jQuery.browser.msie&&jQuery.browser.version<=9)o.CSSqueue=function(){s.CSSAnimate(e,t,r,i,a)};else if(o.CSSqueue=null,o.eventType=l.type,0!==s.length&&e){if(e=jQuery.normalizeCss(e),o.CSSAIsRunning=!0,"function"==typeof t&&(a=t,t=jQuery.fx.speeds._default),"function"==typeof r&&(i=r,r=0),"string"==typeof r&&(a=r,r=0),"function"==typeof i&&(a=i,i="cubic-bezier(0.65,0.03,0.36,0.72)"),"string"==typeof t)for(var u in jQuery.fx.speeds){if(t==u){t=jQuery.fx.speeds[u];break}t=jQuery.fx.speeds._default}if(t||(t=jQuery.fx.speeds._default),"string"==typeof a&&(i=a,a=null),!jQuery.support.CSStransition){for(var c in e){if("transform"===c&&delete e[c],"filter"===c&&delete e[c],"transform-origin"===c&&delete e[c],"auto"===e[c]&&delete e[c],"x"===c){d=e[c];e[h="left"]=d,delete e[c]}if("y"===c){var d=e[c],h="top";e[h]=d,delete e[c]}("-ms-transform"===c||"-ms-filter"===c)&&delete e[c]}return void s.delay(r).animate(e,t,a)}var y={default:"ease",in:"ease-in",out:"ease-out","in-out":"ease-in-out",snap:"cubic-bezier(0,1,.5,1)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInBack:"cubic-bezier(.6,-.28,.735,.045)",easeOutBack:"cubic-bezier(.175, .885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)"};y[i]&&(i=y[i]),s.off(jQuery.CSS.transitionEnd+"."+o.id);var p=jQuery.CSS.getProp(e),f={};jQuery.extend(f,e),f[jQuery.CSS.sfx+"transition-property"]=p,f[jQuery.CSS.sfx+"transition-duration"]=t+"ms",f[jQuery.CSS.sfx+"transition-delay"]=r+"ms",f[jQuery.CSS.sfx+"transition-timing-function"]=i,setTimeout(function(){s.one(jQuery.CSS.transitionEnd+"."+o.id,n),s.css(f)},1),o.timeout=setTimeout(function(){return o.called||!a?(o.called=!1,void(o.CSSAIsRunning=!1)):(s.css(jQuery.CSS.sfx+"transition",""),a.apply(o),o.CSSAIsRunning=!1,void("function"==typeof o.CSSqueue&&(o.CSSqueue(),o.CSSqueue=null)))},t+r+10)}})}},jQuery.fn.CSSAnimate=jQuery.CSS.animate,jQuery.normalizeCss=jQuery.CSS.normalizeCss,jQuery.fn.css3=function(e){return this.each(function(){var t=jQuery(this),r=jQuery.normalizeCss(e);t.css(r)})};var nAgt=navigator.userAgent;if(!jQuery.browser){jQuery.browser={},jQuery.browser.mozilla=!1,jQuery.browser.webkit=!1,jQuery.browser.opera=!1,jQuery.browser.safari=!1,jQuery.browser.chrome=!1,jQuery.browser.msie=!1,jQuery.browser.ua=nAgt,jQuery.browser.name=navigator.appName,jQuery.browser.fullVersion=""+parseFloat(navigator.appVersion),jQuery.browser.majorVersion=parseInt(navigator.appVersion,10);var nameOffset,verOffset,ix;if(-1!=(verOffset=nAgt.indexOf("Opera")))jQuery.browser.opera=!0,jQuery.browser.name="Opera",jQuery.browser.fullVersion=nAgt.substring(verOffset+6),-1!=(verOffset=nAgt.indexOf("Version"))&&(jQuery.browser.fullVersion=nAgt.substring(verOffset+8));else if(-1!=(verOffset=nAgt.indexOf("OPR")))jQuery.browser.opera=!0,jQuery.browser.name="Opera",jQuery.browser.fullVersion=nAgt.substring(verOffset+4);else if(-1!=(verOffset=nAgt.indexOf("MSIE")))jQuery.browser.msie=!0,jQuery.browser.name="Microsoft Internet Explorer",jQuery.browser.fullVersion=nAgt.substring(verOffset+5);else if(-1!=nAgt.indexOf("Trident")){jQuery.browser.msie=!0,jQuery.browser.name="Microsoft Internet Explorer";var start=nAgt.indexOf("rv:")+3,end=start+4;jQuery.browser.fullVersion=nAgt.substring(start,end)}else-1!=(verOffset=nAgt.indexOf("Chrome"))?(jQuery.browser.webkit=!0,jQuery.browser.chrome=!0,jQuery.browser.name="Chrome",jQuery.browser.fullVersion=nAgt.substring(verOffset+7)):-1!=(verOffset=nAgt.indexOf("Safari"))?(jQuery.browser.webkit=!0,jQuery.browser.safari=!0,jQuery.browser.name="Safari",jQuery.browser.fullVersion=nAgt.substring(verOffset+7),-1!=(verOffset=nAgt.indexOf("Version"))&&(jQuery.browser.fullVersion=nAgt.substring(verOffset+8))):-1!=(verOffset=nAgt.indexOf("AppleWebkit"))?(jQuery.browser.webkit=!0,jQuery.browser.name="Safari",jQuery.browser.fullVersion=nAgt.substring(verOffset+7),-1!=(verOffset=nAgt.indexOf("Version"))&&(jQuery.browser.fullVersion=nAgt.substring(verOffset+8))):-1!=(verOffset=nAgt.indexOf("Firefox"))?(jQuery.browser.mozilla=!0,jQuery.browser.name="Firefox",jQuery.browser.fullVersion=nAgt.substring(verOffset+8)):(nameOffset=nAgt.lastIndexOf(" ")+1)<(verOffset=nAgt.lastIndexOf("/"))&&(jQuery.browser.name=nAgt.substring(nameOffset,verOffset),jQuery.browser.fullVersion=nAgt.substring(verOffset+1),jQuery.browser.name.toLowerCase()==jQuery.browser.name.toUpperCase()&&(jQuery.browser.name=navigator.appName));-1!=(ix=jQuery.browser.fullVersion.indexOf(";"))&&(jQuery.browser.fullVersion=jQuery.browser.fullVersion.substring(0,ix)),-1!=(ix=jQuery.browser.fullVersion.indexOf(" "))&&(jQuery.browser.fullVersion=jQuery.browser.fullVersion.substring(0,ix)),jQuery.browser.majorVersion=parseInt(""+jQuery.browser.fullVersion,10),isNaN(jQuery.browser.majorVersion)&&(jQuery.browser.fullVersion=""+parseFloat(navigator.appVersion),jQuery.browser.majorVersion=parseInt(navigator.appVersion,10)),jQuery.browser.version=jQuery.browser.majorVersion}jQuery.browser.android=/Android/i.test(nAgt),jQuery.browser.blackberry=/BlackBerry|BB|PlayBook/i.test(nAgt),jQuery.browser.ios=/iPhone|iPad|iPod|webOS/i.test(nAgt),jQuery.browser.operaMobile=/Opera Mini/i.test(nAgt),jQuery.browser.windowsMobile=/IEMobile|Windows Phone/i.test(nAgt),jQuery.browser.kindle=/Kindle|Silk/i.test(nAgt),jQuery.browser.mobile=jQuery.browser.android||jQuery.browser.blackberry||jQuery.browser.ios||jQuery.browser.windowsMobile||jQuery.browser.operaMobile||jQuery.browser.kindle,jQuery.isMobile=jQuery.browser.mobile,jQuery.isTablet=jQuery.browser.mobile&&jQuery(window).width()>765,jQuery.isAndroidDefault=jQuery.browser.android&&!/chrome/i.test(nAgt),function(e){/iphone|ipod|ipad|android|ie|blackberry|fennec/.test(navigator.userAgent.toLowerCase());var t="ontouchstart"in window||window.navigator&&window.navigator.msPointerEnabled&&window.MSGesture||window.DocumentTouch&&document instanceof DocumentTouch||!1;e.simpleSlider={defaults:{initialval:0,scale:100,orientation:"h",readonly:!1,callback:!1},events:{start:t?"touchstart":"mousedown",end:t?"touchend":"mouseup",move:t?"touchmove":"mousemove"},init:function(r){return this.each(function(){var i=this,a=e(i);a.addClass("simpleSlider"),i.opt={},e.extend(i.opt,e.simpleSlider.defaults,r),e.extend(i.opt,a.data());var n="h"==i.opt.orientation?"horizontal":"vertical",o=e("<div/>").addClass("level").addClass(n);a.prepend(o),i.level=o,a.css({cursor:"default"}),"auto"==i.opt.scale&&(i.opt.scale=e(i).outerWidth()),a.updateSliderVal(),i.opt.readonly||(a.on(e.simpleSlider.events.start,function(e){t&&(e=e.changedTouches[0]),i.canSlide=!0,a.updateSliderVal(e),a.css({cursor:"col-resize"}),e.preventDefault(),e.stopPropagation()}),e(document).on(e.simpleSlider.events.move,function(r){t&&(r=r.changedTouches[0]),i.canSlide&&(e(document).css({cursor:"default"}),a.updateSliderVal(r),r.preventDefault(),r.stopPropagation())}).on(e.simpleSlider.events.end,function(){e(document).css({cursor:"auto"}),i.canSlide=!1,a.css({cursor:"auto"})}))})},updateSliderVal:function(t){function r(e,t){return Math.floor(100*e/t)}var i=this,a=i.get(0);a.opt.initialval="number"==typeof a.opt.initialval?a.opt.initialval:a.opt.initialval(a);var n=e(a).outerWidth(),o=e(a).outerHeight();a.x="object"==typeof t?t.clientX+document.body.scrollLeft-i.offset().left:"number"==typeof t?t*n/a.opt.scale:a.opt.initialval*n/a.opt.scale,a.y="object"==typeof t?t.clientY+document.body.scrollTop-i.offset().top:"number"==typeof t?(a.opt.scale-a.opt.initialval-t)*o/a.opt.scale:a.opt.initialval*o/a.opt.scale,a.y=i.outerHeight()-a.y,a.scaleX=a.x*a.opt.scale/n,a.scaleY=a.y*a.opt.scale/o,a.outOfRangeX=a.scaleX>a.opt.scale?a.scaleX-a.opt.scale:a.scaleX<0?a.scaleX:0,a.outOfRangeY=a.scaleY>a.opt.scale?a.scaleY-a.opt.scale:a.scaleY<0?a.scaleY:0,a.outOfRange="h"==a.opt.orientation?a.outOfRangeX:a.outOfRangeY,a.value=void 0!==t?"h"==a.opt.orientation?a.x>=i.outerWidth()?a.opt.scale:a.x<=0?0:a.scaleX:a.y>=i.outerHeight()?a.opt.scale:a.y<=0?0:a.scaleY:"h"==a.opt.orientation?a.scaleX:a.scaleY,"h"==a.opt.orientation?a.level.width(r(a.x,n)+"%"):a.level.height(r(a.y,o)),"function"==typeof a.opt.callback&&a.opt.callback(a)}},e.fn.simpleSlider=e.simpleSlider.init,e.fn.updateSliderVal=e.simpleSlider.updateSliderVal}(jQuery),function(e){e.mbCookie={set:function(e,t,r,i){t=JSON.stringify(t),r||(r=7),i=i?"; domain="+i:"";var a,n=new Date;n.setTime(n.getTime()+864e5*r),a="; expires="+n.toGMTString(),document.cookie=e+"="+t+a+"; path=/"+i},get:function(e){for(var t=e+"=",r=document.cookie.split(";"),i=0;i<r.length;i++){for(var a=r[i];" "==a.charAt(0);)a=a.substring(1,a.length);if(0==a.indexOf(t))return JSON.parse(a.substring(t.length,a.length))}return null},remove:function(t){e.mbCookie.set(t,"",-1)}},e.mbStorage={set:function(e,t){t=JSON.stringify(t),localStorage.setItem(e,t)},get:function(e){return localStorage[e]?JSON.parse(localStorage[e]):null},remove:function(e){e?localStorage.removeItem(e):localStorage.clear()}}}(jQuery),function(e,t,r){var i=function(i,a){this.elem=i,this.$elem=e(i),this.options=a,this.metadata=this.$elem.data("plugin-options"),this.$nav=this.$elem.find("a"),this.$win=e(t),this.sections={},this.didScroll=!1,this.$doc=e(r),this.docHeight=this.$doc.height()};i.prototype={defaults:{currentClass:"current",changeHash:!1,easing:"swing",filter:"",scrollSpeed:750,scrollOffset:0,scrollThreshold:.5,begin:!1,end:!1,scrollChange:!1},init:function(){var t=this;return t.config=e.extend({},t.defaults,t.options,t.metadata),""!==t.config.filter&&(t.$nav=t.$nav.filter(t.config.filter)),t.getPositions(),t.bindInterval(),t.$win.on("resize.onePageNav",e.proxy(t.getPositions,t)),this},adjustNav:function(e,t){e.$elem.find("."+e.config.currentClass).removeClass(e.config.currentClass),t.addClass(e.config.currentClass)},bindInterval:function(){var e,t=this;t.$win.on("scroll.onePageNav",function(){t.didScroll=!0}),t.t=setInterval(function(){e=t.$doc.height(),t.didScroll&&(t.didScroll=!1,t.scrollChange()),e!==t.docHeight&&(t.docHeight=e,t.getPositions())},250)},getHash:function(e){return e.attr("href").split("#")[1]},getPositions:function(){var t,r,i,a=this;a.$nav.each(function(){t=a.getHash(e(this)),(i=e("#"+t)).length&&(r=i.offset().top,a.sections[t]=Math.round(r)-a.config.scrollOffset)})},getSection:function(e){var t=null,r=Math.round(this.$win.height()*this.config.scrollThreshold);for(var i in this.sections)this.sections[i]-r<e&&(t=i);return t},handleClick:function(r){var i=this,a=e(r.currentTarget),n=a.parent(),o="#"+i.getHash(a);n.hasClass(i.config.currentClass)||(i.config.begin&&i.config.begin(),i.adjustNav(i,n),i.unbindInterval(),e.scrollTo(o,i.config.scrollSpeed,{axis:"y",easing:i.config.easing,offset:{top:-i.config.scrollOffset},onAfter:function(){i.config.changeHash&&(t.location.hash=o),i.bindInterval(),i.config.end&&i.config.end()}})),r.preventDefault()},scrollChange:function(){var e,t=this.$win.scrollTop(),r=this.getSection(t);null!==r&&((e=this.$elem.find('a[href$="#'+r+'"]').parent()).hasClass(this.config.currentClass)||(this.adjustNav(this,e),this.config.scrollChange&&this.config.scrollChange(e)))},unbindInterval:function(){clearInterval(this.t),this.$win.unbind("scroll.onePageNav")}},i.defaults=i.prototype.defaults,e.fn.onePageNav=function(e){return this.each(function(){new i(this,e).init()})}}(jQuery,window,document),function(e){var t=Array.prototype.slice,r=Array.prototype.splice,i={topSpacing:0,bottomSpacing:0,className:"is-sticky",wrapperClassName:"sticky-wrapper",center:!1,getWidthFrom:"",widthFromWrapper:!0,responsiveWidth:!1},a=e(window),n=e(document),o=[],s=a.height(),l=function(){for(var t=a.scrollTop(),r=n.height(),i=r-s,l=t>i?i-t:0,u=0;u<o.length;u++){var c=o[u],d=c.stickyWrapper.offset().top-c.topSpacing-l;if(c.stickyWrapper.css("height",c.stickyElement.outerHeight()),d>=t)null!==c.currentTop&&(c.stickyElement.css({width:"",position:"",top:""}),c.stickyElement.parent().removeClass(c.className),c.stickyElement.trigger("sticky-end",[c]),c.currentTop=null);else{var h=r-c.stickyElement.outerHeight()-c.topSpacing-c.bottomSpacing-t-l;if(0>h?h+=c.topSpacing:h=c.topSpacing,c.currentTop!=h){var y;c.getWidthFrom?y=e(c.getWidthFrom).width()||null:c.widthFromWrapper&&(y=c.stickyWrapper.width()),null==y&&(y=c.stickyElement.width()),c.stickyElement.css("width",y).css("position","fixed").css("top",h),c.stickyElement.parent().addClass(c.className),null===c.currentTop?c.stickyElement.trigger("sticky-start",[c]):c.stickyElement.trigger("sticky-update",[c]),c.currentTop===c.topSpacing&&c.currentTop>h||null===c.currentTop&&h<c.topSpacing?c.stickyElement.trigger("sticky-bottom-reached",[c]):null!==c.currentTop&&h===c.topSpacing&&c.currentTop<h&&c.stickyElement.trigger("sticky-bottom-unreached",[c]),c.currentTop=h}}}},u=function(){s=a.height();for(var t=0;t<o.length;t++){var r=o[t],i=null;r.getWidthFrom?!0===r.responsiveWidth&&(i=e(r.getWidthFrom).width()):r.widthFromWrapper&&(i=r.stickyWrapper.width()),null!=i&&r.stickyElement.css("width",i)}},c={init:function(t){var r=e.extend({},i,t);return this.each(function(){var t=e(this),a=t.attr("id"),n=t.outerHeight(),s=a?a+"-"+i.wrapperClassName:i.wrapperClassName,l=e("<div></div>").attr("id",s).addClass(r.wrapperClassName);t.wrapAll(l);var u=t.parent();r.center&&u.css({width:t.outerWidth(),marginLeft:"auto",marginRight:"auto"}),"right"==t.css("float")&&t.css({float:"none"}).parent().css({float:"right"}),u.css("height",n),r.stickyElement=t,r.stickyWrapper=u,r.currentTop=null,o.push(r)})},update:l,unstick:function(){return this.each(function(){for(var t=this,i=e(t),a=-1,n=o.length;n-- >0;)o[n].stickyElement.get(0)===t&&(r.call(o,n,1),a=n);-1!=a&&(i.unwrap(),i.css({width:"",position:"",top:"",float:""}))})}};window.addEventListener?(window.addEventListener("scroll",l,!1),window.addEventListener("resize",u,!1)):window.attachEvent&&(window.attachEvent("onscroll",l),window.attachEvent("onresize",u)),e.fn.sticky=function(r){return c[r]?c[r].apply(this,t.call(arguments,1)):"object"!=typeof r&&r?void e.error("Method "+r+" does not exist on jQuery.sticky"):c.init.apply(this,arguments)},e.fn.unstick=function(r){return c[r]?c[r].apply(this,t.call(arguments,1)):"object"!=typeof r&&r?void e.error("Method "+r+" does not exist on jQuery.sticky"):c.unstick.apply(this,arguments)},e(function(){setTimeout(l,0)})}(jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){e.extend(e.fn,{validate:function(t){if(this.length){var r=e.data(this[0],"validator");return r||(this.attr("novalidate","novalidate"),r=new e.validator(t,this[0]),e.data(this[0],"validator",r),r.settings.onsubmit&&(this.on("click.validate",":submit",function(t){r.settings.submitHandler&&(r.submitButton=t.target),e(this).hasClass("cancel")&&(r.cancelSubmit=!0),void 0!==e(this).attr("formnovalidate")&&(r.cancelSubmit=!0)}),this.on("submit.validate",function(t){function i(){var i,a;return!r.settings.submitHandler||(r.submitButton&&(i=e("<input type='hidden'/>").attr("name",r.submitButton.name).val(e(r.submitButton).val()).appendTo(r.currentForm)),a=r.settings.submitHandler.call(r,r.currentForm,t),r.submitButton&&i.remove(),void 0!==a&&a)}return r.settings.debug&&t.preventDefault(),r.cancelSubmit?(r.cancelSubmit=!1,i()):r.form()?r.pendingRequest?(r.formSubmitted=!0,!1):i():(r.focusInvalid(),!1)})),r)}t&&t.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing.")},valid:function(){var t,r,i;return e(this[0]).is("form")?t=this.validate().form():(i=[],t=!0,r=e(this[0].form).validate(),this.each(function(){(t=r.element(this)&&t)||(i=i.concat(r.errorList))}),r.errorList=i),t},rules:function(t,r){if(this.length){var i,a,n,o,s,l,u=this[0];if(t)switch(i=e.data(u.form,"validator").settings,a=i.rules,n=e.validator.staticRules(u),t){case"add":e.extend(n,e.validator.normalizeRule(r)),delete n.messages,a[u.name]=n,r.messages&&(i.messages[u.name]=e.extend(i.messages[u.name],r.messages));break;case"remove":return r?(l={},e.each(r.split(/\s/),function(t,r){l[r]=n[r],delete n[r],"required"===r&&e(u).removeAttr("aria-required")}),l):(delete a[u.name],n)}return(o=e.validator.normalizeRules(e.extend({},e.validator.classRules(u),e.validator.attributeRules(u),e.validator.dataRules(u),e.validator.staticRules(u)),u)).required&&(s=o.required,delete o.required,o=e.extend({required:s},o),e(u).attr("aria-required","true")),o.remote&&(s=o.remote,delete o.remote,o=e.extend(o,{remote:s})),o}}}),e.extend(e.expr[":"],{blank:function(t){return!e.trim(""+e(t).val())},filled:function(t){var r=e(t).val();return null!==r&&!!e.trim(""+r)},unchecked:function(t){return!e(t).prop("checked")}}),e.validator=function(t,r){this.settings=e.extend(!0,{},e.validator.defaults,t),this.currentForm=r,this.init()},e.validator.format=function(t,r){return 1===arguments.length?function(){var r=e.makeArray(arguments);return r.unshift(t),e.validator.format.apply(this,r)}:void 0===r?t:(arguments.length>2&&r.constructor!==Array&&(r=e.makeArray(arguments).slice(1)),r.constructor!==Array&&(r=[r]),e.each(r,function(e,r){t=t.replace(new RegExp("\\{"+e+"\\}","g"),function(){return r})}),t)},e.extend(e.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",pendingClass:"pending",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:e([]),errorLabelContainer:e([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(e){this.lastActive=e,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,e,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(e)))},onfocusout:function(e){this.checkable(e)||!(e.name in this.submitted)&&this.optional(e)||this.element(e)},onkeyup:function(t,r){var i=[16,17,18,20,35,36,37,38,39,40,45,144,225];9===r.which&&""===this.elementValue(t)||-1!==e.inArray(r.keyCode,i)||(t.name in this.submitted||t.name in this.invalid)&&this.element(t)},onclick:function(e){e.name in this.submitted?this.element(e):e.parentNode.name in this.submitted&&this.element(e.parentNode)},highlight:function(t,r,i){"radio"===t.type?this.findByName(t.name).addClass(r).removeClass(i):e(t).addClass(r).removeClass(i)},unhighlight:function(t,r,i){"radio"===t.type?this.findByName(t.name).removeClass(r).addClass(i):e(t).removeClass(r).addClass(i)}},setDefaults:function(t){e.extend(e.validator.defaults,t)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date ( ISO ).",number:"Please enter a valid number.",digits:"Please enter only digits.",equalTo:"Please enter the same value again.",maxlength:e.validator.format("Please enter no more than {0} characters."),minlength:e.validator.format("Please enter at least {0} characters."),rangelength:e.validator.format("Please enter a value between {0} and {1} characters long."),range:e.validator.format("Please enter a value between {0} and {1}."),max:e.validator.format("Please enter a value less than or equal to {0}."),min:e.validator.format("Please enter a value greater than or equal to {0}."),step:e.validator.format("Please enter a multiple of {0}.")},autoCreateRanges:!1,prototype:{init:function(){function t(t){var r=e.data(this.form,"validator"),i="on"+t.type.replace(/^validate/,""),a=r.settings;a[i]&&!e(this).is(a.ignore)&&a[i].call(r,this,t)}this.labelContainer=e(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||e(this.currentForm),this.containers=e(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var r,i=this.groups={};e.each(this.settings.groups,function(t,r){"string"==typeof r&&(r=r.split(/\s/)),e.each(r,function(e,r){i[r]=t})}),r=this.settings.rules,e.each(r,function(t,i){r[t]=e.validator.normalizeRule(i)}),e(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox'], [contenteditable]",t).on("click.validate","select, option, [type='radio'], [type='checkbox']",t),this.settings.invalidHandler&&e(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler),e(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function(){return this.checkForm(),e.extend(this.submitted,this.errorMap),this.invalid=e.extend({},this.errorMap),this.valid()||e(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var e=0,t=this.currentElements=this.elements();t[e];e++)this.check(t[e]);return this.valid()},element:function(t){var r,i,a=this.clean(t),n=this.validationTargetFor(a),o=this,s=!0;return void 0===n?delete this.invalid[a.name]:(this.prepareElement(n),this.currentElements=e(n),(i=this.groups[n.name])&&e.each(this.groups,function(e,t){t===i&&e!==n.name&&(a=o.validationTargetFor(o.clean(o.findByName(e))))&&a.name in o.invalid&&(o.currentElements.push(a),s=s&&o.check(a))}),r=!1!==this.check(n),s=s&&r,this.invalid[n.name]=!r,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),e(t).attr("aria-invalid",!r)),s},showErrors:function(t){if(t){var r=this;e.extend(this.errorMap,t),this.errorList=e.map(this.errorMap,function(e,t){return{message:e,element:r.findByName(t)[0]}}),this.successList=e.grep(this.successList,function(e){return!(e.name in t)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){e.fn.resetForm&&e(this.currentForm).resetForm(),this.invalid={},this.submitted={},this.prepareForm(),this.hideErrors();var t=this.elements().removeData("previousValue").removeAttr("aria-invalid");this.resetElements(t)},resetElements:function(e){var t;if(this.settings.unhighlight)for(t=0;e[t];t++)this.settings.unhighlight.call(this,e[t],this.settings.errorClass,""),this.findByName(e[t].name).removeClass(this.settings.validClass);else e.removeClass(this.settings.errorClass).removeClass(this.settings.validClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(e){var t,r=0;for(t in e)e[t]&&r++;return r},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(e){e.not(this.containers).text(""),this.addWrapper(e).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{e(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(e){}},findLastActive:function(){var t=this.lastActive;return t&&1===e.grep(this.errorList,function(e){return e.element.name===t.name}).length&&t},elements:function(){var t=this,r={};return e(this.currentForm).find("input, select, textarea, [contenteditable]").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){var i=this.name||e(this).attr("name");return!i&&t.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.hasAttribute("contenteditable")&&(this.form=e(this).closest("form")[0]),!(i in r||!t.objectLength(e(this).rules()))&&(r[i]=!0,!0)})},clean:function(t){return e(t)[0]},errors:function(){var t=this.settings.errorClass.split(" ").join(".");return e(this.settings.errorElement+"."+t,this.errorContext)},resetInternals:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=e([]),this.toHide=e([])},reset:function(){this.resetInternals(),this.currentElements=e([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(e){this.reset(),this.toHide=this.errorsFor(e)},elementValue:function(t){var r,i,a=e(t),n=t.type;return"radio"===n||"checkbox"===n?this.findByName(t.name).filter(":checked").val():"number"===n&&void 0!==t.validity?t.validity.badInput?"NaN":a.val():(r=t.hasAttribute("contenteditable")?a.text():a.val(),"file"===n?"C:\\fakepath\\"===r.substr(0,12)?r.substr(12):(i=r.lastIndexOf("/"))>=0?r.substr(i+1):(i=r.lastIndexOf("\\"))>=0?r.substr(i+1):r:"string"==typeof r?r.replace(/\r/g,""):r)},check:function(t){t=this.validationTargetFor(this.clean(t));var r,i,a,n=e(t).rules(),o=e.map(n,function(e,t){return t}).length,s=!1,l=this.elementValue(t);if("function"==typeof n.normalizer){if("string"!=typeof(l=n.normalizer.call(t,l)))throw new TypeError("The normalizer should return a string value.");delete n.normalizer}for(i in n){a={method:i,parameters:n[i]};try{if("dependency-mismatch"===(r=e.validator.methods[i].call(this,l,t,a.parameters))&&1===o){s=!0;continue}if(s=!1,"pending"===r)return void(this.toHide=this.toHide.not(this.errorsFor(t)));if(!r)return this.formatAndAdd(t,a),!1}catch(e){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+t.id+", check the '"+a.method+"' method.",e),e instanceof TypeError&&(e.message+=".  Exception occurred when checking element "+t.id+", check the '"+a.method+"' method."),e}}if(!s)return this.objectLength(n)&&this.successList.push(t),!0},customDataMessage:function(t,r){return e(t).data("msg"+r.charAt(0).toUpperCase()+r.substring(1).toLowerCase())||e(t).data("msg")},customMessage:function(e,t){var r=this.settings.messages[e];return r&&(r.constructor===String?r:r[t])},findDefined:function(){for(var e=0;e<arguments.length;e++)if(void 0!==arguments[e])return arguments[e]},defaultMessage:function(t,r){var i=this.findDefined(this.customMessage(t.name,r.method),this.customDataMessage(t,r.method),!this.settings.ignoreTitle&&t.title||void 0,e.validator.messages[r.method],"<strong>Warning: No message defined for "+t.name+"</strong>"),a=/\$?\{(\d+)\}/g;return"function"==typeof i?i=i.call(this,r.parameters,t):a.test(i)&&(i=e.validator.format(i.replace(a,"{$1}"),r.parameters)),i},formatAndAdd:function(e,t){var r=this.defaultMessage(e,t);this.errorList.push({message:r,element:e,method:t.method}),this.errorMap[e.name]=r,this.submitted[e.name]=r},addWrapper:function(e){return this.settings.wrapper&&(e=e.add(e.parent(this.settings.wrapper))),e},defaultShowErrors:function(){var e,t,r;for(e=0;this.errorList[e];e++)r=this.errorList[e],this.settings.highlight&&this.settings.highlight.call(this,r.element,this.settings.errorClass,this.settings.validClass),this.showLabel(r.element,r.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(e=0;this.successList[e];e++)this.showLabel(this.successList[e]);if(this.settings.unhighlight)for(e=0,t=this.validElements();t[e];e++)this.settings.unhighlight.call(this,t[e],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return e(this.errorList).map(function(){return this.element})},showLabel:function(t,r){var i,a,n,o,s=this.errorsFor(t),l=this.idOrName(t),u=e(t).attr("aria-describedby");s.length?(s.removeClass(this.settings.validClass).addClass(this.settings.errorClass),s.html(r)):(s=e("<"+this.settings.errorElement+">").attr("id",l+"-error").addClass(this.settings.errorClass).html(r||""),i=s,this.settings.wrapper&&(i=s.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(i):this.settings.errorPlacement?this.settings.errorPlacement(i,e(t)):i.insertAfter(t),s.is("label")?s.attr("for",l):0===s.parents("label[for='"+this.escapeCssMeta(l)+"']").length&&(n=s.attr("id"),u?u.match(new RegExp("\\b"+this.escapeCssMeta(n)+"\\b"))||(u+=" "+n):u=n,e(t).attr("aria-describedby",u),(a=this.groups[t.name])&&(o=this,e.each(o.groups,function(t,r){r===a&&e("[name='"+o.escapeCssMeta(t)+"']",o.currentForm).attr("aria-describedby",s.attr("id"))})))),!r&&this.settings.success&&(s.text(""),"string"==typeof this.settings.success?s.addClass(this.settings.success):this.settings.success(s,t)),this.toShow=this.toShow.add(s)},errorsFor:function(t){var r=this.escapeCssMeta(this.idOrName(t)),i=e(t).attr("aria-describedby"),a="label[for='"+r+"'], label[for='"+r+"'] *";return i&&(a=a+", #"+this.escapeCssMeta(i).replace(/\s+/g,", #")),this.errors().filter(a)},escapeCssMeta:function(e){return e.replace(/([\\!"#$%&'()*+,./:;<=>?@\[\]^`{|}~])/g,"\\$1")},idOrName:function(e){return this.groups[e.name]||(this.checkable(e)?e.name:e.id||e.name)},validationTargetFor:function(t){return this.checkable(t)&&(t=this.findByName(t.name)),e(t).not(this.settings.ignore)[0]},checkable:function(e){return/radio|checkbox/i.test(e.type)},findByName:function(t){return e(this.currentForm).find("[name='"+this.escapeCssMeta(t)+"']")},getLength:function(t,r){switch(r.nodeName.toLowerCase()){case"select":return e("option:selected",r).length;case"input":if(this.checkable(r))return this.findByName(r.name).filter(":checked").length}return t.length},depend:function(e,t){return!this.dependTypes[typeof e]||this.dependTypes[typeof e](e,t)},dependTypes:{boolean:function(e){return e},string:function(t,r){return!!e(t,r.form).length},function:function(e,t){return e(t)}},optional:function(t){var r=this.elementValue(t);return!e.validator.methods.required.call(this,r,t)&&"dependency-mismatch"},startRequest:function(t){this.pending[t.name]||(this.pendingRequest++,e(t).addClass(this.settings.pendingClass),this.pending[t.name]=!0)},stopRequest:function(t,r){--this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[t.name],e(t).removeClass(this.settings.pendingClass),r&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(e(this.currentForm).submit(),this.formSubmitted=!1):!r&&0===this.pendingRequest&&this.formSubmitted&&(e(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(t,r){return e.data(t,"previousValue")||e.data(t,"previousValue",{old:null,valid:!0,message:this.defaultMessage(t,{method:r})})},destroy:function(){this.resetForm(),e(this.currentForm).off(".validate").removeData("validator").find(".validate-equalTo-blur").off(".validate-equalTo").removeClass("validate-equalTo-blur")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(t,r){t.constructor===String?this.classRuleSettings[t]=r:e.extend(this.classRuleSettings,t)},classRules:function(t){var r={},i=e(t).attr("class");return i&&e.each(i.split(" "),function(){this in e.validator.classRuleSettings&&e.extend(r,e.validator.classRuleSettings[this])}),r},normalizeAttributeRule:function(e,t,r,i){/min|max|step/.test(r)&&(null===t||/number|range|text/.test(t))&&(i=Number(i),isNaN(i)&&(i=void 0)),i||0===i?e[r]=i:t===r&&"range"!==t&&(e[r]=!0)},attributeRules:function(t){var r,i,a={},n=e(t),o=t.getAttribute("type");for(r in e.validator.methods)"required"===r?(""===(i=t.getAttribute(r))&&(i=!0),i=!!i):i=n.attr(r),this.normalizeAttributeRule(a,o,r,i);return a.maxlength&&/-1|2147483647|524288/.test(a.maxlength)&&delete a.maxlength,a},dataRules:function(t){var r,i,a={},n=e(t),o=t.getAttribute("type");for(r in e.validator.methods)i=n.data("rule"+r.charAt(0).toUpperCase()+r.substring(1).toLowerCase()),this.normalizeAttributeRule(a,o,r,i);return a},staticRules:function(t){var r={},i=e.data(t.form,"validator");return i.settings.rules&&(r=e.validator.normalizeRule(i.settings.rules[t.name])||{}),r},normalizeRules:function(t,r){return e.each(t,function(i,a){if(!1!==a){if(a.param||a.depends){var n=!0;switch(typeof a.depends){case"string":n=!!e(a.depends,r.form).length;break;case"function":n=a.depends.call(r,r)}n?t[i]=void 0===a.param||a.param:(e.data(r.form,"validator").resetElements(e(r)),delete t[i])}}else delete t[i]}),e.each(t,function(i,a){t[i]=e.isFunction(a)&&"normalizer"!==i?a(r):a}),e.each(["minlength","maxlength"],function(){t[this]&&(t[this]=Number(t[this]))}),e.each(["rangelength","range"],function(){var r;t[this]&&(e.isArray(t[this])?t[this]=[Number(t[this][0]),Number(t[this][1])]:"string"==typeof t[this]&&(r=t[this].replace(/[\[\]]/g,"").split(/[\s,]+/),t[this]=[Number(r[0]),Number(r[1])]))}),e.validator.autoCreateRanges&&(null!=t.min&&null!=t.max&&(t.range=[t.min,t.max],delete t.min,delete t.max),null!=t.minlength&&null!=t.maxlength&&(t.rangelength=[t.minlength,t.maxlength],delete t.minlength,delete t.maxlength)),t},normalizeRule:function(t){if("string"==typeof t){var r={};e.each(t.split(/\s/),function(){r[this]=!0}),t=r}return t},addMethod:function(t,r,i){e.validator.methods[t]=r,e.validator.messages[t]=void 0!==i?i:e.validator.messages[t],r.length<3&&e.validator.addClassRules(t,e.validator.normalizeRule(t))},methods:{required:function(t,r,i){if(!this.depend(i,r))return"dependency-mismatch";if("select"===r.nodeName.toLowerCase()){var a=e(r).val();return a&&a.length>0}return this.checkable(r)?this.getLength(t,r)>0:t.length>0},email:function(e,t){return this.optional(t)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(e)},url:function(e,t){return this.optional(t)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(e)},date:function(e,t){return this.optional(t)||!/Invalid|NaN/.test(new Date(e).toString())},dateISO:function(e,t){return this.optional(t)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(e)},number:function(e,t){return this.optional(t)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(e)},digits:function(e,t){return this.optional(t)||/^\d+$/.test(e)},minlength:function(t,r,i){var a=e.isArray(t)?t.length:this.getLength(t,r);return this.optional(r)||a>=i},maxlength:function(t,r,i){var a=e.isArray(t)?t.length:this.getLength(t,r);return this.optional(r)||i>=a},rangelength:function(t,r,i){var a=e.isArray(t)?t.length:this.getLength(t,r);return this.optional(r)||a>=i[0]&&a<=i[1]},min:function(e,t,r){return this.optional(t)||e>=r},max:function(e,t,r){return this.optional(t)||r>=e},range:function(e,t,r){return this.optional(t)||e>=r[0]&&e<=r[1]},step:function(t,r,i){var a=e(r).attr("type"),n="Step attribute on input type "+a+" is not supported.",o=["text","number","range"],s=new RegExp("\\b"+a+"\\b");if(a&&!s.test(o.join()))throw new Error(n);return this.optional(r)||t%i==0},equalTo:function(t,r,i){var a=e(i);return this.settings.onfocusout&&a.not(".validate-equalTo-blur").length&&a.addClass("validate-equalTo-blur").on("blur.validate-equalTo",function(){e(r).valid()}),t===a.val()},remote:function(t,r,i,a){if(this.optional(r))return"dependency-mismatch";a="string"==typeof a&&a||"remote";var n,o,s,l=this.previousValue(r,a);return this.settings.messages[r.name]||(this.settings.messages[r.name]={}),l.originalMessage=l.originalMessage||this.settings.messages[r.name][a],this.settings.messages[r.name][a]=l.message,i="string"==typeof i&&{url:i}||i,s=e.param(e.extend({data:t},i.data)),l.old===s?l.valid:(l.old=s,n=this,this.startRequest(r),o={},o[r.name]=t,e.ajax(e.extend(!0,{mode:"abort",port:"validate"+r.name,dataType:"json",data:o,context:n.currentForm,success:function(e){var i,o,s,u=!0===e||"true"===e;n.settings.messages[r.name][a]=l.originalMessage,u?(s=n.formSubmitted,n.resetInternals(),n.toHide=n.errorsFor(r),n.formSubmitted=s,n.successList.push(r),n.invalid[r.name]=!1,n.showErrors()):(i={},o=e||n.defaultMessage(r,{method:a,parameters:t}),i[r.name]=l.message=o,n.invalid[r.name]=!0,n.showErrors(i)),l.valid=u,n.stopRequest(r,u)}},i)),"pending")}}});var t,r={};e.ajaxPrefilter?e.ajaxPrefilter(function(e,t,i){var a=e.port;"abort"===e.mode&&(r[a]&&r[a].abort(),r[a]=i)}):(t=e.ajax,e.ajax=function(i){var a=("mode"in i?i:e.ajaxSettings).mode,n=("port"in i?i:e.ajaxSettings).port;return"abort"===a?(r[n]&&r[n].abort(),r[n]=t.apply(this,arguments),r[n]):t.apply(this,arguments)})});